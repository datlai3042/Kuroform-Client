"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7410],{3345:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},3441:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7805:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5005:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},1049:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},8670:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9910:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},489:function(e,t,a){a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(843).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4431:function(e,t,a){a.r(t),a.d(t,{SidebarContext:function(){return s}});var r=a(7437),n=a(2265);let s=(0,n.createContext)({openSidebar:!0,setOpenSidebar:()=>{}});t.default=e=>{let{children:t}=e,[a,c]=(0,n.useState)(!0);return(0,r.jsx)(s.Provider,{value:{openSidebar:a,setOpenSidebar:c},children:t})}},7410:function(e,t,a){a.d(t,{Z:function(){return q}});var r=a(7437),n=a(2265),s=a(4431),c=a(5005),o=a(8670),i=a(9910),l=a(8792),m=a(7907),u=a(703),d=a(828),f=a(8085),h=a(5292),x=a(4903);c.Z,u.default,u.default;var p=()=>{let{theme:e}=(0,n.useContext)(f.ThemeContext),t=(0,d.v9)(e=>e.authReducer.user),a=(0,d.v9)(e=>e.form.focus_search);(0,m.useRouter)();let s=(0,m.usePathname)(),u=(0,d.I0)();null==t||t.user_atlas;let p="light"===e?"text-text-theme hover:text-[#fff]":"!text-text-theme ";return(0,r.jsxs)("div",{className:"flex flex-col gap-[.8rem] text-[1.4rem] ",children:[(0,r.jsxs)(l.default,{href:"/",className:"nav ".concat(p," ").concat("/dashboard"!==s||a?"nav__normal  ":"nav__isActive"," group  "),children:[(0,r.jsx)(c.Z,{size:18}),(0,r.jsx)("span",{className:"font-medium",children:"Trang chủ"})]}),(0,r.jsxs)("button",{onClick:()=>{u((0,h.vx)({focus:!0}))},className:"nav ".concat(p," ").concat(a?"nav__isActive":"nav__normal text-text-theme"," group hover:text-[#fff] "),children:[(0,r.jsx)(o.Z,{size:18}),(0,r.jsx)("span",{className:"font-medium",children:"T\xecm kiếm"})]}),(0,r.jsxs)(l.default,{href:"/settings",className:"nav ".concat(p," ").concat("/settings"!==s||a?"nav__normal text-text-theme":"nav__isActive"," group hover:text-[#fff]"),children:[(0,r.jsx)(i.Z,{size:18}),(0,r.jsx)("span",{className:"font-medium",children:"C\xe0i đặt"})]}),(0,r.jsx)(x.default,{className:"".concat(p," nav nav__normal ")})]})},v=a(3441),g=a(7805),y=a(6992),Z=a(7300),j=a(8203),_=e=>{var t,a;let{formCore:s}=e,{theme:c}=(0,n.useContext)(f.ThemeContext);return(0,r.jsxs)(r.Fragment,{children:[(null===(t=s.form_avatar)||void 0===t?void 0:t.form_avatar_url)?(0,r.jsx)(u.default,{src:(null===(a=s.form_avatar)||void 0===a?void 0:a.form_avatar_url)||"",width:18,height:18,alt:"icon",className:"w-[3rem] h-[3rem] rounded-full",unoptimized:!0}):(0,r.jsx)("div",{className:"".concat("light"===c?"bg-transparent":"bg-[#fff]","  min-w-[3rem] h-[3rem] rounded-full flex items-center justify-center"),children:(0,r.jsx)(u.default,{src:"/icon_core.png",width:20,height:20,alt:"avatar",unoptimized:!0,className:"w-[2rem] h-[2rem] "})}),(0,r.jsx)("p",{className:"max-w-[80%] truncate ",children:s.form_title.form_title_value||"Chưa tạo ti\xeau đề"})]})},b=()=>{let[e,t]=(0,n.useState)(!1),{forms:a,pending:s,success:c}=(0,Z.Z)(),{theme:o}=(0,n.useContext)(f.ThemeContext),i=(0,n.useRef)(null),u=(0,n.useRef)(null),d=(0,m.usePathname)(),h=e?(0,r.jsx)(v.Z,{className:"w-[1.4rem] text-[#fff] "}):(0,r.jsx)(g.Z,{className:"w-[1.4rem] text-[#fff] "}),x="dark"===o?"hover:bg-blue-400 scroll-color-main":"hover:bg-blue-100 scroll-common",p=d.startsWith("/form")&&(null==d?void 0:d.split("/form")[1].split("/edit")[0].slice(1));return(0,n.useEffect)(()=>{a.map(e=>{if(e._id===p)return t(!0)})},[d,a]),(0,n.useEffect)(()=>{e&&u.current&&i.current&&(i.current.scrollTop=u.current.offsetTop)},[d,e]),(0,r.jsxs)("div",{className:"pl-[.6rem]  flex flex-col gap-[.6rem] hover:cursor-pointer",onClick:()=>t(e=>!e),children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-[1.3rem] text-[rgb(137_136_132)]",children:"Nơi l\xe0m việc"}),(0,r.jsxs)("div",{className:"nav ".concat(d.startsWith("/form")?"nav__isActive":"nav__normal !text-text-theme "," group p-[.1rem] flex items-center gap-[1rem] text-text-theme"),children:[(0,r.jsx)(y.Z,{Icon:h,className:"".concat(({onCheckFocus:e=>e?"bg-blue-400 text-[#fff] outline outline-[2px] outline-blue-200":"hover:border-[.1rem] hover:border-text-theme"}).onCheckFocus(e)," flex bg-color-main rounded-lg !w-[1.4rem] !h-[1.4rem]")}),(0,r.jsx)("span",{className:"group-hover:!text-[#fff]",children:"Nơi l\xe0m việc"})]}),e&&a.length>0&&(0,r.jsx)("div",{ref:i,className:"".concat("dark"===o?"scroll-color-main":"scroll-common"," ml-[1rem]  h-[17vh]  transition-[height] duration-500 overflow-y-scroll  flex flex-col gap-[1.4rem] text-text-them e pr-[2rem]"),children:a.map(e=>p==e._id?(0,r.jsx)(l.default,{ref:u,href:"/form/".concat(e._id,"/edit"),className:"".concat(x," ").concat(p===e._id?"bg-color-main text-[#fff] ":""," flex items-center w-full h-[4rem]  gap-[1rem] text-[1.4rem]  p-[.6rem_1rem] rounded-xl"),children:(0,r.jsx)(_,{formCore:e})},e._id):(0,r.jsx)(l.default,{href:"/form/".concat(e._id,"/edit"),className:"".concat(x," ").concat(p===e._id?"bg-color-main":""," flex items-center w-full h-[5rem]  gap-[1rem] text-[1.4rem]  p-[.6rem_1rem] "),children:(0,r.jsx)(_,{formCore:e})},e._id))}),e&&0===a.length&&(0,r.jsx)("div",{className:"p-[.4rem_2rem] text-[1.3rem] text-gray-400",children:"Danh s\xe1ch hiện đang trống"})]}),s&&(0,r.jsx)("div",{className:"w-full h-[2rem]",children:(0,r.jsx)(j.Z,{})})]})},k=a(3345),N=a(489),w=()=>{let{theme:e}=(0,n.useContext)(f.ThemeContext),t=(0,m.usePathname)(),a="light"===e?"text-text-theme hover:text-[#fff]":"!text-text-theme ";return(0,r.jsxs)("div",{className:" flex flex-col gap-[.6rem] text-text-theme ",children:[(0,r.jsx)("p",{className:"pl-[.6rem] text-[1.2rem] ",children:"C\xe1c đường dẫn kh\xe1c"}),(0,r.jsxs)(l.default,{href:"/notification",className:"nav ".concat(a," ").concat("/notification"===t?"nav__isActive":"nav__normal ","  "),children:[(0,r.jsx)(k.Z,{size:18}),(0,r.jsx)("span",{className:"font-medium ",children:"Quản l\xed th\xf4ng b\xe1o"})]}),(0,r.jsxs)(l.default,{href:"/trash",className:"nav ".concat(a," ").concat("/trash"===t?"nav__isActive":"nav__normal ","  "),children:[(0,r.jsx)(N.Z,{}),(0,r.jsx)("span",{className:"font-medium ",children:"Th\xf9ng r\xe1c"})]})]})},C=a(3667),F=a(1547),S=a(6288);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,a(843).Z)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);var z=a(4449),I=()=>{let e=(0,d.I0)(),{setOpenSidebar:t}=(0,n.useContext)(s.SidebarContext),{theme:a}=(0,n.useContext)(f.ThemeContext),c=(0,C.a)({queryKey:["/me"],queryFn:()=>F.Z.me()});return(0,n.useEffect)(()=>{if(c.isSuccess){let{user:t}=c.data.metadata;e((0,S.LT)({user:t}))}},[c.isSuccess,e]),(0,r.jsxs)("div",{className:"".concat("dark"===a?"scroll-color-main":"scroll-common"," overflow-auto max-h-[97%]  p-[1rem] flex flex-col gap-[1rem] text-text-theme text-[1.4rem]"),children:[(0,r.jsxs)("div",{className:"relative w-full mb-[1rem] flex items-center justify-center gap-[1rem]",children:[(0,r.jsx)(z.Z,{}),(0,r.jsx)(y.Z,{Icon:(0,r.jsx)(T,{className:"w-[1.4rem]"}),onClick:()=>t(!1),className:" absolute top-[1rem] right-[1rem] bg-transparent hover:bg-color-main text-text-theme hover:text-[#fff] rounded-lg"})]}),(0,r.jsx)(p,{}),(0,r.jsxs)("div",{className:"mt-[1rem] flex flex-col gap-[1.8rem] text-[1.4rem]",children:[(0,r.jsx)(b,{}),(0,r.jsx)(w,{})]})]})},q=e=>{let{children:t}=e,{openSidebar:a}=(0,n.useContext)(s.SidebarContext),c=(0,m.usePathname)();return(0,r.jsxs)("div",{className:"".concat("/dashboard"===c?"gap-[1rem]":""," relative max-w-screen min-h-screen h-max w-full   flex  "),children:[a&&(0,r.jsx)("aside",{className:"".concat(a?"hidden sm:block":"hidden   sm:block "," sticky top-0 z-[2] w-[0%] xl:w-[19rem] xl:min-w-[19rem] h-[100vh] overflow-hidden transition-[width]  duration-1000  bg-color-section-theme"),children:a&&(0,r.jsx)(I,{})}),(0,r.jsx)("div",{className:"".concat(({onCheckSidebar:e=>e?"w-screen  xl:w-[calc(100vw-24rem-1rem)]    duration-[300ms] min-h-screen":"w-full inset-0 duration-[600ms]"}).onCheckSidebar(a)," flex-1  min-h-full h-max transition-all   "),children:t})]})}},4449:function(e,t,a){var r=a(7437),n=a(703),s=a(8792);a(2265),t.Z=()=>(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)(n.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[15rem] h-[12rem] object-contain",unoptimized:!0,priority:!0})})},8085:function(e,t,a){a.r(t),a.d(t,{ThemeContext:function(){return s}});var r=a(7437),n=a(2265);let s=(0,n.createContext)({theme:"dark",setTheme:()=>{}});t.default=e=>{let{children:t}=e,[a,c]=(0,n.useState)("light");return(0,n.useEffect)(()=>{if("dark"===a){document.body.classList.remove("light"),document.body.classList.add("dark");return}return document.body.classList.add("light"),document.body.classList.remove("dark"),()=>{}},[a]),(0,r.jsx)(s.Provider,{value:{theme:a,setTheme:c},children:t})}},6715:function(e,t,a){var r=a(7437);a(2265),t.Z=e=>{let{children:t,...a}=e;return(0,r.jsx)("div",{...a,children:t})}},6992:function(e,t,a){var r=a(7437);a(2265),t.Z=e=>{let{textContent:t,Icon:a,...n}=e;return(0,r.jsxs)("button",{...n,className:"".concat(n.className||""," min-w-[3rem] min-h-[3rem] w-max h-max flex justify-center items-center gap-[.5rem] "),children:[t&&t,a]})}},4903:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var r=a(7437),n=a(9698),s=a(568),c=a(7907),o=()=>{let e=(0,c.useRouter)();return(0,s.D)({mutationKey:["logout"],mutationFn:()=>n.Z.logoutNextClient(),onSuccess:()=>{e.push("/")}})},i=a(1049);a(2265);var l=e=>{let{textContent:t="Đăng xuất",...a}=e,n=o();return(0,r.jsxs)("button",{...a,onClick:()=>n.mutate(),children:[(0,r.jsx)(i.Z,{size:18}),t]})}},8203:function(e,t,a){var r=a(7437);a(2265);var n=a(6715);t.Z=()=>(0,r.jsx)(n.Z,{className:"w-full h-full animate-pulse bg-gray-200"})},5137:function(e,t,a){var r=a(2970);class n{static async createForm(){return r.Z.post("/v1/api/form/create-form",{})}static async getAllForm(){return r.Z.get("/v1/api/form/get-all-form",{cache:"no-store"})}static async getForms(){return r.Z.get("/v1/api/form/get-forms",{cache:"no-store"})}static async getForm(e){let{form_id:t}=e;return r.Z.get("/v1/api/form/get-form-id?form_id=".concat(t),{cache:"no-store"})}static async getSearch(e){let{text:t}=e;return r.Z.get("/v1/api/form/search?text=".concat(t))}static async getFormPagination(e){let{page:t,limit:a}=e;return r.Z.get("/v1/api/form/get-form-pagination?page=".concat(t,"&limit=").concat(a))}static async getAllFormState(){return r.Z.get("/v1/api/form/get-all-form-state")}static async getFormBaseOnDate(e){let{date_begin:t,date_over:a}=e;return r.Z.get("/v1/api/form/get-form-base-on-date?date_begin=".concat(t,"&date_over=").concat(a))}static async deleteFormForever(e){let{form_id:t}=e;return r.Z.delete("/v1/api/form/delete-form-forever?form_id=".concat(t))}static async setTitleForm(e){let{form_id:t,value:a}=e;return await r.Z.post("/v1/api/form/set-title-form",{form_id:t,value:a})}static async getListFormDelete(){return r.Z.get("/v1/api/form/get-list-form-delete",{cache:"no-cache"})}static async addSubTitleItem(e){let{type:t,form_id:a}=e;return r.Z.post("/v1/api/form/add-sub-title-item",{type:t,form_id:a})}static async deleteTitleSubItem(e){let{title_sub_id:t,form_id:a}=e;return r.Z.delete("/v1/api/form/delete-sub-title-item?form_id=".concat(a,"&title_sub_id=").concat(t))}static async changeModeForm(e){let{mode:t,form_id:a}=e;return r.Z.post("/v1/api/form/change-form-mode",{mode:t,form_id:a})}static async changeModeDisplay(e){let{mode:t,form_id:a}=e;return r.Z.post("/v1/api/form/change-mode-display",{mode:t,form_id:a})}static async updateSubTitle(e){let{form_title_sub_id:t,form_title_sub_content:a,form_id:n}=e;return r.Z.post("/v1/api/form/update-sub-title-text",{form_title_sub_content:a,form_title_sub_id:t,form_id:n})}static async updateSubTitleDescription(e){let{header_value:t,value:a,title_sub_id:n,form_id:s}=e;return r.Z.post("/v1/api/form/update-sub-title-description",{header_value:t,value:a,title_sub_id:n,form_id:s})}static async setModeImageForm(e){let{form_id:t,mode:a}=e;return r.Z.post("/v1/api/form/update-form-title-mode-image",{form_id:t,mode:a})}static async uploadTitleImage(e){return r.Z.post("/v1/api/form/upload-sub-title-image",e)}static async deleteFormId(e){let{form_id:t}=e;return r.Z.delete("/v1/api/form/delete-form-id?form_id=".concat(t))}static async getFormGuess(e){let{form_id:t,options:a}=e;return r.Z.get("/v1/api/form/get-form-guess?form_id=".concat(t),a)}static async updateInputItemForm(e,t){return r.Z.post("/v1/api/form/update-form",{inputItem:e,form:t})}static async updateForm(e){return r.Z.post("/v1/api/form/update-form",{form:e})}static async uploadCover(e){return r.Z.post("/v1/api/form/upload-cover",e)}static async uploadAvatar(e){return r.Z.post("/v1/api/form/upload-avatar",e)}static async deleteAvatar(e,t){return r.Z.post("/v1/api/form/delete-avatar",{form_id:e,mode:t})}static async deleteCover(e){return r.Z.post("/v1/api/form/delete-cover",{form_id:e})}static async updateSettingInput(e,t,a){return r.Z.post("/v1/api/form/update-input-item-setting",{form:e,input_id:t,input_id_setting:a})}static async addBackground(e){return r.Z.post("/v1/api/form/add-background",{form:e})}static async addAvatar(e){return r.Z.post("/v1/api/form/add-avatar",{form:e})}static async getInfoFormNotification(e){let{form_id:t,notification_id:a}=e;return r.Z.get("/v1/api/form/info-form-notification?form_id=".concat(t,"&notification_id=").concat(a))}}t.Z=n},1547:function(e,t,a){var r=a(2970);class n{static async me(){return r.Z.get("/v1/api/account/me",{credentials:"include"})}static async uploadAvatar(e){return r.Z.post("/v1/api/account/upload-avatar",e)}static async createPassword(e){let{password:t}=e;return r.Z.post("/v1/api/account/create-password",{password:t})}static async updatePassword(e){let{password:t,new_password:a}=e;return r.Z.post("/v1/api/account/update-password",{password:t,new_password:a})}}t.Z=n},7300:function(e,t,a){var r=a(3667),n=a(5137),s=a(2265);t.Z=()=>{let[e,t]=(0,s.useState)([]),a=(0,r.a)({queryKey:["get-forms"],queryFn:()=>n.Z.getForms()});return(0,s.useEffect)(()=>{if(a.isSuccess){let{forms:e}=a.data.metadata;t(e)}},[a.isSuccess,a.data]),{forms:e,pending:a.isPending,success:a.isSuccess}}}}]);