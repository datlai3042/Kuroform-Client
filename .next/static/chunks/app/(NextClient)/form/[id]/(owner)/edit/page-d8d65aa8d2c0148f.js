(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{2777:function(e,t,r){Promise.resolve().then(r.bind(r,2609))},4431:function(e,t,r){"use strict";r.r(t),r.d(t,{SidebarContext:function(){return o}});var n=r(7437),l=r(2265);let o=(0,l.createContext)({openSidebar:!0,setOpenSidebar:()=>{}});t.default=e=>{let{children:t}=e,[r,s]=(0,l.useState)(!0);return(0,n.jsx)(o.Provider,{value:{openSidebar:r,setOpenSidebar:s},children:t})}},2094:function(e,t,r){"use strict";r.d(t,{D:function(){return d},Z:function(){return f}});var n=r(7437),l=r(2265),o=r(828),s=r(5292),i=r(2235),a=r(9564),m=e=>{let{content:t,content_action:r,content_cancel:l,callbackAction:o,callbackCancel:s}=e;return(0,n.jsx)("div",{className:"fixed z-[500] inset-0 w-screen h-screen flex justify-center items-center bg-[rgba(0,0,0,.6)]",children:(0,n.jsx)("div",{className:"min-w-[30rem] min-h-[8rem]",children:(0,n.jsx)(a.Z,{setOpenModel:s,children:(0,n.jsxs)("div",{className:"relative min-w-[30rem] min-h-full h-max  bg-[#ffffff] rounded-lg text-[#000] p-[2rem] flex flex-col justify-between",children:[(0,n.jsx)("button",{onClick:()=>s(!1),className:"absolute right-[-1.5rem] top-[-1.5rem] w-[3rem] h-[3rem]  rounded-full bg-green-500 flex items-center justify-center",children:(0,n.jsx)(i.Z,{size:18,color:"white"})}),(0,n.jsx)("p",{className:"text-[1.4rem] text-justify leading-10",children:t}),(0,n.jsx)("div",{className:"mt-[2rem] flex gap-[1rem] ml-auto text-[1.3rem]",children:(0,n.jsx)("button",{onClick:o,className:"p-[1rem] h-[3rem] flex items-center justify-center bg-green-500 text-[#fff] rounded-lg",children:r})})]})})})})},c=r(525),u=()=>{let{isDesignForm:e,setOpenFormDesign:t,setIsDesginForm:r,setOpenModelNotSave:i}=(0,l.useContext)(d),a=(0,o.v9)(e=>e.form.formCoreBackUp),u=(0,o.v9)(e=>e.form.formCoreOriginal),f=(0,o.I0)(),x=(0,c.Z)();return(0,n.jsx)(m,{content:"Bạn chưa lưu c\xe1c thay đổi của m\xecnh",content_action:"Lưu",content_cancel:"Kh\xf4ng lưu",callbackCancel:()=>{f((0,s.ow)({form:a})),t(!1),r(!1),i(!1)},callbackAction:()=>{x.mutate(u),t(!1),r(!1),i(!1)}})};let d=(0,l.createContext)({isDesignForm:!1,openFormDesign:!1,openModelNotSave:!1,openDesignTitle:!1,setIsDesginForm:()=>{},setOpenFormDesign:()=>{},setOpenModelNotSave:()=>{},setOpenDesignTitle:()=>{}});var f=e=>{let{children:t}=e,[r,o]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[a,m]=(0,l.useState)(!1),[c,f]=(0,l.useState)(!1);return(0,n.jsxs)(d.Provider,{value:{isDesignForm:r,setIsDesginForm:o,openFormDesign:s,setOpenFormDesign:i,openModelNotSave:a,setOpenModelNotSave:m,openDesignTitle:c,setOpenDesignTitle:f},children:[a&&(0,n.jsx)(u,{}),t]})}},8085:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeContext:function(){return o}});var n=r(7437),l=r(2265);let o=(0,l.createContext)({theme:"dark",setTheme:()=>{}});t.default=e=>{let{children:t}=e,[r,s]=(0,l.useState)("light");return(0,l.useEffect)(()=>{if("dark"===r){document.body.classList.remove("light"),document.body.classList.add("dark");return}return document.body.classList.add("light"),document.body.classList.remove("dark"),()=>{}},[r]),(0,n.jsx)(o.Provider,{value:{theme:r,setTheme:s},children:t})}},6992:function(e,t,r){"use strict";var n=r(7437);r(2265),t.Z=e=>{let{textContent:t,Icon:r,...l}=e;return(0,n.jsxs)("button",{...l,className:"".concat(l.className||""," min-w-[3rem] min-h-[3rem] w-max h-max flex justify-center items-center gap-[.5rem] "),children:[t&&t,r]})}},6264:function(e,t,r){"use strict";var n=r(7437);r(2265),t.Z=e=>{let{onClose:t}=e;return(0,n.jsx)("button",{className:"w-[3rem] h-[3rem] xl:w-[4rem] xl:h-[4rem] bg-[#ffffff] flex items-center justify-center rounded-full shadow text-[12px] text-color-main font-semibold",onClick:()=>t(!1),children:"X"})}},2609:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rb}});var n=r(7437),l=r(2265),o=r(8385),s=r(4431),i=r(2094),a=r(3494),m=r(8085),c=r(2250),u=r(8654),d=r(136),f=r(5292),x=r(2970);class p{static async addInputSetTitle(e,t){return x.Z.post("/v1/api/form/add-input-to-title",{form:e,title:t})}static async addInput(e){let{form_id:t}=e;return x.Z.post("/v1/api/form/add-input",{form_id:t})}static async removeInputItem(e){let{form_id:t,input_id:r}=e;return x.Z.post("/v1/api/form/delete-input-item",{form_id:t,input_id:r})}static async setTitleInput(e){let{input_title_value:t,input_id:r,form:n}=e;return x.Z.post("/v1/api/form/update-title-input",{input_title_value:t,input_id:r,form:n})}static async addInputToEnter(e){let{form:t,input_id_target:r,setting:n}=e;return x.Z.post("/v1/api/form/add-input-to-enter",{form:t,input_id_target:r,setting:n})}static async changeTypeInput(e){let{form:t,inputItem:r,type:n}=e;return x.Z.post("/v1/api/form/change-input-type",{form:t,inputItem:r,type:n})}static async addOption(e){let{form:t,option_id:r,option_value:n,inputItem:l}=e;return x.Z.post("v1/api/form/add-option-value",{form:t,option_id:r,option_value:n,inputItem:l})}static async updatePostionOption(e){let{form:t,inputItem:r,coreOption:n}=e;return x.Z.post("v1/api/form/update-position-option",{form:t,inputItem:r,coreOption:n})}static async deleteOption(e){let{form_id:t,inputItem_id:r,option_id:n}=e;return x.Z.delete("v1/api/form/delete-option-id?form_id=".concat(t,"&inputItem_id=").concat(r,"&option_id=").concat(n))}}var h=r(7082),g=r(568),_=r(828),j=()=>{let e=(0,_.I0)(),t=(0,h.NL)();return(0,g.D)({mutationKey:["add-input-form"],mutationFn:e=>{let{form:t,title:r}=e;return p.addInputSetTitle(t,r)},onSuccess:r=>{let{form:n}=r.metadata;e((0,f.ow)({form:n})),t.invalidateQueries({queryKey:["get-forms"]})}})},b=r(5137),v=()=>{let e=(0,_.I0)(),t=(0,h.NL)();return(0,g.D)({mutationKey:["set-title-form"],mutationFn:e=>{let{form_id:t,value:r}=e;return b.Z.setTitleForm({form_id:t,value:r})},onSuccess:r=>{let{form:n}=r.metadata;e((0,f.ow)({form:n})),t.invalidateQueries({queryKey:["get-forms"]})}})},C=r(6636),N=r(5561),y=r(9564),w=()=>{let e=(0,_.v9)(e=>e.form.formCoreOriginal),t=(0,_.I0)(),[r,o]=(0,l.useState)(!1),s=(0,g.D)({mutationKey:["change-mode-image-title"],mutationFn:e=>{let{form_id:t,mode:r}=e;return b.Z.setModeImageForm({form_id:t,mode:r})},onSuccess:e=>{let{form:r}=e.metadata;t((0,f.ow)({form:r})),o(!1)}}),i=t=>{s.mutate({form_id:e._id,mode:t})},a={onActive:e=>e?"bg-blue-500 text-white":"hover:bg-blue-300 hover:text-white"},m=e.form_title.form_title_mode_image;return(0,n.jsx)(y.Z,{setOpenModel:o,children:(0,n.jsxs)("div",{className:"cursor-pointer relative w-[22rem] min-h-[4rem]  px-[2rem] flex items-center btn-primarily rounded-lg text-[#fff]",onClick:()=>o(e=>!e),children:[(0,n.jsx)("span",{children:d.R.title.optionImageMode.label}),r&&(0,n.jsxs)("ul",{className:"absolute  bottom-[-1rem] w-full rounded-lg translate-y-[100%] left-0 z-[50] flex flex-col  bg-[#fff] text-[#000] border-[.1rem] border-slate-300",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("li",{onClick:()=>i("Normal"),className:"".concat(a.onActive("Normal"===m)," p-[1rem]  cursor-pointer"),children:d.R.title.optionImageMode.mode_1}),(0,n.jsx)("li",{onClick:()=>i("Slider"),className:"".concat(a.onActive("Slider"===m)," p-[1rem]  cursor-pointer"),children:(0,n.jsx)("span",{children:d.R.title.optionImageMode.mode_2})})]})]})})},k=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["update-title-sub"],mutationFn:e=>{let{type:t,form_id:r}=e;return b.Z.addSubTitleItem({type:t,form_id:r})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},I=()=>{let e=(0,_.v9)(e=>e.form.formCoreOriginal),t=k(),r=r=>{t.mutate({type:r,form_id:e._id})};return(0,n.jsxs)("div",{className:" w-full min-h-[4rem] h-max p-[1rem_0rem] flex flex-wrap gap-[3rem]",children:[(0,n.jsxs)("button",{onClick:()=>r("Text"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] p-[.6rem] text-[#fff] rounded-lg",children:[(0,n.jsx)(C.Z,{size:16}),(0,n.jsx)("span",{children:d.R.title.optionText.message})]}),(0,n.jsxs)("button",{onClick:()=>r("FullDescription"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] text-[#fff]  rounded-lg",children:[(0,n.jsx)(C.Z,{size:16}),(0,n.jsx)("span",{children:d.R.title.optionFullDescription.message})]}),(0,n.jsxs)("button",{onClick:()=>r("Image"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] text-[#fff]  rounded-lg",children:[(0,n.jsx)(N.Z,{size:16}),(0,n.jsx)("span",{children:d.R.title.optionImage.message})]}),e.form_title.form_title_sub.filter(e=>{var t;return"Image"===e.type&&(null==e?void 0:null===(t=e.core)||void 0===t?void 0:t.url)}).length>0&&(0,n.jsx)(w,{})]})},Z=r(3438),S=e=>{let{textContent:t=d.R.title.addOptionTitle,...r}=e;return(0,_.v9)(e=>e.form.formCoreOriginal),(0,n.jsxs)("button",{...r,className:" ".concat(r.className||""," btn-primarily  rounded-lg font-bold text-[#fff]   w-max  h-[4rem]  flex items-center sm:justify-center gap-[.5rem]  outline-none"),children:[(0,n.jsx)(Z.Z,{}),t]})},O=r(8119),T=r(525),E=r(7135),D=r(4048),L=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["delete-title-sub-item"],mutationFn:e=>{let{form_id:t,title_sub_id:r}=e;return b.Z.deleteTitleSubItem({form_id:t,title_sub_id:r})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},M=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["set-value-title-sub-description"],mutationFn:e=>{let{header_value:t,value:r,title_sub_id:n,form_id:l}=e;return b.Z.updateSubTitleDescription({header_value:t,value:r,title_sub_id:n,form_id:l})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},R=r(1216),A=r(489),P=e=>{var t,r;let{subTitleItem:o}=e,[s,i]=(0,l.useState)({header_value:(null==o?void 0:null===(t=o.core)||void 0===t?void 0:t.header_value)||"",value:(null==o?void 0:null===(r=o.core)||void 0===r?void 0:r.value)||""}),{attributes:a,listeners:m,setNodeRef:c,transform:u,transition:d}=(0,D.nB)({id:o._id}),f=(0,_.v9)(e=>e.form.formCoreOriginal),x=M(),p=e=>{"Enter"===e.key&&e.preventDefault()},h=(e,t)=>{let r=e.currentTarget.textContent;r&&(i(e=>"Header"===t?{...e,header_value:r}:{...e,value:r}),"Header"===t&&x.mutate({header_value:r,value:s.value,title_sub_id:o._id,form_id:f._id}),"Value"===t&&x.mutate({header_value:s.header_value,value:r,title_sub_id:o._id,form_id:f._id}))},g=L(),j={transition:d,transform:R.ux.Transform.toString(u)};return(0,n.jsxs)("div",{className:"flex flex-col gap-[.4rem] outline-none ",ref:c,...a,...m,style:j,children:[(0,n.jsxs)("button",{tabIndex:-1,className:"flex items-center gap-[.5rem] text-[1.4rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{g.mutate({form_id:f._id,title_sub_id:o._id})},disabled:g.isPending,children:[(0,n.jsx)(A.Z,{size:16}),"X\xf3a"]}),(0,n.jsx)("div",{className:"border-none py-[.4rem] outline-none xl:max-w-[80rem] break-all leading-8  font-semibold",contentEditable:!x.isPending,onKeyDown:p,onBlur:e=>h(e,"Header"),"data-text":s.header_value||"Nhập ti\xeau đề",spellCheck:!1,suppressContentEditableWarning:!0,children:s.header_value}),(0,n.jsx)("div",{className:"border-none py-[.4rem] outline-none xl:max-w-[80rem] break-all leading-8 opacity-70",contentEditable:!x.isPending,onKeyDown:p,onBlur:e=>h(e,"Value"),"data-text":s.value||"Nhập m\xf4 tả",spellCheck:!1,tabIndex:1,suppressContentEditableWarning:!0,children:s.value})]})},F=r(8194),z=e=>{var t;let{subTitleItem:r}=e,[o,s]=(0,l.useState)((null==r?void 0:null===(t=r.core)||void 0===t?void 0:t.value)||""),i=(0,_.v9)(e=>e.form.formCoreOriginal),[a,m]=(0,l.useState)(!1),c=(0,_.I0)(),{attributes:u,listeners:d,setNodeRef:x,transform:p,transition:h}=(0,D.nB)({id:r._id}),j={transition:h,transform:R.ux.Transform.toString(p)},v=(0,g.D)({mutationKey:["update-title-sub-text"],mutationFn:e=>{let{form_title_sub_content:t,form_title_sub_id:r,form_id:n}=e;return b.Z.updateSubTitle({form_title_sub_content:t,form_id:n,form_title_sub_id:r})},onSuccess:e=>{let{form:t}=e.metadata;c((0,f.ow)({form:t}))}}),C=L();return(0,n.jsxs)("div",{className:"flex flex-col gap-[.5rem]  ",ref:x,...u,...d,style:j,children:[(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.4rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{C.mutate({form_id:i._id,title_sub_id:r._id})},disabled:C.isPending,children:[(0,n.jsx)(A.Z,{size:16}),"X\xf3a"]}),(0,n.jsx)("div",{className:"border-none py-[1rem] outline-none xl:max-w-[80rem] break-all leading-10",contentEditable:!0,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onBlur:e=>{let t=e.currentTarget.textContent;structuredClone(i).form_title.form_title_sub.findIndex(e=>e._id===r._id),t&&(s(t),v.mutate({form_title_sub_id:r._id,form_id:i._id,form_title_sub_content:t}))},"data-text":o||"M\xf4 tả ti\xeau đề",tabIndex:0,spellCheck:!1,suppressContentEditableWarning:!0,children:o})]})};let B=e=>{e.form_title.form_title_mode_image;let t=!1;return e.form_title.form_title_sub.map(r=>{switch(r.type){case"Text":return(0,n.jsx)(z,{subTitleItem:r},r._id);case"FullDescription":return(0,n.jsx)(P,{subTitleItem:r},r._id);case"Image":var l;if("Slider"!==e.form_title.form_title_mode_image)return(0,n.jsx)(F.Z,{mode:"Normal",page:"Edit",subTitleItem:r},r._id);if("Slider"===e.form_title.form_title_mode_image&&!t){t=!0;let l=e.form_title.form_title_sub.filter(e=>{var t;return"Image"===e.type&&(null==e?void 0:null===(t=e.core)||void 0===t?void 0:t.url)});return(0,n.jsx)(O.Z,{colorMain:e.form_title.form_title_color||e.form_setting_default.form_title_color_default,page:"Edit",type:"Components",images:l},r._id)}if("Slider"===e.form_title.form_title_mode_image&&!(null==r?void 0:null===(l=r.core)||void 0===l?void 0:l.url))return(0,n.jsx)(F.Z,{mode:"Normal",page:"Edit",subTitleItem:r},r._id);return null;default:return(0,n.jsx)(z,{subTitleItem:r})}})};var U=()=>{let e=(0,_.v9)(e=>e.form.formCoreOriginal),t=(0,T.Z)(),r=(0,l.useMemo)(()=>B(e),[e]),o=t=>e.form_title.form_title_sub.findIndex(e=>e._id===t),s=(0,E.Dy)((0,E.VT)(E.MA,{activationConstraint:{distance:10}}));return(0,n.jsx)("div",{className:"w-full  h-max  flex flex-col   gap-[4rem] outline-none",tabIndex:0,children:(0,n.jsx)(E.LB,{sensors:s,collisionDetection:E.ey,onDragEnd:r=>{let{active:n,over:l}=r;if(n.id===(null==l?void 0:l.id))return;let s=o(n.id),i=o(null==l?void 0:l.id),a=(0,D.Rp)(e.form_title.form_title_sub,s,i),m=structuredClone(e);return m.form_title.form_title_sub=a,t.mutate(m),a},children:(0,n.jsx)(D.Fo,{items:e.form_title.form_title_sub.map(e=>e._id),strategy:D.qw,children:r})})})},K=(0,l.memo)(e=>{(0,_.I0)();let t=(0,_.v9)(e=>e.form.formCoreOriginal),[r,o]=(0,l.useState)(!1),s=(0,l.useRef)(null),[i,f]=(0,l.useState)(t.form_title.form_title_value?t.form_title.form_title_value:""),{modeScreen:x}=(0,l.useContext)(a.$),{theme:p}=(0,l.useContext)(m.ThemeContext),h=j(),g=v(),b=async e=>{if("Enter"===e.key){var r;e.preventDefault();let n=(null===(r=s.current)||void 0===r?void 0:r.textContent)||"",l={...t};h.mutate({form:l,title:n}),console.log("Th\xeam Input, type mặc định Text")}};return(0,l.useEffect)(()=>{f(t.form_title.form_title_value)},[t.form_title]),(0,n.jsxs)("div",{className:"flex flex-col gap-[3rem]",children:["NORMAL"===x&&(0,n.jsx)(c.Z,{style:{fontSize:"".concat(t.form_title.form_title_size?t.form_title.form_title_size/10+"rem":t.form_setting_default.form_title_size_default/10+"rem"),color:"".concat(t.form_title.form_title_color?t.form_title.form_title_color:t.form_setting_default.form_title_color_default),fontStyle:"".concat(t.form_title.form_title_style?t.form_title.form_title_style:t.form_setting_default.form_title_style_default)},ref:s,className:"".concat(({onCheckTitle:()=>t.form_title?"opacity-100 text-slate-700":"opacity-50 text-textHeader"}).onCheckTitle()," text-text-theme py-[1rem] w-full   title-core group min-h-[8rem]  max-w-full xl:max-w-full  break-all flex items-center  h-max border-none outline-none     font-light text-justify hover:cursor-pointer"),onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.focus()},onKeyDown:b,contentEditable:!0,onBlur:e=>{if(s.current&&s.current.textContent!==t.form_title.form_title_value){let e=s.current.textContent;f(s.current.textContent),g.mutate({form_id:t._id,value:e})}},defaultValue:i||"",autoFocus:!0,suppressContentEditableWarning:!0,"data-text":"".concat(t.form_title.form_title_value||d.R.title.message),tabIndex:0,spellCheck:!1,children:t.form_title.form_title_value||""}),t.form_title.form_title_sub.length>0&&(0,n.jsx)(U,{}),(0,n.jsx)(S,{className:"",onClick:()=>o(e=>!e)}),r&&(0,n.jsx)(I,{}),"FULL"===x&&(0,n.jsx)(u.Z,{textContent:null==i?void 0:i.toUpperCase(),className:"max-w-[70rem] text-[2rem] sm:text-[4rem]  leading-relaxed font-black   break-words whitespace-pre-wrap text-justify"})]})}),H=r(6715);let V=async()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["update-title-input"],mutationFn:e=>{let{input_title_value:t,input_id:r,form:n}=e;return p.setTitleInput({input_title_value:t,input_id:r,form:n})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})};var q=(0,l.memo)(e=>{let{inputItem:t,dataTextTitle:r}=e,{modeScreen:o}=(0,l.useContext)(a.$),{theme:s}=(0,l.useContext)(m.ThemeContext),i=(0,_.v9)(e=>e.form.formCoreOriginal),d="custom"===i.form_mode_display,f=(0,l.useRef)(null),[x,p]=(0,l.useState)(t.input_title||""),h=V();(0,l.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.focus()},[]);let g=async e=>{if(f.current&&f.current.textContent!==t.input_title){f.current.textContent=e.target.textContent;let r=f.current.textContent||"";r&&(await h).mutate({input_title_value:r,input_id:t._id,form:i}),p(r)}},j=t.core.setting.input_size||i.form_setting_default.input_size,b="light"===s&&(t.core.setting.input_color||i.form_setting_default.input_color)||"",v=t.core.setting.input_style||i.form_setting_default.input_style;return(0,l.useEffect)(()=>{},[i,t]),(0,n.jsxs)(H.Z,{className:"".concat(d?"xl:w-[50%]":"xl:w-[70%]"," min-h-[2rem] h-max w-[60%] mb-[1rem] flex items-center gap-[1rem] hover:cursor-pointer text-text-theme"),children:["NORMAL"===o&&(0,n.jsx)(c.Z,{style:{fontSize:j,fontStyle:v,color:b},className:"".concat("custom"===i.form_mode_display?"title-input input-core-children":"","  group max-w-full gap-[.5rem] break-all whitespace-pre-wrap h-max border-none outline-none resize-none text-[2rem] font-medium sm:text-[2.4rem] "),ref:f,autoFocus:!1,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onBlur:g,contentEditable:!0,defaultValue:x||"False","data-text":"".concat(x||r||"Ti\xeau đề"),suppressContentEditableWarning:!0,tabIndex:0,spellCheck:!1,children:t.input_title}),t.core.setting.require&&(0,n.jsx)("span",{className:" text-red-800",children:"*"}),"FULL"===o&&(0,n.jsx)(u.Z,{textContent:x,className:"w-max max-w-[80rem] text-[2rem] sm:text-[2.1rem]  font-medium   break-all whitespace-pre-wrap"})]})}),W=r(94),X=r(4067),$=()=>{let e=(0,_.I0)();return{updateTypeInputMutation:(0,g.D)({mutationKey:["update-setting-input"],mutationFn:e=>{let{form:t,input_id:r,input_id_setting:n}=e;return b.Z.updateSettingInput(t,r,n)},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})}},G=e=>{let{inputItem:t,setInputItemString:r}=e,l={onActiveRequireWrapper:()=>t.core.setting.require?"bg-blue-400":"bg-slate-300",onActiveRequireCircle:()=>t.core.setting.require?" animate-ltr":"animate-rtl bg-[#fff]"};return(0,n.jsxs)(H.Z,{className:"flex items-center justify-between gap-[.5rem] ",children:[(0,n.jsx)("label",{htmlFor:"",children:"Bắt buộc"}),(0,n.jsx)(H.Z,{className:"".concat(l.onActiveRequireWrapper()," relative  w-[5rem] h-[2.4rem] transition-all duration-700 rounded-3xl border-[1px] border-slate-300 hover:cursor-pointer"),onClick:()=>{r(e=>{let t=structuredClone(e);return t.core.setting.require=!e.core.setting.require,t})},children:(0,n.jsx)(H.Z,{className:"".concat(l.onActiveRequireCircle()," absolute bg-[#ffffff] w-[2.4rem]  transition-all duration-700 aspect-square rounded-full ")})})]})},Q=e=>{let{textContent:t,...r}=e;return(0,n.jsx)("span",{...r,children:t})},Y=r(7159),J=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.placeholder||""),i=(0,l.useRef)(null),a=()=>{i.current&&i.current.focus()};return(0,n.jsxs)(H.Z,{className:"h-max flex flex-col  justify-between gap-[.8rem]",children:[(0,n.jsx)(Q,{textContent:"Placeholder",onClick:a,className:"hover:cursor-pointer"}),(0,n.jsx)(c.Z,{onClick:a,ref:i,contentEditable:!0,onBlur:e=>{if(i.current){i.current.textContent=e.target.textContent;let t=i.current.textContent;r(e=>{let r=structuredClone(e);return r.core.setting.placeholder=t||Y.Oh.placeholder,r})}},className:"input-setting border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400","data-text":"".concat(o||Y.Oh.placeholder)})]})},ee=e=>{var t;let{inputItem:r,setInputItemString:o}=e,[s,i]=(0,l.useState)((null===(t=r.core.setting)||void 0===t?void 0:t.minLength)||8),a=(0,l.useRef)(null);return(0,n.jsxs)(H.Z,{className:"flex items-center justify-between gap-[.5rem]",children:[(0,n.jsx)(Q,{textContent:"Min",onClick:()=>{a.current&&a.current.focus()},className:"hover:cursor-pointer"}),(0,n.jsx)("input",{ref:a,type:"number",value:s,onBlur:e=>{o(e=>{let t=structuredClone(e);return t.core.setting.minLength=s,t})},onChange:e=>i(+e.target.value),className:"w-[40%] border-[1px] border-slate-400 p-[.7rem] rounded-lg  outline-2 outline-blue-400"})]})},et=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.maxLength||100),i=(0,l.useRef)(null);return(0,n.jsxs)(H.Z,{className:"flex items-center justify-between gap-[.5rem]",children:[(0,n.jsx)(Q,{textContent:"Max",onClick:()=>{i.current&&i.current.focus()},className:"hover:cursor-pointer"}),(0,n.jsx)("input",{ref:i,onBlur:e=>{r(e=>{let t=structuredClone(e);return t.core.setting.minLength=o,t})},onChange:e=>s(+e.target.value),type:"number",value:o,className:"w-[40%] border-[1px] border-slate-400 p-[.7rem] rounded-lg  outline-2 outline-blue-400"})]})},er=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.input_error||"Nhập placehoder của bạn"),i=(0,l.useRef)(null);return(0,n.jsxs)(H.Z,{className:"h-max flex flex-col  justify-between gap-[.6rem]",children:[(0,n.jsx)(Q,{textContent:"Nhập th\xf4ng b\xe1o lỗi",onClick:()=>{i.current&&i.current.focus()},className:"hover:cursor-pointer"}),(0,n.jsx)(c.Z,{spellCheck:!1,ref:i,contentEditable:!0,onBlur:e=>{if(i.current){i.current.textContent=e.target.textContent;let t=i.current.textContent;r(e=>{let r=structuredClone(e);return r.core.setting.input_error=t||Y.Oh.input_error,r})}},className:"input-setting  border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400","data-text":"".concat(o||Y.Oh.input_error),suppressContentEditableWarning:!0,children:o})]})},en=r(5984),el=r(1231),eo=e=>{let{inputItem:t,setInputItemString:r}=e,l={onActiveRequireWrapper:()=>t.core.setting.input_error_state?"bg-blue-400":"bg-slate-300",onActiveRequireCircle:()=>t.core.setting.input_error_state?" animate-ltr":"animate-rtl bg-[#fff]"};return(0,n.jsxs)(H.Z,{className:"flex items-center justify-between gap-[.5rem] ",children:[(0,n.jsx)("label",{htmlFor:"",children:"Thiết lập lỗi t\xf9y chọn"}),(0,n.jsx)(H.Z,{className:"".concat(l.onActiveRequireWrapper()," relative  w-[5rem] h-[2.4rem] transition-all duration-700 rounded-3xl border-[1px] border-slate-300 hover:cursor-pointer"),onClick:()=>{r(e=>{let t=structuredClone(e);return t.core.setting.input_error_state=!e.core.setting.input_error_state,t})},children:(0,n.jsx)(H.Z,{className:"".concat(l.onActiveRequireCircle()," absolute bg-[#ffffff] w-[2.4rem]  transition-all duration-700 aspect-square rounded-full ")})})]})},es=r(2200),ei=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,i=(0,_.I0)(),[a,m]=(0,l.useState)(()=>({core:{setting:t.core.setting}})),{updateTypeInputMutation:c}=$(),u=e=>{if(e.stopPropagation(),a.core.setting.minLength>a.core.setting.maxLength){i((0,en.DT)({toast_item:{_id:(0,el.Z)(),toast_title:"Lỗi c\xe0i đặt Input",type:"ERROR",core:{message:"Min kh\xf4ng thể lớn Max"}}}));return}let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=a),e)),c.mutate({form:r,input_id:t._id,input_id_setting:a.core.setting})};return(0,l.useEffect)(()=>{c.isSuccess&&r(!1)},[c.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:a,setInputItemString:m}),(0,n.jsx)(J,{inputItem:a,setInputItemString:m}),(0,n.jsx)(ee,{inputItem:a,setInputItemString:m}),(0,n.jsx)(et,{inputItem:a,setInputItemString:m}),(0,n.jsx)(eo,{inputItem:a,setInputItemString:m}),a.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:a,setInputItemString:m}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>u(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),c.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ea=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem] text-text-theme",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},em=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ec=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},eu=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ed=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ef=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem] text-text-theme",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ex=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ep=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=$(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(H.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[(0,n.jsx)(G,{inputItem:i,setInputItemString:a}),(0,n.jsx)(eo,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&(0,n.jsx)(er,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[(0,n.jsx)("span",{children:"Lưu"}),m.isPending&&(0,n.jsx)(es.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})};let eh=(e,t)=>{switch(e.type){case"EMAIL":case"TEXT":default:return(0,n.jsx)(ei,{inputItem:e,setOpenModel:t});case"PHONE":return(0,n.jsx)(em,{inputItem:e,setOpenModel:t});case"VOTE":return(0,n.jsx)(ec,{inputItem:e,setOpenModel:t});case"OPTION":return(0,n.jsx)(ea,{inputItem:e,setOpenModel:t});case"DATE":return(0,n.jsx)(ed,{inputItem:e,setOpenModel:t});case"FILE_IMAGE":return(0,n.jsx)(eu,{inputItem:e,setOpenModel:t});case"ADDRESS":return(0,n.jsx)(ex,{inputItem:e,setOpenModel:t});case"ANCHOR":return(0,n.jsx)(ep,{inputItem:e,setOpenModel:t});case"OPTION_MULTIPLE":return(0,n.jsx)(ef,{inputItem:e,setOpenModel:t})}};var eg=e=>{let{inputItem:t,setOpenModel:r}=e;(0,l.useRef)(null);let o=(0,l.useMemo)(()=>eh(t,r),[t,r]);return(0,n.jsx)(y.Z,{setOpenModel:r,children:(0,n.jsx)(H.Z,{onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"absolute top-[140%] right-[-24rem] sm:right-[-4rem]  z-[300] flex justify-center items-center text-text-theme bg-color-section-theme",children:(0,n.jsx)(c.Z,{className:"w-[30rem]  xl:w-[27rem] xl:min-h-[16rem]  h-max p-[2rem] shadow-xl border-[1px] border-slate-200 flex flex-col  rounded-lg ",children:o})})})},e_=r(3050),ej=e=>{let{textContent:t,icon:r,...l}=e;return(0,n.jsxs)("button",{...l,className:" ".concat(l.className),children:[(0,n.jsx)("span",{className:"hidden xl:inline",children:r}),t]})},eb=r(7252),ev=r(2869),eC=r(2994),eN=r(5879),ey=r(8107),ew=r(6817),ek=r(4584),eI=r(9259),eZ=r(4796),eS=r(5570),eO=r(632),eT=r(3911),eE=()=>(0,n.jsxs)(H.Z,{className:"w-full min-h-[40rem] px-[1rem] xl:px-0 flex flex-col justify-center xl:items-center gap-[1rem] text-[1.3rem] xl:text-[1.8rem] opacity-65",children:[(0,n.jsx)(Q,{textContent:"Ngay tại đ\xe2y"}),(0,n.jsxs)(H.Z,{className:"flex flex-wrap items-center gap-[1rem] ",children:[(0,n.jsx)(Q,{textContent:"Bạn c\xf3 thể th\xeam"}),(0,n.jsx)(H.Z,{className:"w-[3.6rem] h-[3.6rem] hidden xl:flex items-center justify-center rounded-full bg-[#ffffff] border-[.1rem] border-slate-600",children:(0,n.jsx)(W.Z,{})}),(0,n.jsx)(Q,{textContent:"c\xe1c input"})]}),(0,n.jsxs)(H.Z,{className:" flex flex-wrap items-center gap-[1rem] ",children:[(0,n.jsx)(Q,{textContent:"V\xe0 xem c\xe1c hướng dẫn v\xed dụ về từng loại"}),(0,n.jsx)(H.Z,{className:"w-[3.6rem] h-[3.6rem] hidden xl:flex items-center justify-center rounded-full bg-[#ffffff] border-[.1rem] border-slate-600",children:(0,n.jsx)(eT.Z,{})}),(0,n.jsx)(Q,{textContent:"c\xe1c input"})]})]});let eD={title:"Email",description:"Input type Email được d\xf9ng để thu thập c\xe1c dữ liệu li\xean quan để email, cũng như c\xf3 thể validate x\xe1c thực gi\xe1 trị nhập v\xe0o theo dạng email."},eL={title:"Th\xf4ng tin",description:"Input type Text được d\xf9ng để thu thập dạng chữ, với những dữ liệu n\xe0o cần nhiều d\xf2ng th\xf4ng tin th\xec Input Text l\xe0 ph\xf9 hợp nhất"},eM={title:"Đ\xe1nh gi\xe1",description:"Input Vote được d\xf9ng để thu thập c\xe1c đ\xe1nh gi\xe1 theo thang điểm từ 1 đến 5 sao"},eR={title:"Số điện thoại",description:"Input Phone được d\xf9ng để thu thập th\xf4ng tin số điện thoại"},eA={title:"Lựa chọn đơn",description:"Input option cho ph\xe9p mọi người chọn một lựa chọn tr\xean nhiều lựa chọn trong c\xe2u c\xe2u hỏi"},eP={title:"Nhiều lựa chọn",description:"Input multiple option cho ph\xe9p mọi người chọn nhiều lựa chọn c\xf9ng l\xfac trong c\xe2u c\xe2u hỏi"},eF={title:"Địa chỉ Việt Nam",description:"Cho ph\xe9p lấy địa chỉ người d\xf9ng ở Việt Nam"};var ez=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["update-input-type"],mutationFn:e=>{let{form:t,inputItem:r,type:n}=e;return p.changeTypeInput({form:t,inputItem:r,type:n})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},eB=r(6992),eU=r(287),eK=e=>{let{title:t,description:r,action:l}=e;return(0,n.jsxs)(H.Z,{className:"w-full h-[36%] xl:h-[30%] flex flex-col gap-[1.6rem] xl:gap-[3rem] xl:border-b-[.2rem] border-gray-100  ",children:[(0,n.jsxs)(H.Z,{className:"min-h-[2rem] flex flex-col xl:flex-row xl:items-center justify-between gap-[2rem] xl:gap-0  px-[2rem]",children:[(0,n.jsx)(H.Z,{className:"text-[2.2rem] font-semibold ",children:t}),(0,n.jsx)(eB.Z,{textContent:"Th\xeam input n\xe0y",className:"h-[50%] flex items-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",Icon:(0,n.jsx)(eU.Z,{}),onClick:l})]}),(0,n.jsx)(H.Z,{className:"flex-1 px-[2rem] text-[1.2rem] xl:text-[1.6rem] opacity-60",children:r})]})},eH=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal),o=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eL.title,description:eL.description,action:()=>{o.mutate({form:l,inputItem:t,type:"TEXT"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] ",children:[(0,n.jsx)(Q,{textContent:"Nhập ti\xeau đề cho đoạn Text",className:"text-[1.6rem] font-bold"}),(0,n.jsx)(H.Z,{className:"group w-full min-h-[8rem] p-[1.6rem] text-[1.6rem] break-words whitespace-pre-wrap h-max border-[.1rem] border-gray-300 rounded-lg outline-none resize-none ",spellCheck:!1,contentEditable:!0,"data-text":"Nhập th\xf4ng tin của bạn",suppressContentEditableWarning:!0,tabIndex:0})]})]})]})},eV=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal),o=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eD.title,description:eD.description,action:()=>{o.mutate({form:l,inputItem:t,type:"EMAIL"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)(Q,{textContent:"Email",className:"text-[1.6rem] font-bold"}),(0,n.jsxs)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:[(0,n.jsx)("input",{className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent text-[#000]",placeholder:"Nhập email của bạn"}),(0,n.jsx)(ev.Z,{className:"absolute z-[2] right-[1rem]  opacity-50",size:18})]})]})]})]})},eq=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal),o=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eA.title,description:eA.description,action:()=>{o.mutate({form:l,inputItem:t,type:"OPTION"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] text-[1.4rem]",children:[(0,n.jsx)("div",{className:"text-[1.6rem] font-semibold",children:"Framework Front end bạn sử dụng?"}),(0,n.jsxs)("div",{className:"px-[4rem] flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"radio",name:"front-end-core",value:"React"}),(0,n.jsx)("span",{children:"React"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"radio",name:"front-end-core",value:"Angular"}),(0,n.jsx)("span",{children:"Angular"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"radio",name:"front-end-core",value:"Vue"}),(0,n.jsx)("span",{children:"Vue"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"radio",name:"front-end-core",value:"Other"}),(0,n.jsx)("span",{children:"Other"})]})]})]})]})]})},eW=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal),o=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eP.title,description:eP.description,action:()=>{o.mutate({form:l,inputItem:t,type:"OPTION_MULTIPLE"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] text-[1.4rem]",children:[(0,n.jsx)("div",{className:"text-[1.6rem] font-semibold",children:"Framework Front end bạn sử dụng?"}),(0,n.jsxs)("div",{className:"px-[4rem] flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"checkbox",className:"",name:"front-end-core",value:"React"}),(0,n.jsx)("span",{children:"React"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"checkbox",className:"",name:"front-end-core",value:"Angular"}),(0,n.jsx)("span",{children:"Angular"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"checkbox",className:"",name:"front-end-core",value:"Vue"}),(0,n.jsx)("span",{children:"Vue"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[(0,n.jsx)("input",{type:"checkbox",className:"",name:"front-end-core",value:"Other"}),(0,n.jsx)("span",{children:"Other"})]})]})]})]})]})},eX=r(5145),e$=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal),o=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:"Thời gian",description:"Input Date cho một mốc thời gian n\xe0o đ\xf3 cho c\xe2u trả lời",action:()=>{o.mutate({form:l,inputItem:t,type:"DATE"})}}),(0,n.jsxs)(H.Z,{className:"h-[76%]  max-h-[76%] overflow-hidden flex flex-col gap-[2.6rem] p-[1rem_1.4rem]  ",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsx)(H.Z,{className:"h-full   flex flex-col  gap-[1rem] ",children:(0,n.jsx)(eX.Z,{})})]})]})},eG=r(6824),eQ=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),[s,i]=(0,l.useState)(2.5),a=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eM.title,description:eM.description,action:()=>{a.mutate({form:o,inputItem:t,type:"VOTE"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)(Q,{textContent:"Đ\xe1nh gi\xe1",className:"text-[1.6rem] font-bold"}),(0,n.jsx)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:(0,n.jsx)("div",{className:"p-[1rem_2rem] rounded-lg bg-color-section-theme border-[.1rem] border-text-theme",children:(0,n.jsx)(eG.Z,{allowHalf:!0,value:s,onChange:e=>i(e)})})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số đ\xe1nh gi\xe1 bạn chọn l\xe0: ",s]})]})]})]})},eY=r(9808),eJ=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),[s,i]=(0,l.useState)(0),a=ez();return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eR.title,description:eR.description,action:()=>{a.mutate({form:o,inputItem:t,type:"PHONE"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)(Q,{textContent:"Số điện thoại",className:"text-[1.6rem] font-bold"}),(0,n.jsx)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:(0,n.jsx)("input",{value:s,type:"number",className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent",placeholder:"Nhập số điện thoại của bạn",onChange:e=>i(+e.target.value)})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số điện thoại bạn nhập"," ",s>0&&s.toString().match(eY.r)?"hợp lệ":"kh\xf4ng hợp lệ"]})]})]})]})},e0=r(703),e1=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=ez(),i=(0,l.useRef)(null),[a,m]=(0,l.useState)("");return(0,l.useEffect)(()=>()=>{URL.revokeObjectURL(a)},[a]),(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:"Upload ảnh",description:"Cho ph\xe9p người d\xf9ng tải ảnh l\xean form trả lời",action:()=>{s.mutate({form:o,inputItem:t,type:"FILE_IMAGE"})}}),(0,n.jsxs)(H.Z,{className:"h-[90%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"h-[90%]  flex flex-col items-start  gap-[3rem] ",children:[(0,n.jsx)("button",{onClick:()=>{i.current&&i.current.click()},className:"p-[.8rem] min-w-[12rem] text-text-theme border-[.1rem] border-text-theme bg-color-section-theme text-[1.4rem] rounded-xl",children:"Tải ảnh l\xean"}),(0,n.jsx)("input",{type:"file",hidden:!0,ref:i,onChange:e=>{if(e.target.files){let t=e.target.files[0];m(URL.createObjectURL(t))}}}),a&&(0,n.jsx)(e0.default,{src:a,width:70,height:70,alt:"demo upload h\xecnh ảnh",className:"w-[20rem] h-[20rem]"})]})]})]})},e2=r(6264),e4=r(5624),e5=r(5580),e3=e=>{let{message:t}=e;return(0,n.jsx)("span",{className:"text-[1.4rem] text-red-800 font-bold",children:t})},e6=e=>{var t;let{inputItem:r}=e,o=(0,_.v9)(e=>e.form.formCoreOriginal),s=ez(),[i,a]=(0,l.useState)({value:{addressString:"",addressValidate:Y.Oy,address_full:"",addressCore:""},error:{message:""},validate:!1}),m=e=>{let{_next:t,message:n,type:l}=(0,e5.Z)({inputValue:e,inputSetting:r.core.setting});a(r=>({...r,validate:!t,value:e,error:{message:n}}))};return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:eF.title,description:eF.description,action:()=>{s.mutate({form:o,inputItem:r,type:"ADDRESS"})}}),(0,n.jsxs)(H.Z,{className:"h-[70%] xl:h-[50%] flex flex-col gap-[2.6rem] p-[2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsx)(e4.Z,{detail:!0,onChange:m}),(0,n.jsxs)("div",{className:"flex flex-col h-[12rem] gap-[1rem]   justify-center",children:[i.validate||i.value.addressString&&(0,n.jsx)("span",{className:"text-[1.4rem]",children:null===(t=i.value)||void 0===t?void 0:t.addressString}),(0,n.jsx)("button",{onClick:()=>m(i.value),className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),i.error.message&&(0,n.jsx)(e3,{message:i.error.message})]})]})]})},e9=r(2546),e8=r(5496),e7=e=>{let{inputItem:t,setOpenModel:r}=e,o=ez(),s=(0,_.v9)(e=>e.form.formCoreOriginal),[i,a]=(0,l.useState)({value:{href:""},error:{message:""},validate:!1}),m=e=>{a(t=>({...t,value:{href:e}}))};return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[(0,n.jsx)(eK,{title:"C\xe1c đường dẫn kh\xe1c",description:"Cho người d\xf9ng nhập link li\xean kết đến c\xe1c website kh\xe1c",action:()=>{o.mutate({form:s,inputItem:t,type:"ANCHOR"})}}),(0,n.jsxs)(H.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[(0,n.jsx)(H.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)(Q,{textContent:"Nhập đường dẫn",className:"text-[1.6rem] font-bold"}),(0,n.jsxs)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:[(0,n.jsx)("input",{value:i.value.href,onChange:e=>m(e.target.value),className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent text-[#000]",placeholder:"Nhập đường dẫn li\xean kết của bạn"}),(0,n.jsx)("div",{className:"absolute z-[2] right-[1rem]  opacity-70",children:"www"})]}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[i.validate&&i.value.href&&(0,n.jsx)(e8.Z,{message:"Đường dẫn hợp lệ"}),(0,n.jsx)("button",{onClick:()=>{let{_next:e,message:r,type:n}=(0,e9.Z)({inputValue:i.value.href,inputSetting:t.core.setting});e?a(e=>({...e,error:{message:""},validate:!0})):a(e=>({...e,error:{message:r},validate:!1}))},className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),i.error.message&&(0,n.jsx)(e3,{message:i.error.message})]})]})]})]})};let te=[{type:"Guide",Icon:(0,n.jsx)(eb.Z,{className:"",size:18}),content:"Hướng dẫn"},{type:"EMAIL",Icon:(0,n.jsx)(ev.Z,{size:18}),content:eD.title},{type:"TEXT",Icon:(0,n.jsx)(eC.Z,{size:18}),content:eL.title},{type:"VOTE",Icon:(0,n.jsx)(eN.Z,{size:18}),content:eM.title},{type:"PHONE",Icon:(0,n.jsx)(ey.Z,{size:18}),content:eR.title},{type:"ADDRESS",Icon:(0,n.jsx)(ew.Z,{size:18}),content:eF.title},{type:"ANCHOR",Icon:(0,n.jsx)(ek.Z,{size:18}),content:"Li\xean kết"},{type:"OPTION",Icon:(0,n.jsx)(eI.Z,{size:18}),content:eA.title},{type:"OPTION_MULTIPLE",Icon:(0,n.jsx)(eZ.Z,{size:18}),content:eP.title},{type:"DATE",Icon:(0,n.jsx)(eS.Z,{className:"",size:18}),content:"Thời gian"},{type:"FILE_IMAGE",Icon:(0,n.jsx)(eO.Z,{className:"",size:18}),content:"Upload Ảnh"}],tt=(e,t,r)=>{switch(e){case"Guide":default:return(0,n.jsx)(eE,{});case"TEXT":return(0,n.jsx)(eH,{inputItem:t,setOpenModel:r});case"EMAIL":return(0,n.jsx)(eV,{inputItem:t,setOpenModel:r});case"VOTE":return(0,n.jsx)(eQ,{inputItem:t,setOpenModel:r});case"PHONE":return(0,n.jsx)(eJ,{inputItem:t,setOpenModel:r});case"DATE":return(0,n.jsx)(e$,{inputItem:t,setOpenModel:r});case"FILE_IMAGE":return(0,n.jsx)(e1,{inputItem:t,setOpenModel:r});case"ADDRESS":return(0,n.jsx)(e6,{inputItem:t,setOpenModel:r});case"ANCHOR":return(0,n.jsx)(e7,{inputItem:t,setOpenModel:r});case"OPTION":return(0,n.jsx)(eq,{inputItem:t,setOpenModel:r});case"OPTION_MULTIPLE":return(0,n.jsx)(eW,{inputItem:t,setOpenModel:r})}};var tr=e=>{let{inputItem:t,setOpenModel:r}=e,[o,s]=(0,l.useState)("Guide"),i=(0,l.useMemo)(()=>tt(o,t,r),[o,t,r]);return(0,n.jsx)(e_.Z,{children:(0,n.jsx)(H.Z,{className:"fixed inset-0 bg-[rgba(0,0,0,0.5)] z-[999] px-[1rem] flex justify-center items-center",children:(0,n.jsx)(c.Z,{className:"relative w-[80rem] h-[64rem]  xl:w-[80rem] xl:h-[68rem]   flex flex-col bg-color-section-theme text-text-theme rounded-lg border-[.1rem] border-text-theme ",children:(0,n.jsx)(y.Z,{width:"w-full xl:w-[80rem]",height:"h-[64rem] xl:h-[68rem]",setOpenModel:r,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(H.Z,{className:"flex-1 w-full min-h-full flex  ",children:[(0,n.jsxs)(H.Z,{className:" w-[40%] xl:w-[30%] min-h-full p-[1rem_.6rem] xl:p-[2rem_1.4rem] flex flex-col gap-[1rem] border-r-[.1rem] border-gray-100 ",children:[(0,n.jsx)(u.Z,{className:"text-textGray text-[1.2rem] font-bold opacity-80",textContent:"Input"}),(0,n.jsx)(H.Z,{className:"flex flex-col gap-[1.2rem] ",children:te.map(e=>(0,n.jsx)(ej,{className:"w-full p-[.4rem_.6rem]  flex items-center justify-start gap-[2rem] text-[1.5rem] xl:text-[1.6rem] hover:bg-color-btn-primarily text-text-theme hover:text-[#fff] transition-colors duration-300 rounded-lg",onClick:()=>s(e.type),textContent:e.content,icon:e.Icon},e.content+e.type))})]}),(0,n.jsx)(H.Z,{className:"flex w-[60%] xl:w-[70%] min-h-full py-[1rem] ",children:i})]}),(0,n.jsx)("div",{className:"absolute right-[-1rem] top-[-1rem] xl:right-[-2.4rem] xl:top-[-2.4rem]",children:(0,n.jsx)(e2.Z,{onClose:r})})]})})})})})},tn=(0,l.memo)(e=>{let{inputItem:t,openSetting:r,setOpenSetting:o,funcRemoveInput:s}=e,i=(0,_.v9)(e=>e.form.formCoreOriginal),a=(0,_.v9)(e=>e.form.colorCore),[m,c]=(0,l.useState)(!1),u={onCheckModeDisplay:()=>"custom"===i.form_mode_display?"group-hover:!text-[#ffffff]":""};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(H.Z,{className:"flex  h-full  items-center gap-[.3rem] ",children:[(0,n.jsx)(A.Z,{size:18,onClick:s,className:"".concat(u.onCheckModeDisplay()," hover:cursor-pointer ")}),(0,n.jsx)(W.Z,{size:18,onClick:()=>c(!0),className:"".concat(u.onCheckModeDisplay()," hover:cursor-pointer ")}),(0,n.jsxs)(H.Z,{style:{backgroundColor:r?a:"",padding:r?".8rem .4rem":""},className:" rounded-lg",children:[(0,n.jsx)(X.Z,{size:18,onClick:()=>o(!0),className:"".concat(u.onCheckModeDisplay()," hover:cursor-pointer ")}),r&&(0,n.jsx)(eg,{setOpenModel:o,inputItem:t})]}),t.core.setting.require&&!t.input_title&&(0,n.jsx)("span",{className:"text-red-700 text-[1.8rem]",children:"*"})]}),m&&(0,n.jsx)(tr,{setOpenModel:c,inputItem:t})]})}),tl=r(4184),to=e=>{let{focus:t,setTitle:r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal);return(0,n.jsx)(H.Z,{className:"".concat("custom"===l.form_mode_display?"right-[6rem]":"right-0"," absolute top-[-1rem]   h-max flex items-center text-[1.4rem]"),style:{direction:"rtl"},children:(0,n.jsx)(H.Z,{className:"\n			flex h-full   justify-around items-center gap-[2rem] ",children:(0,n.jsx)(tl.Z,{className:"".concat(({onCheckModeDisplay:()=>"custom"===l.form_mode_display?"group-hover:text-[#ffffff] text-[#000000] ":"text-gray-400 hover:text-gray-600"}).onCheckModeDisplay()),onClick:()=>r(!0),tabIndex:-1,textContent:"Th\xeam ti\xeau đề"})})})};let ts=async(e,t)=>{let r=(0,_.I0)(),n=structuredClone(t),l={...Y.Oh,input_color:n.form_setting_default.input_color||Y.Oh.input_color,input_size:n.form_setting_default.input_size||Y.Oh.input_size,input_style:n.form_setting_default.input_style||Y.Oh.input_style};return(0,g.D)({mutationKey:["add-input-to-enter"],mutationFn:()=>p.addInputToEnter({form:n,input_id_target:e._id,setting:l}),onSuccess:e=>{let{form:t}=e.metadata;r((0,f.ow)({form:t}))}})};var ti=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["remove input item"],mutationFn:e=>{let{form_id:t,input_id:r}=e;return p.removeInputItem({form_id:t,input_id:r})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},ta=r(7002),tm=(0,l.memo)(e=>{let{inputItem:t,dataTextTitle:r,InputComponent:o,inputTitle:s}=e,i=(0,_.I0)(),m=(0,_.v9)(e=>e.form.formCoreOriginal),c=(0,_.v9)(e=>e.form.colorCore),u=(0,_.v9)(e=>e.formAsnwer.formAnswerStore),{attributes:d,listeners:f,setNodeRef:x,transform:p,transition:h}=(0,D.nB)({id:t._id}),[g,j]=(0,l.useState)(!!s||"OPTION"===t.type),[b,v]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),y=ts(t,m),{modeScreen:w}=(0,l.useContext)(a.$),k=ti();(0,l.useEffect)(()=>{k.isSuccess&&u[m._id]&&i((0,ta.DC)({form_id:m._id}))},[k.isSuccess]);let I=async e=>{if("Enter"===e.key){if("FULL"===w)return null;(await y).mutate()}},Z={transition:h,transform:R.ux.Transform.toString(p)},S="custom"===m.form_mode_display?{"--bg-input-core":c,"--bg-input-core-2":"#000000",borderColor:c,position:"relative"}:"";return(0,n.jsxs)("div",{className:"text-text-theme  group flex flex-col justify-center gap-[1.8rem] outline-none focus:cursor-move     rounded-[1.6rem]  ",ref:x,...d,...f,style:{...Z,...S},children:[g&&(0,n.jsx)(q,{inputItem:t,dataTextTitle:r}),(0,n.jsxs)(H.Z,{className:" group relative min-h-[8rem] h-max pt-[2.4rem] flex items-center  ",children:["NORMAL"===w&&(0,n.jsx)(H.Z,{className:" absolute top-[-1rem]  xl:left-0  h-[2rem] text-[1.4rem] ",children:(0,n.jsx)(tn,{openSetting:C,setOpenSetting:N,funcRemoveInput:()=>{k.mutate({form_id:m._id,input_id:t._id})},inputItem:t})}),(0,n.jsx)(H.Z,{className:"w-full h-max flex flex-col gap-[2rem] ",onKeyDown:I,children:o}),!g&&"NORMAL"===w&&(0,n.jsx)(to,{setTitle:j,focus:b})]})]})}),tc=r(7874),tu=e=>{let{inputItem:t}=e;(0,_.v9)(e=>e.form.formCoreOriginal).form_mode_display;let[r,o]=(0,l.useState)(!1),s=new Date,i=s.getMonth()+1,a=s.getDate(),m=s.getFullYear(),[c,u]=(0,l.useState)({day:a,month:i,year:m,date_string:(0,tc.DP)({day:a,month:i,year:m})}),d=(0,tc.PK)({day:c.day,month:c.month,year:c.year}),f=(0,n.jsxs)(H.Z,{className:"relative flex flex-col items-start gap-[1rem] text-text-theme ",children:[(0,n.jsxs)("button",{onClick:()=>o(e=>!e),className:"bg-color-main text-[#fff] p-[1rem] rounded-xl flex items-center gap-[1rem] text-[1.3rem]",children:[(0,n.jsx)("span",{children:d}),(0,n.jsx)(eS.Z,{})]}),r&&(0,n.jsx)("div",{className:"absolute z-[3] top-0 xl:top-[64%] right-[50%] xl:right-[33%] ",children:(0,n.jsx)(y.Z,{setOpenModel:o,children:(0,n.jsx)(eX.Z,{onChange:e=>{let{day:t,month:r,date_string:n,year:l}=e;u({day:t,month:r,year:l,date_string:n}),o(!1)},callbackCancel:()=>{o(!1),u({day:a,month:i,year:m,date_string:(0,tc.DP)({day:a,month:i,year:m})})}})})}),(0,n.jsxs)("p",{className:"text-[1.3rem]",children:["Thời gian đang chọn l\xe0:",(0,n.jsxs)("span",{className:"text-color-main font-semibold",children:[" ",d]})]})]});return(0,n.jsx)(tm,{InputComponent:f,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam m\xf4 tả về ng\xe0y được chọn"})},td=r(3898),tf=e=>{let t="custom"===(0,_.v9)(e=>e.form.formCoreOriginal).form_mode_display,{inputItem:r}=e,o=(0,l.useRef)(null),s=r.input_title?r.input_title:"",[i,m]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),{modeScreen:d}=(0,l.useContext)(a.$);(0,l.useEffect)(()=>{o.current&&(o.current.value="",u(!1))},[d]);let f=(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[.3rem] ",children:[(0,n.jsx)(Q,{textContent:"Nhập email của bạn",className:"".concat(t?"group-hover:!text-[#ffffff]":"text-text-theme "," text-[1.6rem] font-semibold")}),(0,n.jsxs)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] border-[.1rem] bg-[#fff] border-gray-400 focus:border-transparent  rounded-lg",children:[(0,n.jsx)("input",{className:"w-[80%] h-full p-[1rem] rounded-lg text-[1.6rem]     outline-none   text-[#000]",ref:o,onKeyDown:e=>{if("Enter"===e.key&&"FULL"===d)return(0,td.oH)(i)?u(!1):u(!0)},onChange:e=>m(e.target.value),onBlur:()=>{if(i)return(0,td.oH)(i)?u(!1):u(!0)},placeholder:r.core.setting.placeholder}),(0,n.jsx)(ev.Z,{className:"absolute z-[2] right-[1rem] text-textMain opacity-50",size:18})]}),c&&(0,n.jsx)(Q,{className:"flex group-focus:hidden opacity-55",tabIndex:-1,textContent:"        Email khong dung dinh dang"})]});return(0,n.jsx)(tm,{inputItem:r,InputComponent:f,inputTitle:s})},tx=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["add-option"],mutationFn:e=>{let{form:t,option_id:r,option_value:n,inputItem:l}=e;return p.addOption({form:t,option_id:r,option_value:n,inputItem:l})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},tp=()=>{let e=(0,_.I0)();return{deleteOptionIdMutation:(0,g.D)({mutationKey:["delete-option-id"],mutationFn:e=>{let{form_id:t,inputItem_id:r,option_id:n}=e;return p.deleteOption({form_id:t,inputItem_id:r,option_id:n})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})}},th=e=>{var t;let{option:r,inputItem:o,controllSelect:{selectValue:s,setSelectValue:i},syncDataController:{setSyncData:a}}=e,{theme:c}=(0,l.useContext)(m.ThemeContext),u=(0,_.v9)(e=>e.form.formCoreOriginal),d="custom"===u.form_mode_display,f=(0,l.useRef)(null),x=null===(t=f.current)||void 0===t?void 0:t.textContent,p=tx(),h=ts(o,u),{deleteOptionIdMutation:g}=tp(),{attributes:j,listeners:b,setNodeRef:v,transform:C,transition:N}=(0,D.nB)({id:r.option_id}),y=async e=>{var t;"Enter"===e.key&&(e.preventDefault(),e.stopPropagation()),null===(t=f.current)||void 0===t||t.textContent,"Enter"!==e.key||p.isPending||(await h).mutate()},w=e=>{i(e)},k=()=>{g.mutate({form_id:u._id,inputItem_id:o._id,option_id:r.option_id}),r.option_id===s&&i("")};(0,l.useEffect)(()=>{f.current&&(f.current.textContent=r.option_value)},[]),(0,l.useEffect)(()=>{(p.isSuccess||p.isError)&&a(e=>({...e,option_id_focus:"",option_process_pending:!1}))},[p.isSuccess||p.isError]);let I={transition:N,transform:R.ux.Transform.toString(C)},Z=u.form_title.form_title_color||u.form_setting_default.form_title_color_default;return(0,n.jsxs)("div",{ref:v,...j,...b,style:I,onClick:()=>w(r.option_id),className:"reset-border-outline flex min-h-[5rem]  max-w-full h-max items-center gap-[2rem] text-[1.4rem]",children:[(0,n.jsx)("div",{className:"min-w-[2rem] aspect-square rounded-full border-[.1rem] border-slate-400 flex items-center justify-center",children:s===r.option_id&&(0,n.jsx)("div",{style:{backgroundColor:d&&"light"===c?Z:"var(--text-theme)"},className:"".concat(d?"group-hover:!bg-[#ffffff]":"bg-blue-300"," min-w-[60%] min-h-[60%] rounded-full ")})}),(0,n.jsx)("div",{onKeyDown:y,onBlur:()=>{var e;let t=null===(e=f.current)||void 0===e?void 0:e.textContent;t&&!p.isPending&&t&&t!==r.option_value&&r.option_id&&(p.mutate({form:u,option_id:r.option_id||"",option_value:t,inputItem:o}),a(e=>({...e,option_id_focus:r.option_id,option_process_pending:!0})))},ref:f,contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,tabIndex:0,className:"reset-border-outline h-full min-w-[60%] xl:min-w-[24%] max-w-[70rem] break-words ","data-text":r.option_value||"Nhập th\xf4ng tin t\xf9y chọn",children:x}),(0,n.jsx)("button",{style:{color:d?Z:"#000"},disabled:g.isPending,onClick:e=>{e.preventDefault(),k()},className:"".concat(d?"group-hover:!bg-[#ffffff] hover:bg-gray-200":"bg-gray-200 hover:bg-gray-300"," ml-auto flex items-center gap-[1rem] p-[.5rem_.7rem]  rounded-lg disabled:cursor-not-allowed"),children:(0,n.jsx)(A.Z,{size:16})})]})},tg=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["updatePositionOptionMutation"],mutationFn:e=>{let{form:t,inputItem:r,coreOption:n}=e;return p.updatePostionOption({form:t,inputItem:r,coreOption:n})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},t_=(0,l.memo)(e=>{var t;let{theme:r}=(0,l.useContext)(m.ThemeContext),[o,s]=(0,l.useState)(""),{inputItem:i}=e,a=(0,l.useRef)(null),[c,u]=(0,l.useState)({option_id_focus:"",option_process_pending:!1,btn_click_add:!1}),d=(0,_.v9)(e=>e.form.formCoreOriginal),f="custom"===d.form_mode_display,x=d.form_title.form_title_color||d.form_setting_default.form_title_color_default,p="custom"===d.form_mode_display,h=i.input_title?i.input_title:"",g=tx();(0,l.useEffect)(()=>{a.current&&c.btn_click_add&&!c.option_process_pending&&a.current.click()},[c.btn_click_add,c.option_process_pending]),(0,l.useEffect)(()=>()=>{a.current=null},[]);let j=(0,E.Dy)((0,E.VT)(E.MA,{activationConstraint:{distance:10}})),b=e=>i.core.options.findIndex(t=>t.option_id===e),v=tg();(0,l.useEffect)(()=>{!o&&i.core.options[0]&&s(i.core.options[0].option_id)},[i.core.options,o]);let C=(0,n.jsxs)(H.Z,{className:"mt-[.4rem] min-h-[5rem] max-w-full flex flex-col gap-[2rem] h-max  text-[1.4rem]",children:[(0,n.jsx)(Q,{textContent:"Chọn một lựa chọn",className:"".concat(f?"group-hover:!text-[#ffffff]":"text-text-theme"," text-[1.6rem] font-semibold")}),(0,n.jsx)(E.LB,{sensors:j,collisionDetection:E.ey,onDragEnd:e=>{let{active:t,over:r}=e;if(t.id===(null==r?void 0:r.id))return;let n=b(t.id),l=b(null==r?void 0:r.id),o=(0,D.Rp)(i.core.options,n,l),s=structuredClone(i);return s.core.options=o,v.mutate({form:d,inputItem:i,coreOption:s.core.options}),o},children:(0,n.jsx)(D.Fo,{items:i.core.options.map(e=>e.option_id),strategy:D.qw,children:i.core.options&&i.core.options.map((e,t)=>(0,n.jsx)(th,{option:e,index:t,inputItem:i,controllSelect:{selectValue:o,setSelectValue:s},syncDataController:{syncData:c,setSyncData:u}},e.option_id||Math.random().toString()))})}),(0,n.jsxs)("button",{ref:a,onClick:()=>{if(c.option_id_focus&&c.option_process_pending){u(e=>({...e,btn_click_add:!0}));return}g.mutate({form:d,option_id:"",option_value:"",inputItem:i})},style:{color:p&&"light"===r?x:"#000"},className:"".concat(p?"group-hover:!bg-[#ffffff]":""," min-h-[4rem] w-[20rem]  bg-gray-100 px-[2rem] flex items-center gap-[1rem]  rounded-lg"),children:[(0,n.jsx)(W.Z,{size:16,className:""}),"Th\xeam lựa chọn"]}),(0,n.jsxs)("p",{className:"max-w-[80%] break-words",children:["Kết quả:"," ",(0,n.jsx)("span",{className:"font-medium text-[1.8rem]",children:null===(t=i.core.options.filter(e=>e.option_id===o)[0])||void 0===t?void 0:t.option_value})]})]});return(0,n.jsx)(tm,{InputComponent:C,inputTitle:h,dataTextTitle:"Nhập ti\xeau đề ch\xednh cho c\xe1c t\xf9y chọn",inputItem:i})}),tj=e=>{var t;let{option:r,inputItem:o,controllSelect:{selectValue:s,setSelectValue:i},syncDataController:{syncData:a,setSyncData:c}}=e,{theme:u}=(0,l.useContext)(m.ThemeContext),d=(0,_.v9)(e=>e.form.formCoreOriginal),f="custom"===d.form_mode_display,x=(0,l.useRef)(null),p=null===(t=x.current)||void 0===t?void 0:t.textContent,h=tx(),g=ts(o,d),{deleteOptionIdMutation:j}=tp(),{attributes:b,listeners:v,setNodeRef:C,transform:N,transition:y}=(0,D.nB)({id:r.option_id}),w=async e=>{var t;"Enter"===e.key&&(e.preventDefault(),e.stopPropagation()),null===(t=x.current)||void 0===t||t.textContent,"Enter"!==e.key||h.isPending||(await g).mutate()};(0,l.useEffect)(()=>{(h.isSuccess||h.isError)&&c(e=>({...e,option_id_focus:"",option_process_pending:!1}))},[h.isSuccess||h.isError]);let k=e=>{if(s.includes(e))return i(t=>t.filter(t=>t!==e));i(t=>t.concat(e))},I=()=>{j.mutate({form_id:d._id,inputItem_id:o._id,option_id:r.option_id}),s.includes(r.option_id)&&i([])};(0,l.useEffect)(()=>{x.current&&(x.current.textContent=r.option_value)},[]);let Z={transition:y,transform:R.ux.Transform.toString(N)},S=d.form_title.form_title_color||d.form_setting_default.form_title_color_default;return(0,n.jsxs)("div",{ref:C,...b,...v,style:Z,className:"reset-border-outline flex min-h-[5rem] max-w-full h-max items-center gap-[2rem] text-[1.4rem]",onClick:()=>k(r.option_id),children:[(0,n.jsx)("div",{className:"w-[2rem] aspect-square rounded-full border-[.1rem] border-slate-400 flex items-center justify-center",children:s.includes(r.option_id)&&(0,n.jsx)("div",{style:{backgroundColor:f&&"light"===u?S:"var(--text-theme)"},className:"".concat(f?"group-hover:!bg-[#ffffff]":"bg-blue-300"," min-w-[60%] min-h-[60%] rounded-full ")})}),(0,n.jsx)("div",{onKeyDown:w,onBlur:()=>{var e;let t=null===(e=x.current)||void 0===e?void 0:e.textContent;t&&!h.isPending&&t&&t!==r.option_value&&r.option_id&&(h.mutate({form:d,option_id:r.option_id||"",option_value:t,inputItem:o}),c(e=>({...e,option_id_focus:r.option_id,option_process_pending:!0})))},ref:x,contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,tabIndex:0,className:"reset-border-outline h-full min-w-[60%] xl:min-w-[24%] max-w-[70rem] break-words ","data-text":r.option_value||"Nhập th\xf4ng tin t\xf9y chọn",children:p}),(0,n.jsx)("button",{style:{color:f?S:"#000"},disabled:j.isPending,onClick:e=>{e.preventDefault(),I()},className:"".concat(f?"group-hover:!bg-[#ffffff] hover:bg-gray-200":"bg-gray-200 hover:bg-gray-300"," mr-auto flex items-center gap-[1rem] p-[.5rem_.7rem]  rounded-lg disabled:cursor-not-allowed"),children:(0,n.jsx)(A.Z,{size:16})})]})},tb=(0,l.memo)(e=>{let{theme:t}=(0,l.useContext)(m.ThemeContext),[r,o]=(0,l.useState)([]),[s,i]=(0,l.useState)({option_id_focus:"",option_process_pending:!1,btn_click_add:!1}),a=(0,l.useRef)(null),{inputItem:c}=e,u=(0,_.v9)(e=>e.form.formCoreOriginal),d=u.form_title.form_title_color||u.form_setting_default.form_title_color_default,f="custom"===u.form_mode_display,x=c.input_title?c.input_title:"",p=tx();(0,l.useEffect)(()=>{a.current&&s.btn_click_add&&!s.option_process_pending&&a.current.click()},[s.btn_click_add,s.option_process_pending]),(0,l.useEffect)(()=>()=>{a.current=null},[]);let h=(0,E.Dy)((0,E.VT)(E.MA,{activationConstraint:{distance:10}})),g=e=>c.core.options.findIndex(t=>t.option_id===e),j=tg();(0,l.useEffect)(()=>{!r&&c.core.options[0]&&o(e=>e.concat(c.core.options[0].option_id))},[c.core.options,r]);let b=(0,n.jsxs)(H.Z,{className:"mt-[.4rem] min-h-[5rem] max-w-full flex flex-col gap-[2rem] h-max  text-[1.4rem]",children:[(0,n.jsx)(Q,{textContent:"Chọn c\xe1c lựa chọn b\xean dưới",className:"".concat(f?"group-hover:!text-[#ffffff]":"text-text-theme"," text-[1.6rem] font-semibold")}),(0,n.jsx)(E.LB,{sensors:h,collisionDetection:E.ey,onDragEnd:e=>{let{active:t,over:r}=e;if(t.id===(null==r?void 0:r.id))return;let n=g(t.id),l=g(null==r?void 0:r.id),o=(0,D.Rp)(c.core.options,n,l),s=structuredClone(c);return s.core.options=o,j.mutate({form:u,inputItem:c,coreOption:s.core.options}),o},children:(0,n.jsx)(D.Fo,{items:c.core.options.map(e=>e.option_id),strategy:D.qw,children:c.core.options&&c.core.options.map((e,t)=>(0,n.jsx)(tj,{option:e,index:t,inputItem:c,controllSelect:{selectValue:r,setSelectValue:o},syncDataController:{syncData:s,setSyncData:i}},e.option_id||Math.random().toString()))})}),(0,n.jsxs)("button",{onClick:()=>{if(s.option_id_focus&&s.option_process_pending){i(e=>({...e,btn_click_add:!0}));return}p.mutate({form:u,option_id:"",option_value:"",inputItem:c})},style:{color:f&&"light"===t?d:"#000"},className:"".concat(f?"group-hover:!bg-[#ffffff]":""," min-h-[3rem] xl:min-h-[4rem] w-[16rem] xl:w-[20rem]  bg-gray-100 px-[1rem] xl:px-[2rem] flex items-center gap-[1rem]  rounded-lg"),children:[(0,n.jsx)(W.Z,{size:16,className:""}),"Th\xeam lựa chọn"]}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-[1rem] min-h-[4rem]      ",children:[(0,n.jsx)("span",{children:"Kết quả: "}),(0,n.jsx)("p",{className:"flex flex-wrap gap-[1rem] font-medium text-[1.8rem]      max-w-[20rem] break-words",children:c.core.options.filter(e=>r.includes(e.option_id)).map(e=>(0,n.jsx)("span",{children:e.option_value},e.option_id))})]})]});return(0,n.jsx)(tm,{InputComponent:b,inputTitle:x,dataTextTitle:"Nhập ti\xeau đề ch\xednh cho c\xe1c t\xf9y chọn",inputItem:c})}),tv=(0,l.memo)(e=>{var t,r;let{modeScreen:o}=(0,l.useContext)(a.$),{theme:s}=(0,l.useContext)(m.ThemeContext),{inputItem:i}=e;(0,_.v9)(e=>e.form.formCoreOriginal).form_mode_display;let u=(0,l.useRef)(null),[d,f]=(0,l.useState)(""),x=i.input_title?i.input_title:"";(0,l.useEffect)(()=>{u.current&&(u.current.textContent="",f(""))},[o]);let p=(0,n.jsxs)(H.Z,{className:"".concat("FULL"===o?"w-full sm:w-[75%]":"w-full"," min-h-[5rem] h-max flex flex-col  gap-[.5rem] "),onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.focus()},children:[(0,n.jsx)(Q,{textContent:"Nhập th\xf4ng tin của bạn v\xe0o \xf4 dưới",className:" text-[1.6rem] font-semibold"}),(0,n.jsx)(c.Z,{ref:u,className:" relative group   w-full min-h-[8rem] p-[1.6rem] break-words whitespace-pre-wrap h-max border-[.1rem] border-gray-300 rounded-lg outline-none resize-none ",spellCheck:!1,onKeyDown:e=>{if("Enter"===e.key){if("FULL"===o)return null;e.preventDefault()}},contentEditable:!0,onInput:e=>f(e.currentTarget.textContent||""),"data-text":"".concat((null===(r=i.core)||void 0===r?void 0:null===(t=r.setting)||void 0===t?void 0:t.placeholder)||"Typing your text"),suppressContentEditableWarning:!0,tabIndex:0})]});return(0,n.jsx)(tm,{InputComponent:p,inputTitle:x,inputItem:i})}),tC=r(2730),tN=e=>{let t=(0,_.I0)(),r=(0,_.v9)(e=>e.form.formCoreOriginal),{textContent:l=d.R.buttonDesign.avatar,...o}=e,s=(0,g.D)({mutationKey:["add-background"],mutationFn:e=>b.Z.addAvatar(r),onSuccess:e=>{let{form:r}=e.metadata;t((0,f.ow)({form:r}))}});return(0,n.jsxs)("button",{...o,className:" ".concat(o.className?o.className:""," btn-primarily min-w-[14rem]  w-max  h-[4rem] flex items-center sm:justify-center gap-[.5rem]   rounded-xl  font-bold text-[#fff] "),onClick:()=>{s.mutate(r)},children:[(0,n.jsx)(tC.Z,{}),l]})},ty=r(9809),tw=e=>{let t=(0,_.I0)(),r=(0,_.v9)(e=>e.form.formCoreOriginal),{textContent:l=d.R.buttonDesign.background,...o}=e,s=(0,g.D)({mutationKey:["add-background"],mutationFn:e=>b.Z.addBackground(r),onSuccess:e=>{let{form:r}=e.metadata;t((0,f.ow)({form:r}))}});return(0,n.jsxs)("button",{...o,className:" ".concat(o.className?o.className:""," btn-primarily min-w-[14rem] h-[4rem] w-max flex items-center sm:justify-center gap-[.5rem]   rounded-xl  font-bold text-[#fff] "),onClick:()=>{s.mutate(r)},children:[(0,n.jsx)(ty.Z,{}),l]})},tk=r(9964);r(2214),r(7183);var tI=r(7829),tZ=r(9067),tS=e=>{let{FormCore:t}=e,r=t.form_color||"#f2f2f2";return(0,n.jsx)("div",{style:{backgroundColor:r},className:"px-[2rem] xl:px-0 min-h-screen h-max flex justify-center  p-[2rem]   ",children:(0,n.jsxs)(H.Z,{className:"w-full sm:w-[66.8rem] flex flex-col gap-[4rem] ",children:[(0,n.jsx)(H.Z,{className:"relative w-full min-h-[20rem] aspect-[3.01/1]",children:(0,n.jsx)(tZ.Z,{formCore:t})}),(0,n.jsx)(H.Z,{className:"".concat(({formMarginTop:e=>e?"mt-[6rem]":"mt-0",onCheckModeAvatar:e=>"circle"===e?"rounded-full":"",onCheckPositionAvatar:e=>"left"===e?"left-[calc(25%-6.4rem)] ":"center"===e?"left-[50%] translate-x-[-50%]":"right-[calc(25%-6.4rem)]"}).formMarginTop(t.form_avatar_state)," w-full flex flex-col gap-[3rem] rounded-lg"),children:(0,n.jsx)(H.Z,{className:"flex flex-col gap-[3rem]",children:(0,n.jsx)(tk.Z,{formCore:t,form_answer_id:"",children:(0,n.jsx)(tI.Z,{formCore:t})})})})]})})},tO=e=>{let{ModelWidth:t,ModelHeight:r,ModelWrapperOpacity:o="bg-[rgba(0,0,0,.7)]",ModelBackgroud:s="bg-[#ffffff]",ModelOpacity:i=".8",ModelRounded:a="rounded-[.8rem]",children:m,setOpenModel:u}=e,d=(0,l.useRef)(null),f="".concat(t," ").concat(r," ").concat(s," ").concat(i," ").concat(i," ").concat(a),x=(0,l.useCallback)(e=>{d.current&&!d.current.contains(e.target)&&u(!1)},[u]);return(0,l.useEffect)(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}),[x]),(0,n.jsx)(e_.Z,{children:(0,n.jsx)(H.Z,{className:"".concat(o,"  fixed z-[500] inset-0 w-full min-h-screen h-max  xl:pt-0  px-[20px] flex justify-center items-center  "),children:(0,n.jsx)(c.Z,{ref:d,className:"".concat(f),children:m})})})},tT=r(5550),tE=e=>{let{setOpenModel:t}=e,[r,o]=(0,l.useState)("UPLOAD"),s=(0,_.I0)(),i=(0,_.v9)(e=>e.form.formCoreOriginal),a=i.form_title.form_title_color?i.form_title.form_title_color:i.form_setting_default.form_title_color_default,m=(0,g.D)({mutationKey:["upload-bg"],mutationFn:e=>b.Z.uploadCover(e),onSuccess:e=>{let{form:r}=e.metadata;s((0,f.ow)({form:r})),t(!1)}}),c=(0,g.D)({mutationKey:["delete-cover"],mutationFn:e=>b.Z.deleteCover(e),onSuccess:e=>{let{form:r}=e.metadata;s((0,f.ow)({form:r})),t(!1)}}),u=(0,l.useRef)(null);return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col ",children:[(0,n.jsxs)(H.Z,{className:"h-[10%] px-[2.2rem] flex justify-between border-b-[.1rem] border-slate-200",children:[(0,n.jsx)(H.Z,{className:"flex gap-[2rem]",children:(0,n.jsx)(tl.Z,{onClick:()=>o("UPLOAD"),className:"".concat(({onActive:e=>e===r?"border-slate-900":"border-transparent"}).onActive("UPLOAD"),"  h-full w-max flex items-center border-b-[.2rem]  hover:border-slate-900 text-[1.6rem] font-bold text-textHeader hover:text-slate-800"),textContent:"Tải ảnh l\xean"})}),(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.6rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{c.mutate(i._id)},disabled:c.isPending,children:[(0,n.jsx)(A.Z,{size:16}),"X\xf3a"]})]}),"UPLOAD"===r&&!m.isPending&&(0,n.jsxs)(tl.Z,{className:"flex-1 w-full h-full p-[2rem] hover:cursor-pointer",textContent:"",disabled:m.isPending,onClick:()=>{u.current&&u.current.click()},children:[(0,n.jsx)("input",{ref:u,type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],{_check:r,message:n}=(0,tT.s)({file:t,sizeAllowOptions:3});if(!r)return s((0,en.DT)({toast_item:{_id:(0,el.Z)(),type:"ERROR",core:{message:n},toast_title:"Lỗi File Upload"}}));let l=new FormData;l.append("file",t),l.append("form_id",i._id),m.mutate(l)}}}),(0,n.jsxs)(H.Z,{className:"w-full h-full border-[.1rem] border-dashed border-slate-300 flex flex-col justify-center items-center gap-[1rem] text-[2rem] ",children:[(0,n.jsx)(eO.Z,{size:28}),"Chọn file để tải l\xean"]})]}),"UPLOAD"===r&&m.isPending&&(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,n.jsx)(es.Z,{color:a})})]})},tD=e=>{var t;let{setOpenModel:r}=e,[o,s]=(0,l.useState)("UPLOAD"),i=(0,_.I0)(),a=(0,_.v9)(e=>e.form.formCoreOriginal),m=a.form_title.form_title_color?a.form_title.form_title_color:a.form_setting_default.form_title_color_default,c=(0,g.D)({mutationKey:["upload-avatar-form"],mutationFn:e=>b.Z.uploadAvatar(e),onSuccess:e=>{let{form:t}=e.metadata;i((0,f.ow)({form:t})),r(!1)}}),u=(0,g.D)({mutationKey:["delete-avatar-form"],mutationFn:e=>{let{id:t,mode:r}=e;return b.Z.deleteAvatar(t,r)},onSuccess:e=>{let{form:t}=e.metadata;i((0,f.ow)({form:t})),r(!1)}}),d=(0,l.useRef)(null);return(0,n.jsxs)(H.Z,{className:"w-full h-full flex flex-col ",children:[(0,n.jsxs)(H.Z,{className:"h-[10%] px-[2.2rem] flex justify-between border-b-[.1rem] border-slate-200",children:[(0,n.jsx)(H.Z,{className:"flex gap-[2rem]",children:(0,n.jsx)(tl.Z,{onClick:()=>s("UPLOAD"),className:"".concat(({onActive:e=>e===o?"border-slate-900":"border-transparent"}).onActive("UPLOAD"),"  h-full w-max flex items-center border-b-[.2rem]  hover:border-slate-900 text-[1.6rem] font-bold text-textHeader hover:text-slate-800"),textContent:"Tải ảnh l\xean"})}),(a.form_avatar_state||(null===(t=a.form_avatar)||void 0===t?void 0:t.form_avatar_url))&&(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.6rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{var e;let t=(null===(e=a.form_avatar)||void 0===e?void 0:e.form_avatar_url)?"Image":"NoFile";u.mutate({id:a._id,mode:t})},disabled:u.isPending,children:[(0,n.jsx)(A.Z,{size:16}),"X\xf3a"]})]}),"UPLOAD"===o&&!c.isPending&&(0,n.jsxs)(tl.Z,{className:"flex-1 w-full h-full p-[2rem] hover:cursor-pointer",textContent:"",disabled:c.isPending,onClick:()=>{d.current&&d.current.click()},children:[(0,n.jsx)("input",{ref:d,type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],{_check:r,message:n}=(0,tT.s)({file:t,sizeAllowOptions:2});if(!r)return i((0,en.DT)({toast_item:{_id:(0,el.Z)(),type:"ERROR",core:{message:n},toast_title:"Lỗi File Upload"}}));let l=new FormData;l.append("file",t),l.append("form_id",a._id),c.mutate(l)}}}),(0,n.jsxs)(H.Z,{className:"w-full h-full border-[.1rem] border-dashed border-slate-300 flex flex-col justify-center items-center gap-[1rem] text-[2rem] ",children:[(0,n.jsx)(eO.Z,{size:28}),"Chọn file để tải l\xean"]})]}),"UPLOAD"===o&&c.isPending&&(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,n.jsx)(es.Z,{color:m})})]})},tL=e=>{let{MODE:t,setOpenModel:r}=e;return(0,n.jsx)(tO,{ModelWidth:"w-[90%] xl:w-[80rem]",ModelHeight:"h-[45rem]",ModelWrapperOpacity:"bg-[rgba(0,0,0,.6)]",setOpenModel:r,children:(0,n.jsxs)(H.Z,{className:"w-full h-full py-[1.6rem]",children:["BACKGROUND"===t&&(0,n.jsx)(tE,{setOpenModel:r}),"AVATAR"===t&&(0,n.jsx)(tD,{setOpenModel:r})]})})},tM=()=>((0,g.D)({mutationKey:["edit-form"],mutationFn:e=>b.Z.updateForm(e)}),(0,n.jsx)(H.Z,{className:" flex items-center justify-center ",title:"Save",children:(0,n.jsx)(tl.Z,{textContent:"Save",className:"p-[.8rem] rounded-md bg-blue-500 text-white",onClick:()=>{}})})),tR=r(6369),tA=()=>{var e,t,r,o;let{modeScreen:s,setModeScreen:i}=(0,l.useContext)(a.$),m=(0,_.v9)(e=>e.form.formCoreOriginal),[u,d]=(0,l.useState)(!1),f=(null===(e=m.form_background)||void 0===e?void 0:e.backgroundColor)||"",x=()=>"FULL"===s?i("NORMAL"):i("FULL"),p=(0,tR.G0)({formCore:m,mode:"edit"}),h=null===(t=m.form_background)||void 0===t?void 0:t.padding.x,g=null===(r=m.form_background)||void 0===r?void 0:r.padding.y,j="".concat(g,"% ").concat(h,"%");return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(c.Z,{onClick:()=>d(!0),className:"absolute inset-0 z-[2]  hover:cursor-pointer max-h-[40rem] overflow-hidden",children:(0,n.jsx)("div",{style:{backgroundColor:f,padding:j},className:"relative inset-0 min-h-full  w-full overflow-hidden ",children:(0,n.jsx)(e0.default,{src:(null===(o=m.form_background)||void 0===o?void 0:o.form_background_iamge_url)||m.form_setting_default.form_background_default_url,width:800,height:160,quality:100,style:p.style_background,unoptimized:!0,alt:"form background",className:"absolute w-full h-full max-h-[40rem]   rounded-lg"})})}),"NORMAL"===s&&(0,n.jsxs)(l.Fragment,{children:[(0,n.jsxs)(H.Z,{className:" flex xl:hidden absolute right-[1rem] top-[1rem]  gap-[1rem]",children:[(0,n.jsx)(H.Z,{className:" flex items-center justify-center ",title:"Review",children:(0,n.jsx)(tl.Z,{textContent:"Review ".concat(s),className:"p-[.8rem] rounded-md bg-color-main text-text-theme",onClick:x})}),(0,n.jsx)(tM,{}),(0,n.jsx)(H.Z,{className:" flex items-center justify-center ",title:"Publish",children:(0,n.jsx)(tl.Z,{textContent:"Publish",className:"p-[.8rem] rounded-md bg-color-main text-bg-input-theme"})})]}),(0,n.jsxs)(H.Z,{className:"".concat(p.position_buttn," hidden group-hover:flex absolute gap-[1rem]  flex-col justify-center items-end   top-[2rem] xl:top-[80%]   z-[3]"),children:[(0,n.jsx)(tl.Z,{onClick:()=>d(!0),textContent:"Thay đổi ảnh b\xeca",className:"w-[14rem] h-[3rem] sm:w-[16rem] sm:h-[4rem] px-[1rem] border-[.1rem] border-slate-150 bg-[#ffffff] rounded-lg text-[#000]"}),(0,n.jsx)(H.Z,{className:" flex sm:hidden   items-center justify-center ",title:"Review",children:(0,n.jsx)(tl.Z,{textContent:"Review ".concat(s),className:"w-[14rem] h-[3rem] sm:w-[16rem] sm:h-[4rem] px-[1rem] rounded-md bg-color-main text-bg-input-theme",onClick:x})})]})]}),u&&(0,n.jsx)(tL,{setOpenModel:d,MODE:"BACKGROUND"})]})},tP=()=>{var e,t;let r=(0,_.v9)(e=>e.form.formCoreOriginal),{openFormDesign:o}=(0,l.useContext)(i.D),[s,a]=(0,l.useState)(!1),{position:m,shape:c}=(0,tR.Lw)({formCore:r}),u=r.form_background_state||(null===(e=r.form_background)||void 0===e?void 0:e.form_background_iamge_url);return(0,n.jsx)(l.Fragment,{children:(0,n.jsxs)("div",{className:"\n   ".concat(o?"!h-[33rem] !max-h-[33rem] !min-h-[33rem]":"","\n ").concat(u?"min-h-[40rem] max-h-[40rem]":"min-h-[15rem] max-h-[15rem]","\n  w-full xl:max-w-[70rem] mx-auto  relative flex items-end"),children:[(0,n.jsx)("div",{className:"absolute h-max w-full bottom-0 flex justify-center",children:(0,n.jsx)("div",{className:"relative w-full ",children:(0,n.jsx)(e0.default,{width:150,height:150,src:(null===(t=r.form_avatar)||void 0===t?void 0:t.form_avatar_url)||r.form_setting_default.form_avatar_default_url,quality:100,onClick:()=>{a(e=>!e)},alt:"avatar",className:"".concat(m," ").concat(c," absolute top-[0] translate-y-[-50%] z-[3] object-center w-[14rem] h-[14rem] xl:w-[16rem] xl:h-[16rem] hover:cursor-pointer ")})})}),s&&(0,n.jsx)(tL,{setOpenModel:a,MODE:"AVATAR"})]})})},tF=()=>{var e;let t=(0,_.v9)(e=>e.form.formCoreOriginal),{openFormDesign:r}=(0,l.useContext)(i.D),o=t.form_background_state||(null===(e=t.form_background)||void 0===e?void 0:e.form_background_iamge_url);return(0,n.jsxs)(H.Z,{className:" ".concat(r?"!h-[33rem] !max-h-[33rem] !min-h-[33rem]":"","\n ").concat(o?"min-h-[40rem] max-h-[40rem]":"!min-h-[15rem] !max-h-[15rem]","\n\n group  relative w-full xl:w-[90rem] mx-auto  px-[4rem] xl:px-0 min-h-[40rem] max-h-[40rem]"),children:[(t.form_background||t.form_background_state)&&(0,n.jsx)(tA,{}),(t.form_avatar||t.form_avatar_state)&&(0,n.jsx)(tP,{})]})},tz=e=>{(0,_.v9)(e=>e.form.formCoreOriginal);let{setOpenFormDesign:t}=(0,l.useContext)(i.D),{textContent:r=d.R.buttonDesign.custom,...o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{...o,className:" ".concat(o.className||"","  btn-primarily min-w-[14rem] w-max h-[4rem] flex items-center sm:justify-center gap-[.5rem]   rounded-lg  font-bold text-[#fff] "),onClick:()=>{t(e=>!e)},children:[(0,n.jsx)(ty.Z,{}),r]})})},tB=()=>{let e=(0,_.I0)();return(0,g.D)({mutationKey:["add-input-form"],mutationFn:e=>{let{form_id:t}=e;return p.addInput({form_id:t})},onSuccess:t=>{let{form:r}=t.metadata;e((0,f.ow)({form:r}))}})},tU=e=>{let{textContent:t="Th\xeam Input",...r}=e,l=(0,_.v9)(e=>e.form.formCoreOriginal);(0,_.v9)(e=>e.form.colorCore);let o=tB();return(0,n.jsx)("button",{...r,onClick:()=>o.mutate({form_id:l._id}),className:"".concat(r.className||""," text-left mt-[1rem] min-w-[4rem] w-max px-[1rem] h-[4rem] xl:h-[3.2rem] flex items-center justify-center bg-color-btn-primarily  text-white rounded-lg  text-[1.6rem"),children:t})},tK=e=>{let{inputItem:t}=e,[r,o]=(0,l.useState)({value:{addressString:"",addressValidate:Y.Oy,address_full:"",addressCore:""},error:{message:""},validate:!1}),s=e=>{let{_next:r,message:n,type:l}=(0,e5.Z)({inputValue:e,inputSetting:t.core.setting});o(t=>({...t,validate:!r,value:e,error:{message:n}}))},i=(0,n.jsxs)("div",{className:"flex flex-col gap-[2rem]",children:[(0,n.jsx)(e4.Z,{detail:!0,onChange:s}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[(r.validate||r.value.addressString)&&(0,n.jsx)(e8.Z,{message:r.value.addressString}),(0,n.jsx)("button",{onClick:()=>s(r.value),className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-color-btn-primarily rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),r.error.message&&(0,n.jsx)(e3,{message:r.error.message})]})]});return(0,n.jsx)(tm,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho phần địa chỉ"})},tH=e=>{let{inputItem:t}=e,r="custom"===(0,_.v9)(e=>e.form.formCoreOriginal).form_mode_display,[o,s]=(0,l.useState)({value:{href:""},error:{message:""},validate:!1}),i=e=>{s(t=>({...t,value:{href:e}}))},a=(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem] text-text-theme ",children:[(0,n.jsx)(Q,{textContent:"Nhập li\xean kết của bạn",className:"".concat(r?"group-hover:!text-[#ffffff]":"text-text-theme"," text-[1.6rem] font-semibold")}),(0,n.jsxs)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] border-[.1rem] bg-[#fff] border-gray-400 focus:border-transparent  rounded-lg",children:[(0,n.jsx)("input",{value:o.value.href,onChange:e=>i(e.target.value),className:"w-[80%] h-full p-[1rem] rounded-lg text-[1.6rem]     outline-none   text-[#000]",placeholder:"Nhập đường dẫn li\xean kết của bạn"}),(0,n.jsx)("div",{className:"absolute z-[2] right-[1rem]  opacity-70",children:"www"})]}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[o.validate&&o.value.href&&(0,n.jsx)(e8.Z,{message:"Đường dẫn hợp lệ"}),(0,n.jsx)("button",{onClick:()=>{let{_next:e,message:r,type:n}=(0,e9.Z)({inputValue:o.value.href,inputSetting:t.core.setting});e?s(e=>({...e,error:{message:""},validate:!0})):s(e=>({...e,error:{message:r},validate:!1}))},className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),o.error.message&&(0,n.jsx)(e3,{message:o.error.message})]})]});return(0,n.jsx)(tm,{InputComponent:a,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho li\xean kết"})},tV=r(4314),tq=r(2156),tW=e=>{let{inputItem:t}=e;(0,_.v9)(e=>e.form.formCoreOriginal);let r=(0,l.useRef)(null),[o,s]=(0,l.useState)("");(0,l.useEffect)(()=>()=>{URL.revokeObjectURL(o)},[o]);let i=(0,n.jsx)(H.Z,{className:"relative flex flex-col items-start gap-[1rem] text-text-theme ",children:(0,n.jsxs)(H.Z,{className:"h-[90%]  flex flex-col items-start  gap-[3rem] ",children:[(0,n.jsx)("button",{onClick:()=>{r.current&&r.current.click()},className:"btn-primarily min-w-[12rem]   rounded-xl",children:o?"Tải l\xean lại":"Tải ảnh l\xean"}),(0,n.jsx)("input",{type:"file",hidden:!0,ref:r,onChange:e=>{if(e.target.files){let t=e.target.files[0];t&&s(URL.createObjectURL(t))}},accept:".jpg, .jpeg, .png"}),o&&(0,n.jsx)(e0.default,{src:o,width:70,height:70,alt:"demo upload h\xecnh ảnh",className:"w-[10rem] aspect-square xl:w-[20rem]"}),o?(0,n.jsx)(tV.Z,{}):(0,n.jsx)(tq.Z,{})]})});return(0,n.jsx)(tm,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam m\xf4 tả về ng\xe0y được chọn"})},tX=e=>{let{inputItem:t}=e,r="custom"===(0,_.v9)(e=>e.form.formCoreOriginal).form_mode_display,[o,s]=(0,l.useState)(0),i=(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem] text-text-theme ",children:[(0,n.jsx)(Q,{textContent:"Số điện thoại",className:"".concat(r?"group-hover:!text-[#ffffff]":"text-text-theme"," text-[1.6rem] font-semibold")}),(0,n.jsx)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:(0,n.jsx)("input",{value:o,type:"number",className:"w-full h-full text-text-theme p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent",placeholder:"Nhập số điện thoại của bạn",onChange:e=>s(+e.target.value)})}),0!=o&&!o.toString().match(eY.r)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-[1.4rem]",children:"Số điện thoại bạn nhập kh\xf4ng hợp lệ"}),(0,n.jsx)("span",{children:"Input n\xe0y chỉ chấp nhập gi\xe1 trị l\xe0 số"})]}),0!=o&&o.toString().match(eY.r)&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-[1.4rem]",children:"Số điện thoại bạn nhập hợp lệ"})})]});return(0,n.jsx)(tm,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho số điện thoại"})},t$=e=>{let{inputItem:t}=e,[r,o]=(0,l.useState)(2.5),s=(0,n.jsxs)(H.Z,{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)(Q,{textContent:"Đ\xe1nh gi\xe1",className:"text-[1.6rem] font-semibold"}),(0,n.jsx)(H.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:(0,n.jsx)("div",{className:"w-max px-[2rem] h-[4rem] bg-bg-input-theme flex items-center rounded-lg ",children:(0,n.jsx)(eG.Z,{allowHalf:!0,value:r,onChange:e=>o(e),className:""})})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số đ\xe1nh gi\xe1 bạn chọn l\xe0: ",r]})]});return(0,n.jsx)(tm,{InputComponent:s,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho đ\xe1nh gi\xe1"})};let tG=e=>e.map((e,t)=>{switch(e.type){case"TEXT":return(0,n.jsx)(tv,{inputItem:e},e._id);case"EMAIL":return(0,n.jsx)(tf,{inputItem:e},e._id);case"VOTE":return(0,n.jsx)(t$,{inputItem:e},e._id);case"PHONE":return(0,n.jsx)(tX,{inputItem:e},e._id);case"OPTION":return(0,n.jsx)(t_,{inputItem:e},e._id);case"OPTION_MULTIPLE":return(0,n.jsx)(tb,{inputItem:e},e._id);case"DATE":return(0,n.jsx)(tu,{inputItem:e},e._id);case"FILE_IMAGE":return(0,n.jsx)(tW,{inputItem:e},e._id);case"ADDRESS":return(0,n.jsx)(tK,{inputItem:e},e._id);case"ANCHOR":return(0,n.jsx)(tH,{inputItem:e},e._id);default:return(0,n.jsx)(tv,{inputItem:e},t)}});var tQ=()=>{let e=(0,_.v9)(e=>e.form.formCoreOriginal);(0,_.v9)(e=>e.form.colorCore);let{modeScreen:t,setModeScreen:r}=(0,l.useContext)(a.$),{openFormDesign:o}=(0,l.useContext)(i.D),{openSidebar:c,setOpenSidebar:u}=(0,l.useContext)(s.SidebarContext),{theme:d}=(0,l.useContext)(m.ThemeContext),x=(0,T.Z)(),p=(0,_.I0)(),h=(0,l.useMemo)(()=>tG(e.form_inputs),[null==e?void 0:e.form_inputs]),g=t=>e.form_inputs.findIndex(e=>e._id===t),j=(0,E.Dy)((0,E.VT)(E.MA,{activationConstraint:{distance:10}}));(0,l.useEffect)(()=>{window.scrollTo(0,0)},[]);let b=e.form_avatar||e.form_background||e.form_background_state||e.form_avatar_state,v=e.form_avatar||e.form_avatar_state?"":"pt-0",C=e.form_avatar_state&&e.form_background_state?"sm:min-h-[4rem]":" sm:min-h-[7rem]";return(0,l.useEffect)(()=>{"FULL"===t&&window.scrollTo(0,0)},[t]),(0,n.jsxs)(n.Fragment,{children:["NORMAL"===t&&(0,n.jsxs)(H.Z,{className:" w-full   pb-[28rem] sm:px-0    xl:ml-0 flex flex-col gap-[3rem] text-text-theme min-h-screen h-max  ",children:[b&&(0,n.jsx)(tF,{}),(0,n.jsx)("div",{className:"mt-[8rem]\n						min-h-screen h-max ",children:(0,n.jsxs)(H.Z,{className:"flex-1 px-[6rem] xl:px-[4rem] min-h-full h-max  w-full xl:max-w-[74rem] mx-auto   xl:pl-0  flex flex-col  xl:pb-[4rem] gap-[2rem]  ",children:[(0,n.jsx)(H.Z,{className:"".concat(v),children:(0,n.jsx)(H.Z,{className:"".concat(C," group max-h-[18rem] sm:max-h-[8rem] xl:min-h-max "),children:(0,n.jsxs)(H.Z,{className:"mt-[2rem] w-full xl:min-w-[80rem] xl:w-max h-full   flex flex-wrap flex-col sm:flex-row sm:items-center  gap-[2rem]",children:[(0,n.jsx)(tz,{className:"".concat(o?"":"ml-0")}),(0,n.jsxs)(H.Z,{className:"flex flex-col sm:flex-row w-max  h-max sm:h-[4rem]   gap-[2rem]",children:[!e.form_avatar_state&&!e.form_avatar&&(0,n.jsx)(tN,{}),!e.form_background_state&&!e.form_background&&(0,n.jsx)(tw,{})]})]})})}),(0,n.jsxs)(H.Z,{className:"".concat(o?"":"ml-0","  flex flex-col gap-[4rem] min-h-full"),children:[(0,n.jsx)(K,{}),e.form_inputs.length>0&&(0,n.jsx)(H.Z,{className:"mt-[2rem] h-max w-full flex flex-col gap-[8rem] ",children:(0,n.jsx)(E.LB,{sensors:j,collisionDetection:E.ey,onDragEnd:t=>{let{active:r,over:n}=t;if(r.id===(null==n?void 0:n.id))return;let l=g(r.id),o=g(null==n?void 0:n.id),s=(0,D.Rp)(e.form_inputs,l,o),i=structuredClone(e);return i.form_inputs=s,p((0,f.ow)({form:i})),x.mutate(i),s},children:(0,n.jsx)(D.Fo,{items:e.form_inputs.map(e=>e._id),strategy:D.qw,children:h})})}),(0,n.jsx)(tU,{}),(0,n.jsx)(tl.Z,{id:"submit",textContent:e.form_button_text,className:"bg-color-btn-primarily text-center px-[1rem] mt-[1rem] min-w-[12rem] w-max h-[5rem]  text-white rounded-lg  text-[1.6rem]",onClick:()=>{}})]})]})})]}),"FULL"===t&&(0,n.jsxs)("div",{className:"".concat(({onCheckModeScreen:()=>"FULL"===t?" !min-h-screen !w-screen  !h-max relative   !transition-[scale] animate-modeScreen z-[50]":""}).onCheckModeScreen()),children:[(0,n.jsx)(H.Z,{className:"absolute right-[4rem] top-[3rem] flex items-center justify-center z-[51]",title:"Publish",children:(0,n.jsx)(tl.Z,{textContent:"Trở về Form Design",className:"p-[.8rem] rounded-lg bg-color-main  text-[#ffffff] ",onClick:()=>{r("NORMAL"),u(!0)}})}),(0,n.jsx)(tS,{FormCore:e})]})]})},tY=()=>{var e,t,r;let o=(0,_.I0)(),s=(0,_.v9)(e=>e.form.formCoreOriginal),{isDesignForm:a,setIsDesginForm:c}=(0,l.useContext)(i.D),{theme:u}=(0,l.useContext)(m.ThemeContext),d={onCheckModeSelect:e=>e?"light"===u?"bg-slate-900 text-white":"bg-[#fff] text-color-section-theme":"light"===u?"bg-white text-slate-700 border-[.1rem] border-slate-200":"bg-colorr-section-theme text-[#fff] border-[.1rem] border-[#fff]"},x=e=>{a&&c(!0);let t=structuredClone(s);t.form_background.mode_show=e,o((0,f.ow)({form:t}))},p=!!(null===(e=s.form_background)||void 0===e?void 0:e.form_background_iamge_url)||s.form_background_state;return(0,n.jsxs)("div",{className:"w-full h-[4rem] flex items-center gap-[2rem]",children:[(0,n.jsx)("button",{disabled:!p,onClick:()=>x("contain"),className:"".concat(d.onCheckModeSelect((null===(t=s.form_background)||void 0===t?void 0:t.mode_show)==="contain")," min-w-[10rem]  h-full rounded-lg disabled:cursor-not-allowed "),children:"contain"}),(0,n.jsx)("button",{disabled:!p,onClick:()=>x("cover"),className:"".concat(d.onCheckModeSelect((null===(r=s.form_background)||void 0===r?void 0:r.mode_show)==="cover")," min-w-[10rem] h-full rounded-lg disabled:cursor-not-allowed "),children:"cover"})]})},tJ=r(1461),t0=()=>{var e,t,r;let o=(0,_.I0)(),s=(0,_.v9)(e=>e.form.formCoreOriginal),{isDesignForm:a,setIsDesginForm:m}=(0,l.useContext)(i.D),[c,u]=(0,l.useState)(!1),d=!!(null===(e=s.form_background)||void 0===e?void 0:e.form_background_iamge_url)||s.form_background_state;return(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsxs)("button",{disabled:!d,onClick:()=>u(e=>!e),className:"relative flex items-center gap-[2rem] h-[4rem]",children:[(0,n.jsx)("p",{children:"M\xe0u nền "}),(0,n.jsx)("div",{className:"w-[7rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:(null===(t=s.form_background)||void 0===t?void 0:t.backgroundColor)?(0,n.jsx)("div",{style:{backgroundColor:s.form_background.backgroundColor},className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"}):(0,n.jsx)("div",{className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center",children:"Trống"})}),c&&(0,n.jsx)(y.Z,{setOpenModel:u,children:(0,n.jsx)("button",{disabled:!d,className:"absolute top-[100%] z-[2]  left-0  disabled:cursor-not-allowed",onClick:e=>e.stopPropagation(),children:(0,n.jsx)(tJ.gW,{color:null===(r=s.form_background)||void 0===r?void 0:r.backgroundColor,onChange:e=>{a||m(!0);let t=structuredClone(s);t.form_background.backgroundColor=e,o((0,f.ow)({form:t}))}})})})]}),(0,n.jsx)("span",{className:"text-[1.2rem] opacity-55",children:"Khi h\xecnh ảnh qu\xe1 nhỏ th\xec m\xe0u nền sẽ phủ tiếp cho bức ảnh, c\xf2n bức ảnh vừa th\xec m\xe0u nền sẽ kh\xf4ng hiển thị"})]})},t1=r(6685),t2=()=>{var e,t,r,o,s;let a=(0,_.v9)(e=>e.form.formCoreOriginal),c=(0,_.v9)(e=>e.form.colorCore),u=(0,_.I0)(),{isDesignForm:d,setIsDesginForm:x}=(0,l.useContext)(i.D),{theme:p}=(0,l.useContext)(m.ThemeContext),h=(0,t1.y)((e,t)=>C(e,t),0),g=!!(null===(e=a.form_background)||void 0===e?void 0:e.form_background_iamge_url)||a.form_background_state,j={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},b=null===(r=a.form_background)||void 0===r?void 0:null===(t=r.position)||void 0===t?void 0:t.left,v=null===(s=a.form_background)||void 0===s?void 0:null===(o=s.position)||void 0===o?void 0:o.top,C=(e,t)=>{var r;let n=structuredClone(a),l={...n,form_background:{...n.form_background,position:{...null===(r=n.form_background)||void 0===r?void 0:r.position,[t]:e}}};d||x(!0),u((0,f.Z$)({form:l}))};return(0,n.jsxs)("div",{className:" flex justify-between",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"C\xe1ch lề tr\xe1i"}),(0,n.jsxs)("div",{className:"".concat(j.onCheckHasBackground(g)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===p?c:"#000"},disabled:!g,value:b,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>h(+e.target.value,"left")}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"C\xe1ch lề tr\xean"}),(0,n.jsxs)("div",{className:"".concat(j.onCheckHasBackground(g)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===p?c:"#000"},disabled:!g,value:v,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>h(+e.target.value,"top")}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},t4=()=>{var e,t,r;let o=(0,_.v9)(e=>e.form.formCoreOriginal),s=(0,_.v9)(e=>e.form.colorCore),a=(0,_.I0)(),{isDesignForm:c,setIsDesginForm:u}=(0,l.useContext)(i.D),{theme:d}=(0,l.useContext)(m.ThemeContext),x=(0,t1.y)((e,t)=>b(e,t),0),p=!!(null===(e=o.form_background)||void 0===e?void 0:e.form_background_iamge_url)||o.form_background_state,h={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},g=(null===(t=o.form_background)||void 0===t?void 0:t.padding.x)||0,j=(null===(r=o.form_background)||void 0===r?void 0:r.padding.y)||0,b=(e,t)=>{var r;let n=structuredClone(o),l={...n,form_background:{...n.form_background,padding:{...null===(r=n.form_background)||void 0===r?void 0:r.padding,[t]:e>0?e:0}}};c||u(!0),a((0,f.Z$)({form:l}))};return(0,l.useEffect)(()=>{},[o]),(0,n.jsxs)("div",{className:" flex justify-between",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"Padding X"}),(0,n.jsxs)("div",{className:"".concat(h.onCheckHasBackground(p)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===d?s:"#000"},disabled:!p,value:g>0?g:0,min:0,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>x(+e.target.value,"x")}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"Padding Y"}),(0,n.jsxs)("div",{className:"".concat(h.onCheckHasBackground(p)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===d?s:"#000"},disabled:!p,value:j>0?j:0,min:0,type:"number",onChange:e=>x(+e.target.value,"y"),className:" w-[80%] disabled:cursor-not-allowed  "}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},t5=()=>{var e,t,r,o,s;let a=(0,_.v9)(e=>e.form.formCoreOriginal),c=(0,_.v9)(e=>e.form.colorCore),u=(0,_.I0)(),{isDesignForm:d,setIsDesginForm:x}=(0,l.useContext)(i.D),{theme:p}=(0,l.useContext)(m.ThemeContext),h=(0,t1.y)((e,t)=>C(e,t),0),g=!!(null===(e=a.form_background)||void 0===e?void 0:e.form_background_iamge_url)||a.form_background_state,j={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},b=(null===(r=a.form_background)||void 0===r?void 0:null===(t=r.size)||void 0===t?void 0:t.width)||100,v=(null===(s=a.form_background)||void 0===s?void 0:null===(o=s.size)||void 0===o?void 0:o.height)||100,C=(e,t)=>{var r;let n=structuredClone(a),l={...n,form_background:{...n.form_background,size:{...null===(r=n.form_background)||void 0===r?void 0:r.size,[t]:e}}};d||x(!0),u((0,f.Z$)({form:l}))};return(0,n.jsxs)("div",{className:" flex justify-between gap-[2rem]",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"Chiều rộng"}),(0,n.jsxs)("div",{className:"".concat(j.onCheckHasBackground(g)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===p?c:"#000"},disabled:!g,value:b,type:"number",min:0,className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>h(+e.target.value,"width")}),b?(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"}):(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"auto"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[(0,n.jsx)("span",{className:"",children:"Chiều d\xe0i"}),(0,n.jsxs)("div",{className:"".concat(j.onCheckHasBackground(g)," w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===p?c:"#000"},disabled:!g,value:v,type:"number",min:0,className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>h(+e.target.value,"height")}),v?(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"}):(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"auto"})]})]})]})},t3=()=>{var e,t,r;let o=(0,_.v9)(e=>e.form.formCoreOriginal),s=(0,_.v9)(e=>e.form.colorCore),a=(0,_.I0)(),{isDesignForm:c,setIsDesginForm:u}=(0,l.useContext)(i.D),{theme:d}=(0,l.useContext)(m.ThemeContext),x=(0,t1.y)((e,t)=>b(e,t),0),p=!!(null===(e=o.form_background)||void 0===e?void 0:e.form_background_iamge_url)||o.form_background_state,h={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},g=null===(t=o.form_background)||void 0===t?void 0:t.object.x,j=null===(r=o.form_background)||void 0===r?void 0:r.object.y,b=(e,t)=>{var r;let n=structuredClone(o),l={...n,form_background:{...n.form_background,object:{...null===(r=n.form_background)||void 0===r?void 0:r.object,[t]:e}}};c||u(!0),a((0,f.Z$)({form:l}))};return(0,n.jsxs)("div",{className:" flex flex-col gap-[2rem]",children:[(0,n.jsxs)("div",{className:"flex flex-col  gap-[.6rem] ",children:[(0,n.jsx)("span",{className:"text-[1.3rem]",children:"Căn chỉnh ảnh theo trục ngang"}),(0,n.jsxs)("div",{className:"".concat(h.onCheckHasBackground(p)," w-[7rem] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===d?s:"#000"},disabled:!p,value:g,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>x(+e.target.value,"x")}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col  gap-[.6rem] ",children:[(0,n.jsx)("span",{className:"text-[1.3rem]",children:"Căn chỉnh ảnh theo trục dọc"}),(0,n.jsxs)("div",{className:"".concat(h.onCheckHasBackground(p)," w-[7rem] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]\nborder-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]"),children:[(0,n.jsx)("input",{style:{color:"light"===d?s:"#000"},disabled:!p,value:j,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>x(+e.target.value,"y")}),(0,n.jsx)("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},t6=()=>{var e,t;let r=(0,_.v9)(e=>e.form.formCoreBackUp),l=!!(null===(e=r.form_background)||void 0===e?void 0:e.form_background_iamge_url),o=(null===(t=r.form_background)||void 0===t?void 0:t.form_background_iamge_url)||r.form_background_state?"bg-transparent":"opacity-40 cursor-not-allowed";return(0,n.jsxs)("div",{className:"".concat(o," flex flex-col gap-[3rem] p-[1rem] border-t-[.1rem] border-slate-200 "),children:[(0,n.jsxs)("p",{className:"font-medium",children:["T\xf9y chỉnh ảnh b\xeca ",l?"":"(Chưa upload ảnh)"]}),(0,n.jsx)(tY,{}),(0,n.jsx)("span",{className:"text-[1.2rem] opacity-55",children:"Để c\xe1c cấu h\xecnh dưới đ\xe2y ch\xednh x\xe1c hơn th\xec bạn chọn mode: Cover nh\xe9 "}),(0,n.jsx)(t5,{}),(0,n.jsx)(t3,{}),(0,n.jsx)(t2,{}),(0,n.jsx)(t4,{}),(0,n.jsx)(t0,{})]})},t9=e=>{let{isDesignForm:t,setIsDesginForm:r}=(0,l.useContext)(i.D),{inputItem:o,typeEdit:s,setOpenColorModel:a}=e,m=(0,_.v9)(e=>e.form.formCoreOriginal),u=(0,l.useRef)(null);(0,_.v9)(e=>e.form.formCoreOriginal);let d=(0,_.I0)(),x=(0,l.useCallback)(e=>{u.current&&!u.current.contains(e.target)&&a(!1)},[a]);return(0,l.useEffect)(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}),[x]),(0,n.jsx)(c.Z,{ref:u,className:"custom-color-title  h-[10rem] ",onBlur:()=>a(!1),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(tJ.gW,{color:m.form_title.form_title_color,onChange:e=>{t||r(!0);let n=structuredClone(m);"Form"===s&&(n.form_title.form_title_color=e),"Common"===s&&(n.form_setting_default.input_color=e,n.form_inputs=n.form_inputs.map(t=>(t.core.setting.input_color=e,t))),"Input"===s&&(n.form_inputs=n.form_inputs.map(t=>(t._id===(null==o?void 0:o._id)&&(t.core.setting={...t.core.setting,input_color:e}),t))),d((0,f.Z$)({form:n}))}})})};let t8=(e,t)=>{switch(e){case"Form":return t.form_title.form_title_color?t.form_title.form_title_color:t.form_setting_default.form_title_color_default;case"Common":case"Input":return t.form_setting_default.input_color}};var t7=e=>{let{typeEdit:t}=e,[r,o]=(0,l.useState)(!1),s=(0,_.v9)(e=>e.form.formCoreOriginal);return(0,l.useMemo)(()=>t8(t,s),[s,t]),(0,n.jsxs)("div",{className:"relative max-h-[20rem] xl:h-[16rem] px-[2.5rem] flex  flex-col   xl:items-center justify-between gap-[.5rem] xl:gap-[1rem]",children:[(0,n.jsx)(t9,{setOpenColorModel:o,typeEdit:t}),(0,n.jsx)("span",{className:" text-[1.2rem] opacity-55",children:"Lưu \xfd: Chế độ chỉnh m\xe0u chỉnh kh\xf4ng hợp th\xedch với Dark mode nhưng render ra m\xe0u chữ trong form như b\xecnh thường"})]})},re=r(3441),rt=r(5159),rr=e=>{let{isDesignForm:t,setIsDesginForm:r}=(0,l.useContext)(i.D),{theme:o}=(0,l.useContext)(m.ThemeContext),{typeEdit:s,inputItem:a}=e,[c,u]=(0,l.useState)(!1),d=(0,_.v9)(e=>e.form.formCoreOriginal),x=(0,_.v9)(e=>e.form.colorCore),p=d.form_title.form_title_size||d.form_setting_default.form_title_size_default,h=d.form_setting_default.input_size,[g,j]=(0,l.useState)("Form"===s?p:h),b=(0,_.I0)(),v=(0,l.useRef)(null),C=(0,l.useRef)(null);(0,l.useEffect)(()=>{c&&C.current&&v.current&&(v.current.scrollTop=C.current.offsetTop-50)},[c]);let N=(0,l.useRef)(null),y=(0,l.useCallback)(e=>{N.current&&!N.current.contains(e.target)&&c&&u(!1)},[u,c]);(0,l.useEffect)(()=>(document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}),[y]);let w=(e,n)=>{let l="Form"===s?30:20;e||(e=1),"Increase"===n&&(e=e===l?l:e+=1),"Decrease"===n&&(e=1===e?1:e-=1),e>l&&"Input"===n&&(e=l),j(e),t||r(!0);let o=structuredClone(d);"Form"===s&&(o.form_title.form_title_size=e),"Common"===s&&(o.form_setting_default.input_size=e,o.form_inputs=o.form_inputs.map(t=>(t.core.setting.input_size=e,t))),"Input"===s&&(o.form_inputs=o.form_inputs.map(t=>(t._id===(null==a?void 0:a._id)&&(t.core.setting={...t.core.setting,input_size:e}),t))),u(!1),b((0,f.ow)({form:o}))},k=(0,t1.y)((e,t)=>w(e,t),100),I="Form"===s?d.form_title.form_title_size||d.form_setting_default.form_title_size_default:d.form_setting_default.input_size;return(0,n.jsxs)("div",{ref:N,className:"relative w-max  max-h-[8rem] xl:h-[4rem] py-[.3rem] flex items-center justify-between gap-[1rem] bg-transparent ",children:[(0,n.jsx)("button",{className:"w-[3rem] h-[3rem] flex items-center justify-center rounded-full   border-[.1rem] border-slate-300",onClick:()=>k(I,"Decrease"),children:(0,n.jsx)(re.Z,{size:18,style:{color:"light"==o?x:"var(--text-theme)"}})}),(0,n.jsx)("div",{className:"w-[6rem] flex items-center justify-center",children:(0,n.jsx)("input",{style:{color:"light"==o?x:"#000"},onClick:e=>{e.stopPropagation(),e.preventDefault(),u(!0)},type:"number",max:"Form"===s?30:20,onChange:e=>k(+e.target.value,"Input"),value:I,className:"w-[5rem] h-[3.6rem] text-center  bg-[#ffffff]  border-[.1rem] border-slate-300  rounded-lg outline-none"})}),(0,n.jsx)("button",{className:"w-[3rem] h-[3rem] flex items-center justify-center rounded-full   border-[.1rem] border-slate-300",onClick:()=>k(I,"Increase"),children:(0,n.jsx)(rt.Z,{size:18,style:{color:"light"==o?x:"var(--text-theme)"}})}),c&&(0,n.jsx)("ul",{ref:v,className:"scroll-text-size absolute z-[3] top-[4rem] left-[50%] translate-x-[-50%] w-[6rem] max-h-[16rem] text-[#000]  overflow-y-scroll bg-[#ffffff] border-[.1rem] border-gray-200 outline-none",children:Array("Form"===s?30:20).fill(0).map((e,t)=>t+1===I?(0,n.jsx)("li",{ref:C,className:"bg-blue-400 p-[.2rem_2rem] hover:cursor-pointer",children:t+1},t):(0,n.jsx)("li",{onClick:()=>w(t+1,"Decrease"),className:"p-[.2rem_2rem] hover:bg-blue-200 hover:cursor-pointer",children:t+1},t))})]})},rn=r(2761),rl=r(4415),ro=e=>{let{typeEdit:t,inputItem:r}=e,{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(i.D),{theme:a}=(0,l.useContext)(m.ThemeContext),c=(0,_.v9)(e=>e.form.formCoreOriginal),u=(0,_.v9)(e=>e.form.colorCore),d=(0,_.I0)(),x="Form"===t?c.form_title.form_title_style||c.form_setting_default.form_title_style_default:(null==r?void 0:r.core.setting.input_style)||c.form_setting_default.input_style,[p,h]=(0,l.useState)(x),g={onCheckStyleActive:e=>e?"border-gray-300":"border-transparent"},j=e=>{o||s(!0);let n=structuredClone(c);"Form"===t&&(n.form_title.form_title_style=e),"Common"===t&&(n.form_setting_default.input_style=e,n.form_inputs=n.form_inputs.map(t=>(t.core.setting.input_style=e,t))),"Input"===t&&(n.form_inputs=n.form_inputs.map(t=>(t._id===(null==r?void 0:r._id)&&(t.core.setting={...t.core.setting,input_style:e}),t))),d((0,f.Z$)({form:n}))};return(0,n.jsx)("div",{className:" max-h-[8rem] xl:h-[4rem]  flex flex-col xl:flex-row xl:items-center justify-between",children:(0,n.jsxs)("div",{className:"flex  gap-[1rem] ",children:[(0,n.jsx)("button",{onClick:()=>{j("normal"),h("normal")},className:"".concat(g.onCheckStyleActive("normal"===p)," p-[.2rem_.8rem] border-[.1rem]  bg-color-section-theme rounded-lg"),children:(0,n.jsx)(rn.Z,{style:{color:"light"===a?u:"#fff"}})}),(0,n.jsx)("button",{onClick:()=>{j("italic"),h("italic")},className:"".concat(g.onCheckStyleActive("italic"===p),"\n					)} p-[.2rem_.8rem] border-[.1rem]  bg-color-section-theme rounded-lg"),children:(0,n.jsx)(rl.Z,{style:{color:"light"===a?u:"#fff"}})})]})})},rs=e=>{let{title:t,type:r}=e;return(0,n.jsxs)("div",{className:"min-h-[30rem] flex flex-col gap-[2rem] p-[1rem]",children:[(0,n.jsx)("p",{className:"font-medium",children:t}),(0,n.jsxs)("div",{className:"flex flex-col  gap-[2rem]",children:[(0,n.jsx)(rr,{typeEdit:r}),(0,n.jsx)(ro,{typeEdit:r}),(0,n.jsx)(t7,{typeEdit:r})]})]})},ri=r(5694),ra=r(8541),rm=r(2866),rc=r(7501),ru=r(9209),rd=e=>{var t,r,o;let{isDesignForm:s,setIsDesginForm:a}=(0,l.useContext)(i.D),{theme:c}=(0,l.useContext)(m.ThemeContext),u=(0,_.v9)(e=>e.form.formCoreOriginal),d=!!(null===(t=u.form_avatar)||void 0===t?void 0:t.form_avatar_url)||u.form_avatar_state,x=(0,_.v9)(e=>e.form.colorCore),p=(0,_.I0)(),[h,g]=(0,l.useState)((null===(r=u.form_avatar)||void 0===r?void 0:r.mode_shape)||u.form_setting_default.form_avatar_default_mode),[j,b]=(0,l.useState)((null===(o=u.form_avatar)||void 0===o?void 0:o.position)||u.form_setting_default.form_avatar_default_postion),v={onCheckStyleActive:e=>e?" border-[#fff] border-[.1rem]":"border-transparent border-[.1rem]"},C=e=>{s||a(!0);let t=structuredClone(u),r={...t,form_avatar:{...t.form_avatar,mode_shape:e}};p((0,f.Z$)({form:r}))},N=e=>{s||a(!0);let t=structuredClone(u),r={...t,form_avatar:{...t.form_avatar,position:e}};p((0,f.Z$)({form:r}))};return(0,n.jsxs)("div",{className:"px-[2rem] flex flex-col  gap-[4rem]",children:[(0,n.jsxs)("div",{className:"flex gap-[4rem] ",children:[(0,n.jsx)("button",{disabled:!d,onClick:()=>{N("left"),b("left")},className:"".concat(v.onCheckStyleActive("left"===j)," w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme"),children:(0,n.jsx)(ri.Z,{size:18,style:{color:"light"===c?x:"#fff"}})}),(0,n.jsx)("button",{disabled:!d,onClick:()=>{N("center"),b("center")},className:"".concat(v.onCheckStyleActive("center"===j)," w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme"),children:(0,n.jsx)(ra.Z,{size:18,style:{color:"light"===c?x:"#fff"}})}),(0,n.jsx)("button",{disabled:!d,onClick:()=>{N("right"),b("right")},className:"".concat(v.onCheckStyleActive("right"===j)," w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300  rounded-full  bg-color-section-theme"),children:(0,n.jsx)(rm.Z,{size:18,style:{color:"light"===c?x:"#fff"}})})]}),(0,n.jsxs)("div",{className:"flex  gap-[4rem] ",children:[(0,n.jsx)("button",{disabled:!d,onClick:()=>{C("circle"),g("circle")},className:"".concat(v.onCheckStyleActive("circle"===h)," w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme"),children:(0,n.jsx)(rc.Z,{size:18,style:{color:"light"===c?x:"#fff"}})}),(0,n.jsx)("button",{disabled:!d,onClick:()=>{C("square"),g("square")},className:"".concat(v.onCheckStyleActive("square"===h)," w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme"),children:(0,n.jsx)(ru.Z,{size:18,style:{color:"light"===c?x:"#fff"}})})]})]})},rf=()=>{var e;let t=(0,_.v9)(e=>e.form.formCoreBackUp),r=!!(null==t?void 0:null===(e=t.form_avatar)||void 0===e?void 0:e.form_avatar_url)||(null==t?void 0:t.form_avatar_state)||!1;return(0,n.jsxs)("div",{className:"".concat(({onCheckHasBackground:e=>e?"bg-transparent":"opacity-40 cursor-not-allowed"}).onCheckHasBackground(r)," flex flex-col gap-[4rem] p-[1rem] border-t-[.1rem] border-slate-200 "),children:[(0,n.jsxs)("p",{className:"font-medium",children:["T\xf9y chỉnh h\xecnh đại diện ",r?"":"(Chưa upload ảnh)"]}),(0,n.jsx)(rd,{})]})},rx=r(6806),rp=()=>{var e;let t=(0,_.I0)(),r=(0,_.v9)(e=>e.form.formCoreOriginal),{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(i.D),[a,m]=(0,l.useState)(!1),c=e=>{o||s(!0);let n=structuredClone(r);n.form_color=e,t((0,f.ow)({form:n}))};return(null===(e=r.form_background)||void 0===e?void 0:e.form_background_iamge_url)||r.form_background_state,(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{onClick:()=>m(e=>!e),className:"relative flex items-center justify-between gap-[1rem] h-[4rem] hover:cursor-pointer",children:[(0,n.jsx)("p",{className:"",children:"M\xe0u nền "}),(0,n.jsx)("div",{className:"w-[7rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:r.form_color?(0,n.jsx)("div",{style:{backgroundColor:r.form_color},className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"}):(0,n.jsx)("div",{className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center",children:"Trống"})}),a&&(0,n.jsx)(y.Z,{setOpenModel:m,children:(0,n.jsx)("button",{className:"absolute top-[100%] z-[2]  left-0  disabled:cursor-not-allowed",onClick:e=>e.stopPropagation(),children:(0,n.jsx)(tJ.gW,{color:r.form_color||"",onChange:c})})})]}),(0,n.jsxs)("button",{className:"flex items-center  justify-between gap-[2rem] ",onClick:()=>c("#f2f2f2"),children:[(0,n.jsx)("p",{className:"",children:"M\xe0u nền mặc định "}),(0,n.jsx)("div",{className:"w-[5rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:(0,n.jsx)("div",{style:{backgroundColor:"#f2f2f2"},className:"w-[3rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"})})]}),(0,n.jsxs)("button",{className:"flex items-center  justify-between gap-[2rem]",onClick:()=>c(""),children:[(0,n.jsx)("p",{className:"",children:"X\xf3a tất cả m\xe0u nền "}),(0,n.jsx)(rx.Z,{})]})]})},rh=r(7907),rg=()=>{let e=(0,_.v9)(e=>e.form.formCoreOriginal),t=(0,_.v9)(e=>e.form.formCoreBackUp),[r,o]=(0,l.useState)(e.form_button_text||""),s=(0,_.I0)(),a=(0,rh.useRouter)(),{isDesignForm:m,setIsDesginForm:u}=(0,l.useContext)(i.D),d=(0,l.useRef)(null);return(0,n.jsx)("button",{className:"text-left",children:(0,n.jsxs)(H.Z,{className:"h-max flex flex-col  justify-between gap-[.6rem]",onClick:e=>{},children:[(0,n.jsx)(Q,{textContent:"Nhập th\xf4ng b\xe1o lỗi",onClick:()=>{d.current&&d.current.focus()},className:"hover:cursor-pointer"}),(0,n.jsxs)(c.Z,{spellCheck:!1,ref:d,contentEditable:!0,defaultValue:r,onBlur:r=>{var n;let l=r.target.textContent;if(r.target.textContent&&(null===(n=r.target.textContent)||void 0===n?void 0:n.length)>50){s((0,en.DT)({toast_item:{_id:(0,el.Z)(),type:"ERROR",toast_title:"Độ d\xe0i vượt mức",core:{message:"Độ d\xe0i chữ tối đa 50 k\xed tự"}}})),d.current&&(d.current.textContent=t.form_button_text,o(t.form_button_text));return}let i=l||e.form_button_text;if(d.current){o(i),m||u(!0);let t=structuredClone(e);t.form_button_text=i,s((0,f.ow)({form:t})),a.push("#submit")}},className:"input-setting  border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400",suppressContentEditableWarning:!0,children:[r,"  "]})]})})},r_=()=>(0,n.jsxs)("div",{className:"p-[1rem] flex flex-col gap-[3rem]",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)("p",{className:"underline font-normal",children:"M\xe0u nền của form"}),(0,n.jsx)(rp,{})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsx)("p",{className:"underline font-normal",children:"Chữ của n\xfat submit"}),(0,n.jsx)(rg,{})]})]}),rj=()=>{let{isDesignForm:e,setOpenModelNotSave:t,setIsDesginForm:r,setOpenFormDesign:o}=(0,l.useContext)(i.D),{theme:s}=(0,l.useContext)(m.ThemeContext),a=(0,_.v9)(e=>e.form.formCoreBackUp),c=(0,_.v9)(e=>e.form.formCoreOriginal);(0,_.v9)(e=>e.form.colorCore);let u=(0,_.I0)(),d=(0,T.Z)();return(0,n.jsx)("div",{className:"scroll-desgin-custom fixed z-[104] bg-color-section-theme text-text-theme top-0 right-[0rem] h-screen overflow-y-scroll w-[28rem]  shadow-2xl",children:(0,n.jsxs)("div",{className:"relative min-h-full h-max pb-[8rem]  border-b-[.2rem] border-l-[.2rem] border-gray-200 rounded-lg ",children:[(0,n.jsxs)("div",{className:"relative w-full min-h-full h-max  py-[2rem] px-[1rem] flex flex-col  gap-[2rem]  ",children:[(0,n.jsx)("p",{className:"mt-[1rem] text-[1.6rem]  font-medium text-center pb-[2rem] border-b-[.1rem] border-[#ccc]",children:"T\xf9y biến giao diện"}),(0,n.jsx)(r_,{}),(0,n.jsx)(rs,{title:"T\xf9y chỉnh ti\xeau đề ch\xednh",type:"Form"}),(0,n.jsx)(t6,{}),(0,n.jsx)(rf,{}),(0,n.jsx)(rs,{title:"T\xf9y chỉnh ti\xeau đề phụ",type:"Common"}),(0,n.jsx)("button",{className:"absolute top-[.6rem] right-[.6rem] p-[.6rem] text-[1.3rem] rounded-lg  text-[#fff] bg-blue-300 hover:bg-blue-500",onClick:()=>{if(e)return t(!0);u((0,f.ow)({form:a})),o(!1),r(!1)},children:"Đ\xf3ng"})]}),(0,n.jsx)(tl.Z,{textContent:"Lưu",className:"absolute right-[10%]  w-[25%] h-[4rem] text-[#fff] bg-blue-500 rounded-lg ",onClick:()=>{d.mutate(c),o(!1),r(!1),t(!1)}})]})})},rb=e=>{let{params:t}=e,{modeScreen:r}=(0,l.useContext)(a.$),{openFormDesign:m}=(0,l.useContext)(i.D),{openSidebar:c,setOpenSidebar:u}=(0,l.useContext)(s.SidebarContext),d=(0,_.v9)(e=>e.form.formCoreOriginal),f=(0,_.v9)(e=>e.form.colorCore),x=m&&!c&&"NORMAL"===r?"mr-[28rem]  ":"",p=c&&!m?"w-full ":"",h=m||c?"":" w-full",g=m&&c?"w-[calc(100vw-50.5rem)] ":"",j=d.form_color||"bg-color-section-theme";return(0,n.jsxs)("div",{className:"".concat(h," ").concat(x," ").concat(p," ").concat(g," flex flex-col min-h-screen h-max  "),style:{"--bg-input-core":f},children:[(0,n.jsx)(o.Z,{showHeaderAction:!0}),d&&(0,n.jsxs)("div",{style:{backgroundColor:d.form_color||""},className:"".concat(j,"  flex min-h-screen h-max "),children:[(0,n.jsx)(tQ,{}),m&&"NORMAL"===r?(0,n.jsx)(rj,{}):null]})]})}}},function(e){e.O(0,[6990,9154,1749,828,6176,8792,2325,3667,7846,3137,5992,5145,7471,8385,2971,8069,1744],function(){return e(e.s=2777)}),_N_E=e.O()}]);