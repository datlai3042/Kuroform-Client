(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1533],{968:function(e,t,r){Promise.resolve().then(r.bind(r,5255))},5255:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var s=r(7437),l=r(2265),n=r(2670),a=r(1270),o=r(3898),i=r(248);let c=i.Ry({email:i.Z_().min(1,{message:"Email l\xe0 bắt buộc"}).refine(e=>(0,o.oH)(e),{message:"Email kh\xf4ng hợp lệ"}),password:i.Z_().min(5,{message:"\xcdt nhất 5 k\xed tự"})});var m=r(7907),u=r(568),d=r(828),f=r(6264),h=r(5409),x=r(6071),p=r(8792),g=r(6288),b=r(9698),j=r(9650),w=r(4276),v=e=>{let{onClose:t}=e,r=(0,d.I0)(),o=(0,m.useRouter)(),i=(0,n.cI)({defaultValues:{email:"",password:""},resolver:(0,a.F)(c)}),v=(0,u.D)({mutationKey:["login"],mutationFn:e=>b.Z.login(e),onSuccess:e=>{}});return(0,l.useEffect)(()=>{if(v.isSuccess){let{user:e}=null==v?void 0:v.data.metadata;o.push("/dashboard"),r((0,g.LT)({user:e}))}},[v.isSuccess,t,v.data,r,o]),(0,l.useEffect)(()=>{Object.keys(i.formState.errors).length},[i.formState.errors]),(0,s.jsxs)("div",{className:"relative  min-h-[40rem] w-[32rem] sm:w-[37rem] xl:w-[40rem] h-max mx-auto  flex justify-center items-center flex-col  gap-[2rem] rounded-[1.2rem] p-[2.4rem_2rem]",children:[(0,s.jsx)("p",{className:"mb-[1rem] xl:mb-[4rem] text-[3rem] font-semibold",children:"Xin ch\xe0o bạn"}),(0,s.jsxs)("div",{className:"my-[1rem] w-full flex flex-col gap-[2rem] xl:gap-[6rem]",children:[(0,s.jsxs)("div",{className:"w-full flex gap-[1rem]",children:[(0,s.jsx)("div",{className:"w-[50%]",children:(0,s.jsx)(j.Z,{})}),(0,s.jsx)("div",{className:"w-[50%]",children:(0,s.jsx)(w.Z,{})})]}),(0,s.jsxs)("form",{className:"w-full h-full flex flex-col justify-center  gap-[1.8rem] rounded-[1.2rem]",onSubmit:i.handleSubmit(e=>{v.mutate(e)}),children:[(0,s.jsx)(h.Z,{FieldKey:"email",placeholder:"Email",type:"email",register:i.register,error:i.formState.errors,watch:i.watch}),(0,s.jsx)(h.Z,{FieldKey:"password",placeholder:"Mật khẩu",type:"password",register:i.register,error:i.formState.errors,watch:i.watch}),(0,s.jsx)(x.Z,{disabled:v.isPending,loading:v.isPending,type:"submit",textContent:"Đăng nhập",className:"!w-full !h-[4rem] !bg-blue-600 "})]})]}),(0,s.jsxs)("p",{className:"text-[1.4rem]",children:["Bạn chưa c\xf3 t\xe0i khoản?"," ",(0,s.jsx)(p.default,{href:"/register",className:"text-blue-400 underline",children:"đăng k\xed nh\xe9"})]}),t&&(0,s.jsx)("div",{className:"absolute  top-[-20px] right-[-10px] xl:right-[-20px]",children:(0,s.jsx)(f.Z,{onClose:t})})]})},N=r(5984),y=r(1231),_=()=>{(0,m.useRouter)();let e=(0,m.useSearchParams)().get("token_expire"),t=(0,d.I0)();return(0,l.useEffect)(()=>{e&&t((0,N.bY)({toast_item:{_id:(0,y.Z)(),core:{message:"Phi\xean đăng nhập đ\xe3 hết hạn, vui l\xf2ng đăng nhập lại"},toast_title:"Bảo mật",type:"WARNING"}}))},[]),(0,s.jsx)("div",{className:" flex justify-center  ",children:(0,s.jsx)(v,{})})}},6071:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437);r(2265);var l=e=>{let{color:t,hoverColor:r}=e,l={color:t||"text-[#ffffff]",hoverColor:r||""};return(0,s.jsx)("span",{className:"".concat(l.color," ").concat(l.hoverColor," inline-block h-[25px] w-[25px]  animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite] "),role:"status"})},n=e=>{let{textContent:t,loading:r=!1,...n}=e;return(0,s.jsxs)("button",{...n,className:" ".concat(n.className," w-full xl:w-[50%] min-h-[3rem] h-max p-[1.6rem_2rem] bg-slate-900 flex gap-[1rem] items-center justify-center text-white  rounded-md text-[1.4rem]"),children:[t,r&&(0,s.jsx)(l,{})]})}},4276:function(e,t,r){"use strict";var s=r(7437),l=r(703);r(2265),t.Z=()=>(0,s.jsxs)("button",{onClick:()=>{window.location.assign("https://github.com/login/oauth/authorize?client_id=".concat("Ov23lio4DUnJERdwtNFA","&scope=user:email"))},className:"w-full flex items-center justify-center gap-[2rem] border-[.1rem] border-gray-200 rounded-xl p-[.8rem_1rem] bg-[#fff] text-[#000]",children:[(0,s.jsx)(l.default,{src:"/assets/images/social/github.png",width:50,height:50,alt:"toast success",className:"w-[2.4rem] h-[2.4rem]"}),(0,s.jsx)("span",{className:"text-[1.4rem]",children:"Github"})]})},9650:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(7437);let l=()=>{let e=new URLSearchParams({redirect_uri:"https://api.kuroform.io.vn/v1/api/auth/oauth/google",client_id:"742811266924-f08un022s1fn8gck6so0hq9bp2kp8ipk.apps.googleusercontent.com",access_type:"offline",response_type:"code",prompt:"consent",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"});return"".concat("https://accounts.google.com/o/oauth2/v2/auth","?").concat(e.toString())};var n=r(703),a=r(8792);r(2265);var o=()=>{let e=l();return(0,s.jsxs)(a.default,{href:e,className:"w-full flex items-center justify-center gap-[2rem] border-[.1rem] border-gray-200 rounded-xl p-[.8rem_1rem] ",children:[(0,s.jsx)(n.default,{src:"/assets/images/icon/oauth2/google.png",width:50,height:50,alt:"toast success",className:"w-[2.4rem] h-[2.4rem]"}),(0,s.jsx)("span",{className:"text-[1.4rem]",children:"Google"})]})}},6264:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{onClose:t}=e;return(0,s.jsx)("button",{className:"w-[3rem] h-[3rem] xl:w-[4rem] xl:h-[4rem] bg-[#ffffff] flex items-center justify-center rounded-full shadow text-[12px] text-color-main font-semibold",onClick:()=>t(!1),children:"X"})}},5409:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(7437),l=r(2265),n=r(7841),a=r(1930),o=e=>{var t;let{FieldKey:r,error:o,placeholder:i,register:c,watch:m}=e,u=(0,l.useId)(),[d,f]=(0,l.useState)(!1),h="".concat(r,"-").concat(u),x="Nhập ".concat(i," của bạn"),p=null===(t=o[r])||void 0===t?void 0:t.message;return(0,s.jsxs)("div",{className:"flex flex-col w-full min-h-[10rem] h-max gap-[2rem]  ",children:[(0,s.jsx)("label",{htmlFor:"".concat(r,"-").concat(u),className:"first-letter:uppercase text-text-theme font-semibold text-[1.4rem]",children:i}),(0,s.jsxs)("div",{className:"relative w-full h-[60%]",children:[(0,s.jsx)("input",{type:d?"text":"password",id:h,...c(r),className:"inline-block w-full min-h-[4.4rem] p-[.6rem_1.2rem] border-[.2rem] border-slate-300 bg-[#ffffff] opacity-100 rounded-[.6rem] text-[#000] placeholder:text-[#000] placeholder:text-[1.2rem] outline outline-[4px] outline-transparent focus:outline-blue-200 focus:border-transparent placeholder:opacity-50",placeholder:x}),(0,s.jsx)("button",{tabIndex:-1,type:"button",className:"absolute top-[50%] translate-y-[-50%] right-[1rem]",onClick:()=>f(e=>!e),children:d?(0,s.jsx)(a.Z,{}):(0,s.jsx)(n.Z,{})})]}),(0,s.jsx)("div",{className:"min-h-[1rem] text-[1.2rem] text-red-400",children:o&&(0,s.jsx)("p",{children:p})})]})},i=e=>{var t;let{FieldKey:r,error:n,placeholder:a,type:i,register:c,watch:m}=e,u=(0,l.useId)();return"password"===i?(0,s.jsx)(o,{...e}):(0,s.jsxs)("div",{className:"flex flex-col w-full  min-h-[8rem] h-max gap-[1.6rem]  ",children:[(0,s.jsx)("label",{htmlFor:"".concat(r,"-").concat(u),className:"first-letter:uppercase text-text-theme font-semibold text-[1.4rem]",children:a}),(0,s.jsx)("input",{value:m(r),id:"".concat(r,"-").concat(u),...c(r),className:"inline-block w-full min-h-[4.4rem] p-[.6rem_1.2rem] border-[.2rem] border-slate-300 bg-[#ffffff] opacity-100 rounded-[.6rem] text-[#000] placeholder:text-[#000] placeholder:text-[1.2rem] outline outline-[4px] outline-transparent focus:outline-blue-200 focus:border-transparent placeholder:opacity-50",placeholder:"Nhập ".concat(a," của bạn")}),(0,s.jsx)("div",{className:"min-h-[1rem] text-[1.2rem] text-red-400",children:n&&(0,s.jsx)("p",{children:null===(t=n[r])||void 0===t?void 0:t.message})})]})}},826:function(e,t,r){"use strict";function s(e,t){return"function"==typeof e?e(...t):!!e}function l(){}r.d(t,{L:function(){return s},Z:function(){return l}})}},function(e){e.O(0,[6990,9154,1749,828,6176,8792,2325,2643,5992,2971,8069,1744],function(){return e(e.s=968)}),_N_E=e.O()}]);