(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8701],{6702:function(e,t,r){Promise.resolve().then(r.bind(r,3915))},8306:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]])},1529:function(e,t,r){"use strict";var s=r(7437),a=r(2265),l=r(8306),n=r(7805),i=r(8670),m=r(4431),c=r(7907),o=r(6992),d=r(4859),u=r(7956);t.Z=()=>{let{openSidebar:e,setOpenSidebar:t}=(0,a.useContext)(m.SidebarContext),r=(0,c.usePathname)();return(0,s.jsxs)("div",{className:"w-full h-[6rem] flex items-center justify-between gap-[1rem] text-[1.3rem]  text-text-theme  bg-color-section-theme",children:[(0,s.jsxs)("div",{className:"flex items-center gap-[.5rem] ",children:[!e&&(0,s.jsx)(o.Z,{Icon:(0,s.jsx)(l.Z,{}),onClick:()=>t(!0)}),(0,s.jsx)(d.Z,{}),(0,s.jsx)(n.Z,{size:16}),(0,s.jsx)("span",{className:"first-letter:uppercase text-[1.4rem] font-medium",children:r.replace("/","")})]}),(0,s.jsxs)("div",{className:"flex gap-[20px] ",children:[(0,s.jsxs)("div",{className:"p-[.2rem_.8rem] flex items-center gap-[.8rem] hover:bg-slate-200 rounded-md",title:"T\xecm kiếm",children:[(0,s.jsx)(i.Z,{className:"w-[1.6rem]"}),(0,s.jsx)("span",{children:"Search"})]}),(0,s.jsx)(u.default,{})]})]})}},3915:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var s=r(7437),a=r(2265),l=r(1529),n=r(828),i=e=>{let{tab:t,setTab:r}=e,a=(0,n.v9)(e=>e.authReducer.user),l={onActive:e=>e?"border-b-[.4rem] border-text-theme":"border-b-[.4rem] border-transparent"};return(0,s.jsx)("div",{className:"w-full h-[6rem]  flex flex-col gap-[4rem] ",children:(0,s.jsx)("div",{className:"flex flex-col gap-[2rem]",children:(0,s.jsxs)("div",{className:"w-full flex gap-[3rem] border-b-[.1rem] border-gray-200",children:[(0,s.jsx)("div",{className:"min-h-[3rem] flex items-center justify-between  ",children:(0,s.jsx)("button",{onClick:()=>r("account"),className:"".concat(l.onActive("account"===t)," h-full pb-[.3rem]  font-semibold "),children:"T\xe0i khoản của t\xf4i"})}),(null==a?void 0:a.user_auth)==="oAuth"&&!(null==a?void 0:a.user_create_password)&&(0,s.jsx)("div",{className:"min-h-[3rem] flex items-center justify-between  ",children:(0,s.jsx)("button",{onClick:()=>r("create_password"),className:"".concat(l.onActive("create_password"===t)," h-full pb-[.3rem]  font-semibold "),children:"Tạo mật khẩu"})}),(0,s.jsx)("div",{className:"min-h-[3rem] flex items-center justify-between  ",children:(0,s.jsx)("button",{onClick:()=>r("update_password"),className:"".concat(l.onActive("update_password"===t)," h-full pb-[.3rem]  font-semibold "),children:"Cập nhật mật khẩu"})})]})})})},m=r(3841),c=r(2670),o=r(1270),d=r(5409),u=r(568),h=r(1547),f=r(6288),p=r(703),x=r(2200),b=()=>{let e=(0,n.v9)(e=>e.authReducer.user),t=(0,a.useRef)(null),r=(0,n.I0)(),l=()=>{t.current&&(t.current.value="",t.current.click())},i=(0,u.D)({mutationKey:["upload-avatar"],mutationFn:e=>h.Z.uploadAvatar(e),onSuccess:e=>{let{user:t}=e.metadata;r((0,f.LT)({user:t}))}});return(0,s.jsxs)("div",{className:"group w-full h-[15rem] flex flex-col gap-[1rem]",children:[(0,s.jsx)("p",{className:"text-[1.4rem] font-bold",children:"H\xecnh đại diện"}),(0,s.jsxs)("div",{className:"flex items-center gap-[2.4rem]",children:[(null==e?void 0:e.user_avatar_current)&&(0,s.jsx)(p.default,{src:e.user_avatar_current,width:100,height:100,alt:"avatar",className:"w-[10rem] h-[10rem] rounded-full hover:cursor-pointer",unoptimized:!0,onClick:l}),!(null==e?void 0:e.user_avatar_current)&&(0,s.jsx)("div",{className:"w-[10rem] aspect-square bg-green-400 flex items-center justify-center rounded-full text-[#ffffff]",children:"L"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("button",{onClick:l,className:"p-[.8rem] h-[30%] flex items-center gap-[1rem] bg-color-main rounded-lg text-[#fff]",children:["Tải ảnh l\xean",i.isPending&&(0,s.jsx)(x.Z,{color:"#fff"})]}),(0,s.jsx)("input",{type:"file",hidden:!0,ref:t,onChange:e=>{if(e.target&&e.target.files){let t=new FormData;t.append("file",e.target.files[0]),i.mutate(t)}}})]})]})]})};let g=m.g.pick({first_name:!0,last_name:!0,email:!0});var w=()=>{let e=(0,n.v9)(e=>e.authReducer.user),t=(0,c.cI)({defaultValues:{first_name:(null==e?void 0:e.user_first_name)||"",last_name:(null==e?void 0:e.user_last_name)||"",email:(null==e?void 0:e.user_email)||""},resolver:(0,o.F)(g)});return(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)(b,{}),e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:t.handleSubmit(e=>{}),id:"form_update",children:[(0,s.jsx)(d.Z,{FieldKey:"first_name",placeholder:"Nhập first name",register:t.register,type:"text",watch:t.watch,error:t.formState.errors}),(0,s.jsx)(d.Z,{FieldKey:"last_name",placeholder:"Nhập last name",register:t.register,type:"text",watch:t.watch,error:t.formState.errors}),(0,s.jsx)(d.Z,{FieldKey:"email",placeholder:"Nhập email",register:t.register,type:"text",watch:t.watch,error:t.formState.errors})]}),(0,s.jsx)("button",{type:"submit",form:"form_update",className:"min-w-[10%] w-max p-[.8rem] h-[3.6rem] flex justify-center items-center gap-[.8rem] bg-blue-700 text-white rounded-lg",children:"Cập nhập"})]})]})},j=r(5984),_=r(248);let v=_.Ry({password:_.Z_().min(5,{message:"\xcdt nhất 5 k\xed tự"}),confirm_password:_.Z_().min(5,{message:"X\xe1c nhận mật khẩu phải 5 k\xed tự"})}).refine(e=>e.password===e.confirm_password,{message:"Mật khẩu kh\xf4ng khớp",path:["confirm_password"]});var N=()=>((0,n.I0)(),(0,u.D)({mutationKey:["create-password"],mutationFn:e=>{let{password:t}=e;return h.Z.createPassword({password:t})}})),k=r(7907),y=r(1231),Z=e=>{let{setTab:t}=e;(0,k.useRouter)();let r=N(),l=(0,n.I0)(),i=(0,c.cI)({defaultValues:{password:"",confirm_password:""},resolver:(0,o.F)(v)});return(0,a.useEffect)(()=>{r.isSuccess&&(l((0,j.qx)({toast_item:{_id:(0,y.Z)(),toast_title:"Th\xf4ng tin t\xe0i khoản",type:"SUCCESS",core:{message:"Tạo mật khẩu th\xe0nh c\xf4ng"}}})),t("account"))},[r.isSuccess]),(0,a.useEffect)(()=>{if(r.isSuccess){let{user:e}=r.data.metadata;l((0,f.LT)({user:e})),window.location.reload()}},[r.isSuccess]),(0,s.jsx)("div",{className:"min-h-full h-max",children:(0,s.jsxs)("form",{className:"flex flex-col gap-[2rem]",onSubmit:i.handleSubmit(e=>{r.mutate({password:e.password})}),children:[(0,s.jsx)(d.Z,{FieldKey:"password",placeholder:"Nhập mật khảu",register:i.register,type:"password",watch:i.watch,error:i.formState.errors}),(0,s.jsx)(d.Z,{FieldKey:"confirm_password",placeholder:"X\xe1c nhận lại mật khảu",register:i.register,type:"password",watch:i.watch,error:i.formState.errors}),(0,s.jsx)("button",{type:"submit",className:"mt-[2rem] min-w-[10%] w-max p-[.8rem] h-[3.6rem] flex justify-center items-center gap-[.8rem] bg-blue-700 text-white rounded-lg",children:"Tạo mật khảu"})]})})};let S=_.Ry({password:_.Z_().min(5,{message:"\xcdt nhất 5 k\xed tự"}),new_password:_.Z_().min(5,{message:"X\xe1c nhận mật khẩu phải 5 k\xed tự"})});var C=()=>{let e=(0,n.I0)(),t=(0,u.D)({mutationKey:["create-password"],mutationFn:e=>{let{password:t,new_password:r}=e;return h.Z.updatePassword({password:t,new_password:r})}});return(0,a.useEffect)(()=>{if(t.isSuccess){let{user:r}=t.data.metadata;e((0,f.LT)({user:r}))}},[t.isSuccess]),t},T=e=>{let{setTab:t}=e,r=C(),l=(0,n.I0)(),i=(0,c.cI)({defaultValues:{password:"",new_password:""},resolver:(0,o.F)(S)});return(0,a.useEffect)(()=>{r.isSuccess&&(l((0,j.qx)({toast_item:{_id:(0,y.Z)(),toast_title:"Th\xf4ng tin t\xe0i khoản",type:"SUCCESS",core:{message:"Cập nhập mật khẩu th\xe0nh c\xf4ng"}}})),t("account"))},[r.isSuccess]),(0,s.jsx)("div",{className:"min-h-full h-max",children:(0,s.jsxs)("form",{className:"flex flex-col gap-[2rem]",onSubmit:i.handleSubmit(e=>{r.mutate({password:e.password,new_password:e.new_password})}),children:[(0,s.jsx)(d.Z,{FieldKey:"password",placeholder:"Nhập mật khẩu",register:i.register,type:"password",watch:i.watch,error:i.formState.errors}),(0,s.jsx)(d.Z,{FieldKey:"new_password",placeholder:"Nhập mật khẩu mới",register:i.register,type:"password",watch:i.watch,error:i.formState.errors}),(0,s.jsx)("button",{type:"submit",className:"mt-[2rem] min-w-[10%] w-max p-[.8rem] h-[3.6rem] flex justify-center items-center gap-[.8rem] bg-blue-700 text-white rounded-lg",children:"Cập nhập mật khảu"})]})})},F=r(7410),E=()=>{let e=(0,n.v9)(e=>e.authReducer.user),[t,r]=(0,a.useState)("account");return(0,a.useEffect)(()=>{},[null==e?void 0:e.user_create_password]),(0,s.jsx)(F.Z,{children:(0,s.jsxs)("div",{className:" w-full min-h-screen h-max    p-[.8rem_0rem_0rem_0rem] flex flex-col gap-[2rem]  text-[1.4rem]  bg-color-section-theme",children:[(0,s.jsx)(l.Z,{}),(0,s.jsxs)("div",{className:"flex-1 min-h-[60rem] h-full text-text-theme bg-[var(--bg-space)] p-[0rem_2.6rem_2rem_2.6rem] rounded-[1.2rem_1.2rem_0_0]",children:[(0,s.jsx)("h3",{className:"my-[2.2rem] !text-[2.8rem]",children:"C\xe0i đặt"}),(0,s.jsxs)("div",{className:"w-full bg-[var(--color-section-theme)] p-[2.8rem] rounded-[1.2rem_1.2rem_0_0]",children:[(0,s.jsx)(i,{tab:t,setTab:r}),e&&"account"===t&&(0,s.jsx)(w,{}),!(null==e?void 0:e.user_create_password)&&"create_password"===t&&(0,s.jsx)(Z,{setTab:r}),e&&"update_password"===t&&(0,s.jsx)(T,{setTab:r}),!e&&(0,s.jsxs)("div",{className:"flex flex-col gap-[1.8rem]",children:[(0,s.jsx)("div",{className:"animate-pulse w-full h-[10rem] rounded-md bg-slate-200"}),(0,s.jsx)("div",{className:"animate-pulse w-full h-[10rem] rounded-md bg-slate-200"}),(0,s.jsx)("div",{className:"animate-pulse w-full h-[10rem] rounded-md bg-slate-200"}),(0,s.jsx)("div",{className:"animate-pulse w-full h-[10rem] rounded-md bg-slate-200"}),(0,s.jsx)("div",{className:"animate-pulse bg-slate-200 w-[10%] p-[.2rem_.8rem] h-[20.7rem] d"})]})]})]})]})})}},4859:function(e,t,r){"use strict";var s=r(7437),a=r(2265),l=r(8085),n=r(703),i=r(8792);t.Z=()=>{let{theme:e}=(0,a.useContext)(l.ThemeContext);return(0,s.jsx)(i.default,{href:"/dashboard",className:"  p-[.6rem] rounded-xl",children:(0,s.jsx)(n.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-[4rem] object-contain",unoptimized:!0})})}},7956:function(e,t,r){"use strict";r.r(t);var s=r(7437),a=r(2265),l=r(8085),n=r(703);t.default=()=>{let{theme:e,setTheme:t}=(0,a.useContext)(l.ThemeContext);return(0,s.jsxs)("button",{onClick:()=>{t(e=>"dark"===e?"light":"dark")},className:"relative text-text-theme min-w-[4rem] bg-[#fff] w-[6rem] h-[3rem] rounded-full",children:[(0,s.jsx)("div",{className:"".concat("light"===e?"animate-rtl bg-[#fff]":" animate-ltr bg-[#fff]"," w-[2.2rem] h-[2.2rem] rounded-full absolute top-[50%] translate-y-[-50%]  ")}),"light"===e?(0,s.jsx)(n.default,{src:"/assets/images/icon/theme/bg_dark.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full object-cover",unoptimized:!0}):(0,s.jsx)(n.default,{src:"/assets/images/icon/theme/bg_light.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full",unoptimized:!0})]})}},5409:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var s=r(7437),a=r(2265),l=r(7841),n=r(1930),i=e=>{var t;let{FieldKey:r,error:i,placeholder:m,register:c,watch:o}=e,d=(0,a.useId)(),[u,h]=(0,a.useState)(!1),f="".concat(r,"-").concat(d),p="Nhập ".concat(m," của bạn"),x=null===(t=i[r])||void 0===t?void 0:t.message;return(0,s.jsxs)("div",{className:"flex flex-col w-full min-h-[10rem] h-max gap-[2rem]  ",children:[(0,s.jsx)("label",{htmlFor:"".concat(r,"-").concat(d),className:"first-letter:uppercase text-text-theme font-semibold text-[1.4rem]",children:m}),(0,s.jsxs)("div",{className:"relative w-full h-[60%]",children:[(0,s.jsx)("input",{type:u?"text":"password",id:f,...c(r),className:"inline-block w-full min-h-[4.4rem] p-[.6rem_1.2rem] border-[.2rem] border-slate-300 bg-[#ffffff] opacity-100 rounded-[.6rem] text-[#000] placeholder:text-[#000] placeholder:text-[1.2rem] outline outline-[4px] outline-transparent focus:outline-blue-200 focus:border-transparent placeholder:opacity-50",placeholder:p}),(0,s.jsx)("button",{tabIndex:-1,type:"button",className:"absolute top-[50%] translate-y-[-50%] right-[1rem]",onClick:()=>h(e=>!e),children:u?(0,s.jsx)(n.Z,{}):(0,s.jsx)(l.Z,{})})]}),(0,s.jsx)("div",{className:"min-h-[1rem] text-[1.2rem] text-red-400",children:i&&(0,s.jsx)("p",{children:x})})]})},m=e=>{var t;let{FieldKey:r,error:l,placeholder:n,type:m,register:c,watch:o}=e,d=(0,a.useId)();return"password"===m?(0,s.jsx)(i,{...e}):(0,s.jsxs)("div",{className:"flex flex-col w-full  min-h-[8rem] h-max gap-[1.6rem]  ",children:[(0,s.jsx)("label",{htmlFor:"".concat(r,"-").concat(d),className:"first-letter:uppercase text-text-theme font-semibold text-[1.4rem]",children:n}),(0,s.jsx)("input",{value:o(r),id:"".concat(r,"-").concat(d),...c(r),className:"inline-block w-full min-h-[4.4rem] p-[.6rem_1.2rem] border-[.2rem] border-slate-300 bg-[#ffffff] opacity-100 rounded-[.6rem] text-[#000] placeholder:text-[#000] placeholder:text-[1.2rem] outline outline-[4px] outline-transparent focus:outline-blue-200 focus:border-transparent placeholder:opacity-50",placeholder:"Nhập ".concat(n," của bạn")}),(0,s.jsx)("div",{className:"min-h-[1rem] text-[1.2rem] text-red-400",children:l&&(0,s.jsx)("p",{children:null===(t=l[r])||void 0===t?void 0:t.message})})]})}},2200:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{color:t,width:r="min-w-[3rem]",height:a="min-h-[3rem]"}=e,l="".concat(r," ").concat(a);return(0,s.jsx)("div",{style:{borderTopColor:t||"",borderRightColor:t||""},className:"".concat(l," border-t-color-main border-r-color-main border-l-transparent border-b-transparent inline-block  animate-spin rounded-full border-[.4rem] border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white"),role:"status"})}},3841:function(e,t,r){"use strict";r.d(t,{g:function(){return l}});var s=r(3898),a=r(248);let l=a.Ry({first_name:a.Z_().min(1,{message:"Họ l\xe0 bắt buộc"}),last_name:a.Z_().min(1,{message:"T\xean l\xe0 bắt buộc"}),email:a.Z_().min(1,{message:"Email l\xe0 bắt buộc"}).refine(e=>(0,s.oH)(e),{message:"Email kh\xf4ng hợp lệ"}),password:a.Z_().min(5,{message:"\xcdt nhất 5 k\xed tự"}),confirm_password:a.Z_().min(5,{message:"X\xe1c nhận mật khẩu phải 5 k\xed tự"})})}},function(e){e.O(0,[6990,9154,1749,828,6176,8792,2325,3667,2643,5992,7410,2971,8069,1744],function(){return e(e.s=6702)}),_N_E=e.O()}]);