(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1998],{6781:function(e,t,r){Promise.resolve().then(r.bind(r,1865))},4431:function(e,t,r){"use strict";r.r(t),r.d(t,{SidebarContext:function(){return s}});var a=r(7437),l=r(2265);let s=(0,l.createContext)({openSidebar:!0,setOpenSidebar:()=>{}});t.default=e=>{let{children:t}=e,[r,n]=(0,l.useState)(!0);return(0,a.jsx)(s.Provider,{value:{openSidebar:r,setOpenSidebar:n},children:t})}},5108:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var a=r(7437),l=r(8670),s=r(2265),n=r(5137),i=r(3667),m=e=>{let{enabled:t,text:r}=e;return(0,i.a)({queryKey:["search",r],queryFn:()=>n.Z.getSearch({text:r}),enabled:t})},o=r(703),c=r(8792),d=e=>{var t;let{form:r}=e;return(0,a.jsxs)(c.default,{href:"/form/".concat(r._id,"/share"),className:" hover:bg-color-main text-[#0bceb2] hover:text-[#fff]  p-[1rem]  w-full min-h-[3rem]  max-h-[5.6rem] flex items-center gap-[1rem]",children:[(0,a.jsx)(o.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-full object-contain",unoptimized:!0}),(0,a.jsx)("p",{className:"w-[90%] truncate font-bold text-[1.6rem]",children:null==r?void 0:null===(t=r.form_title)||void 0===t?void 0:t.form_title_value})]})},f=e=>{var t,r,l,s,n,i;let{search:o}=e,c=m({enabled:!!o,text:o});return(0,a.jsxs)("div",{className:"min-w-[30rem] w-full bg-[#fff] min-h-full h-full max-h-max",children:[null==c?void 0:null===(l=c.data)||void 0===l?void 0:null===(r=l.metadata)||void 0===r?void 0:null===(t=r.forms)||void 0===t?void 0:t.map(e=>(0,a.jsx)(d,{form:e},e._id)),(null==c?void 0:null===(i=c.data)||void 0===i?void 0:null===(n=i.metadata)||void 0===n?void 0:null===(s=n.forms)||void 0===s?void 0:s.length)===0&&(0,a.jsx)("div",{className:"min-w-full min-h-[4rem] flex items-center px-[1rem]",children:"Kh\xf4ng t\xecm thấy kh\xf4ng tin"}),!o&&(0,a.jsx)("div",{className:"min-w-full min-h-[4rem] flex items-center px-[1rem]",children:"H\xe3y nhập t\xean Form bạn muốn t\xecm kiếm"})]})},u=r(7281),x=r(9564),h=r(828),p=r(5292),g=()=>{let[e,t]=(0,s.useState)(""),[r]=(0,u.c)(e,200),n=(0,h.I0)(),i=(0,h.v9)(e=>e.form.focus_search),[m,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!m){n((0,p.vx)({focus:m}));return}n((0,p.vx)({focus:m}))},[m]),(0,a.jsxs)("div",{className:"relative p-[.2rem_1rem] xl:min-w-[30rem] h-[3.2rem]  rounded-lg focus-within:border-[.1rem] focus-within:border-color-main border-[.1rem] border-color-main flex items-center gap-[.8rem]   ",children:[(0,a.jsx)(l.Z,{className:"w-[1.6rem] text-text-theme"}),(0,a.jsx)("input",{className:" min-h-full w-[95%] bg-transparent text-text-theme",placeholder:"T\xecm kiếm",value:e,autoFocus:m,onClick:()=>o(e=>!e),onChange:e=>t(e.target.value)}),(m||i)&&(0,a.jsx)(x.Z,{setOpenModel:o,children:(0,a.jsx)("div",{className:"absolute bottom-[0rem] translate-y-[100%] left-0 min-w-full w-max right-0 min-h-[2rem] xl:min-h-[4rem] max-h-[24rem] scroll-color-main  bg-[#fff] border-[.1rem] border-gray-300 rounded-lg h-max",children:(0,a.jsx)(f,{search:r})})})]})}},1865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eK}});var a=r(7437),l=r(2265),s=r(2882),n=r(7956),i=r(94),m=r(703),o=r(828),c=r(4431),d=r(8306),f=r(9910),u=r(8792),x=r(6992),h=r(3345),p=r(1488),g=r(3667),v=()=>(0,g.a)({queryKey:["get-all-notification"],queryFn:()=>p.Z.getAllNotification(),staleTime:0}),j=r(9564),w=r(5633),b=r(2151),y=r.n(b),N=e=>{let{notification_item:t}=e;return(0,a.jsxs)("div",{className:" my-[2rem] h-max px-[1.4rem] flex  gap-[1rem]   pb-[2rem] border-b-[.1rem] border-slate-200 text-text-theme",children:[(0,a.jsx)(w.Z,{size:28}),(0,a.jsxs)("div",{className:"w-[80%]  flex flex-col gap-[1rem] text-[1.4rem] leading-10",children:[(0,a.jsx)("p",{className:"font-semibold text-left",children:"Th\xf4ng b\xe1o hệ thống"}),(0,a.jsxs)("p",{className:"h-max text-left break-words max-w-full",children:[(0,a.jsx)("span",{className:"font-bold",children:"Tin nhắn: "}),(0,a.jsx)("span",{className:"h-max ",children:t.core.message})]}),(0,a.jsxs)("span",{className:"text-left",children:["Thời gian: ",y()(new Date(t.create_time)).format("hh:mm Do MMMM YYYY")]})]})]})},_=e=>(0,a.jsx)("div",{children:"NotificationAccount"}),Z=r(9319),F=r(8203),k=r(3302),S=e=>{var t,r,s,n,i,c,d;let{notification_item:f}=e,x=(0,l.useRef)(null),h=(0,o.v9)(e=>e.notification.new_notification),{ref:p,entry:g}=(0,k.s)({root:x.current,threshold:1}),v=(0,Z.Z)({form_id:f.core.form_id,active:(null==g?void 0:g.isIntersecting)||!1,notification_id:f._id}),j=(null===(s=v.data)||void 0===s?void 0:null===(r=s.metadata.form)||void 0===r?void 0:null===(t=r.form_avatar)||void 0===t?void 0:t.form_avatar_url)||(null===(i=v.data)||void 0===i?void 0:null===(n=i.metadata.form)||void 0===n?void 0:n.form_setting_default.form_avatar_default_url),w=null===(d=v.data)||void 0===d?void 0:null===(c=d.metadata.form)||void 0===c?void 0:c.form_title.form_title_value;return(0,a.jsxs)("div",{className:" my-[.4rem] h-max  flex  gap-[2rem] pb-[2rem] border-b-[.1rem] border-slate-200 text-text-theme",ref:p,children:[j?(0,a.jsx)(m.default,{src:j,width:50,height:50,alt:"avatar form",className:"w-[4.4rem] h-[4.4rem] rounded-full"}):(0,a.jsx)("div",{className:"w-[6rem] h-[6rem] rounded-full",children:(0,a.jsx)(F.Z,{})}),(0,a.jsxs)("div",{className:"w-[80%]  flex flex-col gap-[1rem] text-[1.4rem] leading-10",children:[(0,a.jsxs)("div",{className:"h-max text-left break-words flex flex-col gap-[.2rem] max-w-full",children:[(0,a.jsx)("span",{className:"font-semibold text-[1.4rem]",children:"Th\xf4ng b\xe1o biểu mẫu: "}),w?(0,a.jsxs)("p",{className:"text-[1.2rem] ",children:[(0,a.jsx)("span",{children:"Form"}),(0,a.jsxs)("span",{className:"font-semibold",children:[" [",w,"] "]}),(0,a.jsxs)("span",{className:"h-max ",children:["của ",f.core.message]})]}):(0,a.jsx)("div",{className:"w-[3rem] h-[2rem]",children:(0,a.jsx)(F.Z,{})})]}),(0,a.jsx)("span",{className:"text-left",children:y()(new Date(f.create_time)).format("hh:mm Do MMMM YYYY")}),(0,a.jsx)("div",{className:"flex items-center gap-[2rem]",children:(0,a.jsxs)(u.default,{href:"/form/".concat(f.core.form_id,"/summary#").concat(f.core.form_answer_id),className:"button-color-core flex items-center gap-[1rem] text-left border-[.1rem] border-gray-200 p-[.3rem_2rem] rounded-full w-max",children:["Xem chi tiết",h.includes(f._id)&&(0,a.jsx)("div",{className:"w-[.8rem] h-[.8rem] bg-btn-design rounded-full hover:bg-[#fff]"})]})})]})]})},T=r(6128),C=()=>{let e=(0,o.v9)(e=>e.notification.notification);return(0,l.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="scroll"}),[]),(0,a.jsxs)("div",{className:"bg-color-section-theme text-text-theme rounded-3xl w-full xl:w-[46rem]  text-[1.4rem] max-h-[50rem] flex flex-col gap-[1.4rem] min-h-[4rem] h-max p-[3rem]  shadow-xl",children:[(0,a.jsx)("p",{className:"text-left text-[1.6rem]",children:"Th\xf4ng b\xe1o"}),(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"scroll-hidden overflow-y-scroll pb-[1rem] flex flex-col gap-[.5rem] ",children:[e&&e.map(e=>"System"===e.type?(0,a.jsx)(N,{notification_item:e},e._id):"Account"===e.type?(0,a.jsx)(_,{notification_item:e},e._id):"Form_Answers"===e.type?(0,a.jsx)(S,{notification_item:e},e._id):void 0),e&&0==e.length&&(0,a.jsx)(T.Z,{})]})]})},D=r(7082),A=r(8411),I=r(3050),P=()=>{var e,t,r;let s=(0,o.v9)(e=>e.notification.notification),n=(0,o.v9)(e=>e.notification.animation);(0,D.NL)();let i=(0,o.I0)(),m=v();(0,l.useEffect)(()=>{if(m.isSuccess){var e;let{notifications:t}=(null===(e=m.data.metadata)||void 0===e?void 0:e.notification_user)||[];i((0,A.mt)({notification:t||[]}))}},[m.isSuccess,null===(r=m.data)||void 0===r?void 0:null===(t=r.metadata)||void 0===t?void 0:null===(e=t.notification_user)||void 0===e?void 0:e.notifications]);let[c,d]=(0,l.useState)(!1);return(0,a.jsxs)("button",{className:"".concat(c?"bg-color-main !text-[#fff]":""," relative flex items-center p-[.4rem] rounded-xl text-text-theme "),onClick:()=>{d(e=>!e),i((0,A.GL)({animation:!1}))},children:[(0,a.jsx)(h.Z,{className:"w-[1.8rem]"}),(0,a.jsx)("div",{className:"".concat(n?"animate-ping":""," absolute top-[-.8rem] right-[-.8rem] w-[2.1rem] h-[2.1rem] flex items-center justify-center bg-red-600 rounded-full "),children:(0,a.jsx)("span",{className:"text-[#fff] text-[1rem]",children:(null==s?void 0:s.length)>99?"99+":s.length||0})}),c&&(0,a.jsx)(I.Z,{children:(0,a.jsx)("div",{className:"fixed top-[0] right-[0rem] z-[999] bg-[rgba(0,0,0,.2)] w-screen h-screen",children:(0,a.jsx)("div",{className:"absolute z-[999] top-[4.7rem] right-[1rem] xl:right-[5rem]",children:(0,a.jsx)(j.Z,{setOpenModel:d,children:(0,a.jsx)(C,{})})})})})]})},z=r(3441),M=r(5292),q=r(5005),E=r(8670);let K=[{Title:"Trang chủ",Icon:(0,a.jsx)(q.Z,{className:"w-[1.8rem]"}),Href:"/"},{Title:"T\xecm kiếm",Icon:(0,a.jsx)(E.Z,{className:"w-[1.8rem]"}),Model:"search"},{Title:"C\xe0i đặt",Icon:(0,a.jsx)(f.Z,{className:"w-[1.8rem]"}),Href:"/settings"}];var L=e=>{let{setOpenModel:t}=e,r=(0,o.I0)(),l=()=>{r((0,M.vx)({focus:!0}))};return(0,a.jsx)(j.Z,{setOpenModel:t,children:(0,a.jsx)("div",{className:" absolute z-[3] right-0 w-[20rem] min-h-[10rem] py-[1rem] h-max bg-[#ffffff] rounded-lg border-[.1rem] border-gray-200 shadow-lg flex flex-col gap-[.5rem] text-[1.4rem] text-[#000]",children:K.map(e=>e.Href?(0,a.jsxs)(u.default,{href:e.Href,className:"p-[.2rem_.8rem] flex items-center gap-[1.6rem] hover:bg-slate-200 rounded-md",children:[(0,a.jsx)("span",{className:"min-w-[2.2rem]",children:e.Icon}),(0,a.jsx)("span",{className:"font-medium",children:e.Title})]},e.Title):"search"===e.Model?(0,a.jsxs)("button",{className:"p-[.2rem_.8rem] flex items-center gap-[1.6rem] hover:bg-slate-200 rounded-md",onClick:()=>l(),children:[(0,a.jsx)("span",{className:"min-w-[2.2rem]",children:e.Icon}),(0,a.jsx)("span",{className:"font-medium text-slate-600",children:e.Title})]},e.Title):void 0)})})},O=e=>{let{openModel:t,setOpenModel:r}=e;return(0,a.jsxs)("div",{className:"relative ml-auto z-[999] text-[#fff]",children:[(0,a.jsx)(x.Z,{Icon:(0,a.jsx)(z.Z,{className:"w-[1.4rem]  "}),className:"flex  bg-color-main  rounded-lg !w-[1.6rem] !h-[1.6rem]",onClick:()=>r(e=>!e)}),t&&(0,a.jsx)(L,{setOpenModel:r})]})},Y=()=>{let[e,t]=(0,l.useState)(!1),r=(0,o.v9)(e=>e.authReducer.user);return(0,a.jsxs)("div",{className:"group min-w-[10rem] max-w-[26rem] xl:min-w-[20.2rem]  h-[3rem] flex items-center justify-between text-text-theme",children:[r&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"max-w-full w-full flex gap-[1rem] items-center hover:cursor-pointer ",onClick:()=>t(!0),children:[(null==r?void 0:r.user_avatar_current)&&(0,a.jsx)(m.default,{src:r.user_avatar_current,width:20,height:20,alt:"avatar",className:"w-[2rem] h-[2rem] rounded-full"}),!(null==r?void 0:r.user_avatar_current)&&(0,a.jsx)("div",{className:"min-w-[2rem] h-[2rem] bg-green-300 rounded-full flex items-center justify-center",children:null==r?void 0:r.user_first_name.slice(0,1)}),(0,a.jsx)("span",{className:"font-semibold w-fullbreak-words line-clamp-2 ",title:"Nickname",children:(null==r?void 0:r.user_first_name)+" "+(null==r?void 0:r.user_last_name)}),(0,a.jsx)(O,{openModel:e,setOpenModel:t})]})}),!r&&(0,a.jsx)("div",{className:"animate-pulse w-full h-full rounded-md bg-slate-200"})]})},R=r(7907),H=r(3898),V=r(5108),W=r(8085),G=()=>{let{openSidebar:e,setOpenSidebar:t}=(0,l.useContext)(c.SidebarContext),{theme:r}=(0,l.useContext)(W.ThemeContext),s=(0,R.usePathname)();return(0,a.jsx)("div",{className:"w-full px-[.5rem] xl:px-[1rem] py-[2rem] xl:p-[2rem]  sticky  top-[0rem] z-[2]  h-[6rem]  flex flex-col gap-[1.6rem]  text-[1.3rem] bg-color-section-theme  ",children:(0,a.jsxs)("div",{className:"h-full w-full flex items-center justify-between gap-[2rem] px-[1rem] xl:p-0",children:[(0,a.jsxs)("div",{className:"hidden xl:flex gap-[1rem]",children:[!e&&(0,a.jsx)("div",{className:"flex items-center gap-[1rem] ",children:(0,a.jsx)(x.Z,{Icon:(0,a.jsx)(d.Z,{className:"text-text-theme ",size:18}),onClick:()=>t(!0)})}),(0,a.jsx)("p",{className:"hidden xl:block text-text-theme text-[1.6rem] font-semibold w-max",children:(0,H.p_)(s)})]}),(0,a.jsx)("div",{className:"hidden sm:block xl:hidden",children:(0,a.jsx)(u.default,{href:"/dashboard",children:(0,a.jsx)(m.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[6rem] h-[5rem] ",unoptimized:!0})})}),(0,a.jsx)("div",{className:"w-[40%] xl:w-[32%] ",title:"T\xecm kiếm",children:(0,a.jsx)(V.Z,{})}),(0,a.jsx)("div",{className:"hidden sm:block xl:hidden",children:(0,a.jsx)(n.default,{})}),(0,a.jsxs)("div",{className:"flex items-center gap-[1rem] text-color-main font-semibold text-[1.2rem] xl:text-[1.6rem] w-[58%] xl:w-max ",children:[(0,a.jsx)(m.default,{src:"https://res.cloudinary.com/cloud304/image/upload/v1723200121/kuroform/users/user_id_66a0a5ca4ed899bf08b8f628/form_id_66b5d4c21795132645a3fbb7/avatar/file_u2uzlx.jpg",width:30,height:30,alt:"avatar",unoptimized:!0,className:"w-[3rem] h-[3rem] rounded-full"}),(0,a.jsx)("span",{children:"Created by KuroDev"})]}),(0,a.jsxs)("div",{className:"flex-1 xl:flex-auto flex justify-end gap-[1.6rem] xl:gap-[2rem]",children:[(0,a.jsx)(u.default,{href:"/settings",className:"p-[.2rem_.8rem] flex items-center gap-[.8rem] text-text-theme rounded-md",title:"C\xe0i đặt",children:(0,a.jsx)(f.Z,{className:"w-[1.6rem]"})}),(0,a.jsx)(P,{}),(0,a.jsx)("div",{className:"hidden xl:block",children:(0,a.jsx)(Y,{})}),(0,a.jsx)("div",{className:"hidden xl:block",children:(0,a.jsx)(n.default,{})})]})]})})},B=r(2243),Q=r(6715),X=r(5137),U=r(6063),$=e=>{let{limit:t,page:r}=e;return(0,g.a)({queryKey:["get-form-pagination",r,t],queryFn:()=>X.Z.getFormPagination({page:r,limit:t}),placeholderData:U.Wk})};r(1594);let J=e=>{let{page:t,max_show_page:r,cb:a}=e,l=[];a([...Array(t).fill(t).map((e,r)=>t-r),...Array(r-t).fill(t).map((e,r)=>t+(r+1))].sort((e,t)=>e-t))},ee=e=>{let{max_show_page:t,page:r,cb:a}=e,l=[];a([...[,,,,].fill(r).map((e,t,a)=>r-(t+1)),...Array(6).fill(r).map((e,t,a)=>r+t)].sort((e,t)=>e-t))},et=e=>{let{max_show_page:t,page:r,total_page:a,cb:l}=e,s=[],n=a-r+1;return l([...Array(t-n).fill(r).map((e,t)=>r-(t+1)),...Array(n).fill(r).map((e,t)=>r+t)].sort((e,t)=>e-t))};var er=e=>{let{page:t,setPage:r,total_page:s}=e,n=s<10?s:10,[i,m]=(0,l.useState)(()=>Array(n).fill(0).map((e,t)=>t+1)),o=e=>e===t?"bg-color-main text-[#fff]":" bg-color-section-theme text-text-theme hover:text-[#fff] hover:bg-blue-600",c=e=>r(e);return(0,l.useEffect)(()=>{let e=s-t<=6;if(1!==t&&t!==s)return t<=5?J({max_show_page:n,page:t,cb:m}):t>5&&!e?ee({max_show_page:n,page:t,cb:m}):et({max_show_page:n,page:t,total_page:s,cb:m})},[t]),(0,l.useEffect)(()=>J({max_show_page:n,page:t,cb:m}),[s]),(0,a.jsx)("div",{className:" text-text-theme flex flex-col xl:flex-row items-center justify-center gap-[1rem] xl:gap-0 h-[4rem] w-full",children:(0,a.jsxs)("div",{className:" flex w-full justify-center gap-[2rem] relative",children:[i.map(e=>(0,a.jsx)("button",{onClick:()=>c(e),className:"".concat(o(e)," min-w-[2rem] aspect-square rounded-full flex justify-center items-center"),children:(0,a.jsx)("span",{children:e})},e)),(0,a.jsxs)("div",{className:"pr-[2rem] xl:pr-0 absolute right-0 bottom-[-4rem] min-w-[12rem] flex  gap-[1rem]",children:["Tổng trang:"," ",(0,a.jsx)("div",{className:"w-[2.4rem] aspect-square rounded-full bg-color-main  flex justify-center items-center text-[1.2rem] text-[#fff]",children:s})]})]})})},ea=r(1064),el=r(568),es=r(7731),en=r(244),ei=r(489),em=e=>{let{form_id:t}=e,r=(0,o.I0)(),s=(0,R.useRouter)(),n=(0,D.NL)(),i=(0,el.D)({mutationKey:["delete-form",t],mutationFn:e=>X.Z.deleteFormId({form_id:e}),onSuccess:e=>{n.invalidateQueries({queryKey:["get-form-pagination"]});let{formDelete:t,formPrivate:a,formPublic:l}=e.metadata;r((0,M.PH)({form_delete:t,form_public:l,form_private:a})),n.invalidateQueries({queryKey:["get-list-form-delete"]})}}),[m,c]=(0,l.useState)(!1),d=(0,l.useRef)(null);(0,l.useEffect)(()=>(m&&(d.current=setTimeout(()=>c(!1),3e3)),()=>{clearTimeout(d.current)}),[m]);let f=()=>{i.mutate(t)};return(0,a.jsxs)("div",{className:"flex  gap-[1rem]",children:[(0,a.jsxs)("button",{className:"flex items-center gap-[1rem] p-[.5rem_.7rem]  bg-color-main text-[#fff] rounded-lg",onClick:e=>{e.preventDefault(),s.push("/form/".concat(t,"/edit"))},children:[(0,a.jsx)(es.Z,{size:16}),(0,a.jsx)("span",{children:"Chỉnh sửa"})]}),(0,a.jsxs)("div",{className:"relative  ",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText("".concat(window.location.origin,"/form/").concat(t)).then(()=>c(!0))},className:"w-full h-full flex items-center gap-[1rem] p-[.5rem_.7rem] bg-color-main text-[#fff] rounded-lg",children:(0,a.jsx)(en.Z,{size:16})}),m&&(0,a.jsx)("div",{className:"absolute bottom-[-2.5rem] left-[-10rem] xl:left-[-6rem] ",children:(0,a.jsx)(ea.Z,{message:"Copy link chia sẽ th\xe0nh c\xf4ng"})})]}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),f()},className:"flex items-center gap-[1rem] p-[.5rem_.7rem] bg-color-main text-[#fff] rounded-lg",children:(0,a.jsx)(ei.Z,{size:16})})]})},eo=r(7841),ec=r(6369),ed=()=>(0,a.jsxs)("div",{className:"form-state__message form-state__message--private",children:[(0,a.jsx)("div",{className:"form-state__message--circle"}),(0,a.jsx)("span",{children:"Form ri\xeang tư"})]}),ef=()=>(0,a.jsxs)("div",{className:"form-state__message form-state__message--public",children:[(0,a.jsx)("div",{className:"form-state__message--circle"}),(0,a.jsx)("span",{children:"Form c\xf4ng khai"})]}),eu=()=>(0,a.jsxs)("div",{className:"form-state__message form-state__message--delete",children:[(0,a.jsx)("div",{className:"form-state__message--circle"}),(0,a.jsx)("span",{children:"Form đ\xe3 x\xf3a"})]}),ex=e=>{let{form_state:t}=e;return(0,a.jsxs)("div",{className:"form-state",children:["isPrivate"===t&&(0,a.jsx)(ed,{}),"isPublic"===t&&(0,a.jsx)(ef,{}),"isDelete"===t&&(0,a.jsx)(eu,{})]})},eh=e=>{var t,r;let{form:l}=e;return l?(0,a.jsxs)(u.default,{prefetch:!1,href:"/form/".concat(l._id,"/summary"),className:"rounded-lg min-h-[20rem]  w-full p-[1rem_2rem] max-w-full flex    justify-center gap-[1rem] text-[1.2rem]  text-text-theme bg-bg-form-nav  border-[.1rem] border-[var(--border-form-item)]",children:[(0,a.jsxs)("div",{className:"w-[70%]  flex flex-col justify-center gap-[2rem] ",children:[(0,a.jsxs)("div",{className:"max-w-[70%] flex flex-col justify-center gap-[1rem] ",children:[(0,a.jsx)(ex,{form_state:l.form_state}),(0,a.jsxs)("span",{className:"max-w-[90%] truncate text-[1.6rem] font-semibold",children:["Ti\xeau đề Form: ",(null==l?void 0:null===(t=l.form_title)||void 0===t?void 0:t.form_title_value)||"Trống"]}),(0,a.jsxs)("span",{children:["Chỉnh sửa ",y()(new Date(l.updatedAt)).fromNow()]})]}),(0,a.jsxs)(Q.Z,{className:"flex flex-col xl:flex-row flex-wrap  xl:items-center text-[1.2rem] gap-[2rem]",children:[(0,a.jsx)("div",{className:"order-2 xl:order-1",children:(0,a.jsx)(em,{form_id:l._id})}),(0,a.jsxs)("div",{className:"flex gap-[2rem]  ",children:[(0,a.jsxs)("p",{className:"flex gap-[1rem] items-center",children:[(0,a.jsx)(eo.Z,{size:16}),(0,a.jsx)("span",{children:l.form_views||0})]}),(0,a.jsxs)("p",{className:"flex gap-[1rem] items-center",children:[(0,a.jsx)(es.Z,{size:16}),(0,a.jsx)("span",{children:l.form_response||0})]}),"Tỉ lệ: ",(0,ec.uV)({formAnswer:l.form_response,formView:l.form_views}),"%"]})]})]}),(0,a.jsx)("div",{className:"w-[30%] flex flex-col items-center justify-center gap-[3rem]",children:(0,a.jsx)("div",{className:"w-[8rem] h-[8rem] xl:w-[12rem] xl:h-[12rem]",children:(null===(r=l.form_avatar)||void 0===r?void 0:r.form_avatar_url)&&(0,a.jsx)(m.default,{src:l.form_avatar.form_avatar_url,width:20,height:20,alt:"avatar",unoptimized:!0,className:"w-full h-full rounded-full"})})})]},l._id):null},ep=e=>{let{content:t="Bạn chưa tạo form, h\xe3y tạo thử nh\xe9",gap:r="4rem"}=e;return(0,a.jsxs)("div",{style:{gap:r},className:"mt-[4rem] bg-[#fff] rounded-lg w-full h-full min-h-[40rem] flex flex-col items-center justify-center",children:[(0,a.jsx)(m.default,{src:"/assets/images/icon/form_answer/form_empty_response.png",width:18,height:18,alt:"icon",className:"w-[24rem] h-[24rem]",unoptimized:!0}),(0,a.jsx)("div",{className:"text-[4rem] text-color-main",children:t})]})};y().locale("vi");var eg=()=>{var e;let[t,r]=(0,l.useState)(1),s=$({page:t,limit:6});return(0,a.jsxs)(Q.Z,{className:" bg-color-section-theme   min-h-[40rem]   flex flex-col gap-[0rem] p-[2rem_2rem_4rem_2rem] ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-[1rem] ",children:[(0,a.jsx)("div",{className:"flex items-center gap-[1rem]",children:(0,a.jsx)("p",{className:"text-color-main font-bold  text-[2rem] ",children:"Quản l\xed Form"})}),!s.isPending&&s.isSuccess&&s.data.metadata.forms.length>0&&(0,a.jsx)(Q.Z,{className:"max-w-full flex flex-wrap justify-between gap-[2rem_1rem] pb-[2rem] text-[1.3rem] ",children:s.data.metadata.forms.map((e,t)=>(0,a.jsx)("div",{className:"sm:w-full  md:w-[49%] xl:w-[32.5%]",children:(0,a.jsx)(eh,{form:e})},e._id))})]}),s.isPending&&(0,a.jsx)("div",{className:"w-full min-h-[6rem] mt-[2rem] ",children:(0,a.jsx)(B.Z,{width:"w-full",height:"h-[50rem]",message:"Đang lấy th\xf4ng tin c\xe1c form"})}),s.isSuccess&&s.data.metadata.total_page>0&&(0,a.jsx)(er,{page:t,setPage:r,total_page:(null===(e=s.data)||void 0===e?void 0:e.metadata.total_page)||1}),s.isSuccess&&0===s.data.metadata.forms.length&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center   ",children:(0,a.jsx)(ep,{})})]})},ev=r(6136),ej=r(1196);ev.kL.register(...ev.zX);let ew=e=>{let{dataChart:t}=e;return(0,a.jsx)("div",{className:"w-full xl:w-[36rem] h-[15rem] xl:h-[20rem] text-[#000]",children:(0,a.jsx)(ej.$Q,{className:"!w-full h-[20rem] xl:w-[36rem]  text-inherit",data:t,options:{plugins:{legend:{display:!1}},datasets:{bar:{barPercentage:1,categoryPercentage:.8}},responsive:!0}})})};var eb=()=>{var e;let t=(0,o.I0)(),r=(0,g.a)({queryKey:["get-all-form-state"],queryFn:()=>X.Z.getAllFormState()});return(0,l.useEffect)(()=>{if(r.isSuccess){let{formPublic:e,formDelete:a,formPrivate:l}=r.data.metadata;t((0,M.PH)({form_delete:a,form_private:l,form_public:e}))}},[r.isSuccess,t,null===(e=r.data)||void 0===e?void 0:e.metadata]),r},ey=r(7300),eN=()=>{let{forms:e}=(0,ey.Z)();eb();let t=(0,o.v9)(e=>e.form.form_delete),r=(0,o.v9)(e=>e.form.form_public),l=(0,o.v9)(e=>e.form.form_private);return(0,a.jsxs)("div",{className:"relative w-full h-full text-text-theme rounded-lg flex flex-col     gap-[.5rem] xl:gap-[1rem] ",children:[(0,a.jsxs)("div",{className:"flex items-center gap-[2rem]",children:[(0,a.jsx)("p",{className:"w-max  break-words ",children:"Tổng số Form hiện c\xf3"}),(0,a.jsx)("p",{className:"text-[4rem] xl:text-[4rem] text-color-main font-normal",children:e.length})]}),(0,a.jsx)(ew,{dataChart:{labels:["Form ri\xeang tư","Form c\xf4ng khai","Form tạm thời x\xf3a"],datasets:[{label:"C\xe1c Form của bạn",data:[l,r,t],backgroundColor:["#6262e5","#2563eb","#dc2626"]}]}})]})};ev.kL.register(...ev.zX);let e_=e=>{let{dataChart:t}=e;return(0,a.jsx)("div",{className:"w-full h-[13rem] xl:h-[15rem] flex justify-center  text-[#000]",children:(0,a.jsx)(ej.by,{className:"w-[16rem] xl:w-[20rem] h-[13rem] xl:h-[15rem] text-inherit border-none",data:t,options:{plugins:{legend:{display:!1}},datasets:{bar:{barPercentage:1,categoryPercentage:.8,borderWidth:0}},responsive:!0,interaction:{mode:"index",intersect:!1}}})})};var eZ=r(7002),eF=r(6067),ek=()=>{var e;let t=(0,o.I0)(),r=(0,g.a)({queryKey:["get-form-view"],queryFn:()=>eF.Z.getFormTotalView()});return(0,l.useEffect)(()=>{if(r.isSuccess){let{views:e}=r.data.metadata;t((0,eZ.Ut)({total_views:e}))}},[r.isSuccess,t,null===(e=r.data)||void 0===e?void 0:e.metadata]),r},eS=()=>{var e;let t=(0,o.I0)(),r=(0,g.a)({queryKey:["get-total-form-answer"],queryFn:()=>eF.Z.getTotalFormAnswer()});return(0,l.useEffect)(()=>{if(r.isSuccess){let{total:e}=r.data.metadata;t((0,eZ.P7)({total_answers:e}))}},[r.isSuccess,t,null===(e=r.data)||void 0===e?void 0:e.metadata]),r},eT=()=>{ek(),eS();let e=(0,o.v9)(e=>e.formAsnwer.form_total_views),t=(0,o.v9)(e=>e.formAsnwer.form_total_answers);return(0,a.jsxs)("div",{className:"relative w-full h-full text-text-theme  rounded-lg  flex flex-col items-center  gap-[2rem] xl:gap-[2rem]",children:[(0,a.jsx)("div",{className:"w-full flex justify-center gap-[2rem]",children:(0,a.jsxs)("p",{className:"flex flex-row xl:flex-col flex-wrap xl:items-center gap-[1rem] h-max w-full text-[1.3rem]",children:[(0,a.jsxs)("span",{className:"w-max  break-words ",children:["Tổng s\xf4 lượt xem Form: ",e]}),(0,a.jsxs)("span",{className:"w-max  break-words r",children:["Số lượt phản hồi: ",t]}),(0,a.jsxs)("span",{className:"w-max  break-words r",children:["Tỉ lệ: ",(0,ec.uV)({formAnswer:t,formView:e}),"%"]})]})}),-1===e&&-1===t?(0,a.jsx)("div",{className:"w-[15rem] h-[15rem] rounded-xl animate-pulse bg-gray-200"}):0===e&&0===t?(0,a.jsx)(m.default,{src:"/assets/images/icon/form_answer/form_empty_response.png",width:18,height:18,alt:"icon",className:"w-[14rem] h-[14rem]",unoptimized:!0}):(0,a.jsx)(e_,{dataChart:{labels:["Số lượt xem Form","Số lượt phản hồi"],datasets:[{label:"Thống k\xea của bạn",data:[e,t],backgroundColor:["#4299de","#3b36db"],borderWith:0}]}})]})},eC=()=>(0,a.jsxs)("div",{className:"mt-[4rem] xl:mt-0 w-full flex flex-col  sm:flex-row justify-center  h-full  text-[#fff]",children:[(0,a.jsx)("div",{className:" h-[22rem] xl:h-full order-1 ",children:(0,a.jsx)(eN,{})}),(0,a.jsx)("div",{className:" sm:w-[50%] h-[22rem] xl:h-full  order-3 xl:order-2",children:(0,a.jsx)(eT,{})})]}),eD=()=>(0,el.D)({mutationKey:["get-form-base-on-date"],mutationFn:e=>{let{date_begin:t,date_over:r}=e;return X.Z.getFormBaseOnDate({date_begin:t,date_over:r})}}),eA=r(7874),eI=()=>(0,a.jsx)("div",{className:"flex flex-wrap justify-end gap-[.4rem] w-full h-[28rem] rounded-xl   text-[1.3rem]",children:Array(30).fill(1).map((e,t)=>(0,a.jsx)("div",{className:"animate-pulse bg-gray-400  w-[3rem] h-[3rem] flex items-center justify-center rounded-md "},t))}),eP=e=>{let{forms:t,date_full:r,setOpenModel:l}=e;return(0,a.jsx)("div",{className:"fixed top-[0] right-[0rem] z-[100] bg-[rgba(0,0,0,.2)] w-screen h-screen flex items-center justify-center",children:(0,a.jsx)(j.Z,{setOpenModel:l,children:(0,a.jsxs)("div",{className:"relative text-text-theme w-[50%] mx-auto xl:mx-0 xl:w-[60rem] min-h-[26rem] flex flex-col gap-[2rem] p-[2rem_2rem_3rem]  bg-bg-model rounded-lg",children:[(0,a.jsxs)("p",{className:"py-[1rem] w-full text-center text-color-main font-semibold",children:["Dữ liệu ng\xe0y ",y()(r).format("DD-MMMM-YYYY").toUpperCase()]}),(0,a.jsx)("div",{className:"max-h-[32rem] overflow-y-scroll scroll-color-main w-full flex flex-col items-center gap-[2rem]",children:t.map(e=>(0,a.jsx)(eh,{form:e},e._id))}),(0,a.jsx)("div",{className:"absolute right-[2rem] top-[2rem]",children:(0,a.jsx)("button",{className:"w-[3rem] h-[3rem] xl:w-[4rem] xl:h-[4rem] bg-[#ffffff] flex items-center justify-center rounded-full shadow text-[12px] text-[#000] font-semibold",onClick:()=>l(!1),children:"X"})})]})})})},ez=e=>{let{dates_in_month:t,results:r,month:s}=e,{data_in_month:n,filter_form:i}=(0,ec.GR)({dates_in_month:t,results:r}),[m,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(void 0),f=(e,t)=>{o(!0),d({date_full:t,forms:e})},u=0;return n.length>0&&(u=n.reduce((e,t)=>{var r;return e+((null===(r=t.forms)||void 0===r?void 0:r.length)?t.forms.length:0)},0)),(0,a.jsxs)(a.Fragment,{children:[n.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-[.4rem]  w-full h-max rounded-xl text-[1.2rem]  xl:text-[1.3rem]",children:[n.map((e,t)=>{var r;return e.match?(0,a.jsx)("button",{title:"".concat(null===(r=e.forms)||void 0===r?void 0:r.length," form được đăng tải, nhấn v\xe0o để xem chi tiết"),onClick:()=>f(e.forms,e.date_full.toString()),className:"bg-color-main text-[#fff] w-[2.4rem] h-[2.4rem] xl:w-[3rem] xl:h-[3rem] flex items-center justify-center rounded-md ",children:e.date_createdAt},t):(0,a.jsx)("button",{title:"Kh\xf4ng c\xf3 dữ liệu",className:"bg-slate-700 text-[#fff] w-[2.4rem] h-[2.4rem] xl:w-[3rem] xl:h-[3rem] flex items-center justify-center rounded-md ",children:e.date_createdAt},t)}),(0,a.jsxs)("div",{className:"text-text-theme w-full flex justify-end items-center flex-wrap ",children:[(0,a.jsx)("span",{className:"w-max",children:"Bạn đ\xe3 đang"})," ",(0,a.jsx)("span",{className:"text-color-main mx-[.4rem] font-extrabold",children:u})," trong",(0,a.jsx)("span",{children:"th\xe1ng"})," ",(0,a.jsx)("span",{className:"text-color-main mx-[.4rem] font-extrabold",children:s})]})]}),0===n.length&&(0,a.jsxs)("div",{className:"flex flex-wrap xl:justify-end gap-[.4rem] w-full h-[18rem] xl:h-[21rem] rounded-xl   text-[1.3rem]",children:[i.map((e,t)=>(0,a.jsx)("button",{title:"Kh\xf4ng c\xf3 dữ liệu",className:"bg-slate-700 text-[#fff] w-[2.4rem] h-[2.4rem] xl:w-[3rem] xl:h-[3rem] flex items-center justify-center rounded-md ",children:t+1},t)),(0,a.jsx)("div",{className:"text-text-theme w-full flex xl:justify-end items-center text-[1.3rem] xl:text-[1.4rem]",children:"Kh\xf4ng c\xf3 form n\xe0o được tạo"})]}),m&&(0,a.jsx)(eP,{forms:null==c?void 0:c.forms,date_full:null==c?void 0:c.date_full,setOpenModel:o})]})},eM=r(2469),eq=()=>{let[e,t]=(0,l.useState)(()=>{let e=new Date,t=e.getMonth()+1,r=e.getFullYear();return{last_day_in_month:(0,eA.mW)({month:t,year:r}),month:t,year:r}}),r=eD();return(0,l.useEffect)(()=>{let t=(0,eA.DP)({day:1,month:e.month,year:e.year}),a=(0,eA.DP)({day:e.last_day_in_month,month:e.month,year:e.year}),l=new Date(t).toISOString(),s=new Date(a).toISOString();r.mutate({date_begin:l,date_over:s})},[]),(0,l.useEffect)(()=>{let t=(0,eA.DP)({day:1,month:e.month,year:e.year}),a=(0,eA.DP)({day:e.last_day_in_month,month:e.month,year:e.year}),l=new Date(t).toISOString(),s=new Date(a).toISOString();r.mutate({date_begin:l,date_over:s})},[e]),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col xl:items-end gap-[1rem] xl:px-[1rem] ",children:[(0,a.jsx)("button",{className:"ml-auto w-max max-w-[80%] p-[1rem] bg-color-main text-[#fff] rounded-lg",children:"T\xecm kiếm dữ liệu theo ng\xe0y"}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eM.Z,{cb:(r,a)=>{if("month"===a){let l=(0,eA.mW)({month:r,year:e.year});return t(e=>({...e,[a]:r,last_day_in_month:l}))}return t(e=>({...e,[a]:r}))},month:e.month,year:e.year})}),r.isSuccess&&(0,a.jsx)(ez,{dates_in_month:e.last_day_in_month,month:e.month,results:r.data.metadata.results}),r.isPending&&(0,a.jsx)(eI,{})]})},eE=()=>{let{openSidebar:e,setOpenSidebar:t}=(0,l.useContext)(c.SidebarContext);return(0,o.v9)(e=>e.authReducer.user),(0,a.jsxs)("div",{className:"  min-h-screen bg-color-gap-empty    h-max   flex flex-col  gap-[1rem] text-[1.4rem] pb-[1rem] px-0",children:[(0,a.jsx)(G,{}),(0,a.jsx)("div",{className:"flex xl:hidden justify-end w-full bg-color-section-theme p-[1rem]",children:(0,a.jsx)(Y,{})}),(0,a.jsxs)("div",{className:"  w-full xl:w-full    flex flex-col gap-[1rem] ",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col gap-[4rem] xl:gap-[2rem]  bg-color-section-theme p-[2rem_1.4rem] xl:p-[2rem]",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"text-color-main font-bold text-[2rem] ",children:"Ph\xe2n t\xedch chung"}),(0,a.jsx)("div",{className:" sm:hidden  flex justify-end my-[1rem]",children:(0,a.jsx)(n.default,{})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-[2rem] xl:gap-0 h-max xl:h-[34rem]",children:[(0,a.jsxs)("div",{className:"flex  items-center order-1 w-[40%] xl:w-[20%] h-full flex-col gap-[4rem]",children:[(0,a.jsx)(m.default,{src:"/assets/images/icon/form/create_form.png",width:20,height:20,alt:"avatar",unoptimized:!0,className:"mt-[4rem] w-[12rem] h-[12rem] rounded-full"}),(0,a.jsx)(s.default,{textContent:"Tạo Form",urlNavigation:"/",className:" xl:[&]:p-[4px_8px] !text-[1.4rem]",position:"LEFT",icon:(0,a.jsx)(i.Z,{})})]}),(0,a.jsx)("div",{className:"w-full xl:w-[50%] h-full order-3 xl:order-2",children:(0,a.jsx)(eC,{})}),(0,a.jsx)("div",{className:"mt-[4rem] xl:mt-0 w-[53%] xl:w-[30%] min-h-full h-max order-2 xl:order-4",children:(0,a.jsx)(eq,{})})]})]}),(0,a.jsx)("div",{className:"min-h-[40rem] max-w-full w-full  xl:px-0",children:(0,a.jsx)(eg,{})})]})]})},eK=()=>(0,a.jsx)(eE,{})},2243:function(e,t,r){"use strict";var a=r(7437);r(2265);var l=r(2200),s=r(703);t.Z=e=>{let{height:t="h-screen",width:r="w-screen",message:n}=e,i="".concat(r," ").concat(t);return(0,a.jsx)("div",{className:"".concat(i," relative flex flex-col h-screen  justify-center items-center gap-[0rem] bg-[#fff]"),children:(0,a.jsxs)("div",{className:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] z-[2]",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center gap-[1rem]",children:[(0,a.jsx)(l.Z,{color:"text-color-main"}),(0,a.jsxs)("p",{className:"ml-[2rem] ",children:[(0,a.jsx)("span",{className:"text-[#000] text-[6rem]",children:"Kuro"}),(0,a.jsx)("span",{className:"text-color-main text-[6rem]",children:"form"})]}),(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(s.default,{src:"/icon_core.png",width:20,height:20,alt:"avatar",unoptimized:!0,className:"min-w-[6rem] h-[6rem] "})})]}),n&&(0,a.jsx)("p",{className:"text-color-main",children:n})]})})}},9564:function(e,t,r){"use strict";var a=r(7437),l=r(2265);t.Z=e=>{let{children:t,width:r,height:s,setOpenModel:n}=e,i=(0,l.useRef)(null),m=(0,l.useCallback)(e=>{i.current&&!i.current.contains(e.target)&&n(!1)},[n]);return(0,l.useEffect)(()=>(document.addEventListener("click",m),()=>{document.removeEventListener("click",m),i.current=null}),[m]),(0,a.jsx)("div",{ref:i,className:"".concat(r||""," ").concat(s||""),children:t})}},3050:function(e,t,r){"use strict";r(2265);var a=r(4887);t.Z=e=>{let{children:t}=e;return(0,a.createPortal)(t,document.querySelector("body"))}},6128:function(e,t,r){"use strict";var a=r(7437),l=r(703);r(2265),t.Z=()=>(0,a.jsxs)("div",{className:"w-full min-h-[40rem] h-full flex flex-col items-center justify-center gap-[4rem]",children:[(0,a.jsx)(l.default,{src:"/assets/images/icon/notification_empty.png",width:200,height:200,alt:"logo",className:"w-[20rem] h-[20rem]"}),(0,a.jsx)("p",{className:"text-[2rem]",children:"Danh s\xe1ch th\xf4ng b\xe1o hiện đang trống"})]})},8085:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeContext:function(){return s}});var a=r(7437),l=r(2265);let s=(0,l.createContext)({theme:"dark",setTheme:()=>{}});t.default=e=>{let{children:t}=e,[r,n]=(0,l.useState)("light");return(0,l.useEffect)(()=>{if("dark"===r){document.body.classList.remove("light"),document.body.classList.add("dark");return}return document.body.classList.add("light"),document.body.classList.remove("dark"),()=>{}},[r]),(0,a.jsx)(s.Provider,{value:{theme:r,setTheme:n},children:t})}},6715:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{children:t,...r}=e;return(0,a.jsx)("div",{...r,children:t})}},2882:function(e,t,r){"use strict";r.r(t);var a=r(7437);r(2265);var l=r(8792),s=r(7082),n=r(568),i=r(5137),m=r(7907);t.default=e=>{let{textContent:t,urlNavigation:r,position:o="LEFT",icon:c,...d}=e,f=(0,m.useRouter)(),u=(0,s.NL)(),x=(0,n.D)({mutationKey:["create-new-form"],mutationFn:()=>i.Z.createForm(),onSuccess:e=>{let{form_id:t}=e.metadata;f.push("/form/".concat(t,"/edit")),u.invalidateQueries({queryKey:["get-form-pagination"]})}});return(0,a.jsxs)(l.default,{onClick:()=>x.mutate(),tabIndex:-1,href:r,...d,className:"".concat(d.className," w-full xl:w-[17rem] h-[4rem]  p-[1rem_2rem] flex  justify-center items-center gap-[.8rem] text-[1.8rem] text-[#ffffff] bg-color-main opacity-[.95] hover:opacity-100 transition-colors duration-200 rounded-[.4rem]"),children:["LEFT"===o&&c&&c,t,"RIGHT"===o&&c&&c]})}},7956:function(e,t,r){"use strict";r.r(t);var a=r(7437),l=r(2265),s=r(8085),n=r(703);t.default=()=>{let{theme:e,setTheme:t}=(0,l.useContext)(s.ThemeContext);return(0,a.jsxs)("button",{onClick:()=>{t(e=>"dark"===e?"light":"dark")},className:"relative text-text-theme min-w-[4rem] bg-[#fff] w-[6rem] h-[3rem] rounded-full",children:[(0,a.jsx)("div",{className:"".concat("light"===e?"animate-rtl bg-[#fff]":" animate-ltr bg-[#fff]"," w-[2.2rem] h-[2.2rem] rounded-full absolute top-[50%] translate-y-[-50%]  ")}),"light"===e?(0,a.jsx)(n.default,{src:"/assets/images/icon/theme/bg_dark.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full object-cover",unoptimized:!0}):(0,a.jsx)(n.default,{src:"/assets/images/icon/theme/bg_light.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full",unoptimized:!0})]})}},6992:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{textContent:t,Icon:r,...l}=e;return(0,a.jsxs)("button",{...l,className:"".concat(l.className||""," min-w-[3rem] min-h-[3rem] w-max h-max flex justify-center items-center gap-[.5rem] "),children:[t&&t,r]})}},2469:function(e,t,r){"use strict";var a=r(7437),l=r(2265),s=r(9564);let n=[1,2,3,4,5,6,7,8,9,10,11,12];t.Z=e=>{let{year:t,cb:r,month:i,...m}=e,[o,c]=(0,l.useState)(!1),[d,f]=(0,l.useState)(!1),u=new Date().getFullYear();return(0,a.jsxs)("div",{className:" flex justify-end gap-[1rem] text-[1.2rem] xl:text-[1.4rem]",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("button",{onClick:e=>{c(e=>!e)},className:" bg-[#fff] text-[#000] border-text-theme border-[.1rem] h-[2.4rem] p-[.4rem] rounded-md relative flex items-center justify-center ".concat(m.className),children:[(0,a.jsxs)("p",{children:["Th\xe1ng ",i]}),o&&(0,a.jsx)(s.Z,{setOpenModel:c,children:(0,a.jsx)("button",{className:"absolute z-[2] min-w-[9rem]  max-h-[30rem] overflow-auto scroll-color-main bottom-[-1rem] translate-y-[100%] bg-[#fff] border-[.1rem] border-text-theme left-[0] right-0 min-h-[4rem] h-max flex flex-col items-center text-[#000] rounded-lg text-[1.2rem]",children:n.map(e=>(0,a.jsxs)("span",{onClick:t=>{t.cancelable=!0,r&&(r(e,"month"),c(!1))},className:"".concat(e===i?"bg-color-main text-[#fff]":"hover:bg-color-main hover:text-[#fff]"," hover:cursor-pointer p-[1rem]  w-full h-full flex items-center justify-center"),children:["Th\xe1ng ",e]},e))})})]})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)(s.Z,{setOpenModel:f,children:(0,a.jsx)("button",{className:" bg-[#fff] text-[#000] border-text-theme border-[.1rem] h-[2.4rem] min-w-[8rem] rounded-md relative flex items-center justify-center ".concat(m.className),onClick:e=>{f(e=>!e)},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["Năm ",t]}),d&&(0,a.jsx)("div",{className:"absolute z-[2] max-h-[30rem] overflow-auto scroll-color-main bottom-[-1rem] translate-y-[100%] bg-[#fff] left-[0] right-0 min-h-[4rem] h-max flex flex-col items-center  text-[#000] border-[.1rem] border-text-theme  rounded-lg text-[1rem]",children:(()=>{let e=[];for(let t=u;t>=2e3;t--)e.push(t);return e})().map(e=>(0,a.jsx)("p",{onClick:t=>{t.cancelable=!0,r&&(r(e,"year"),f(!1))},className:"".concat(e===t?"bg-color-main text-[#fff]":"hover:bg-color-main hover:text-[#fff]"," p-[1.6rem] hover:cursor-pointer w-full h-full flex items-center justify-center"),children:e},e))})]})})})})]})}},8203:function(e,t,r){"use strict";var a=r(7437);r(2265);var l=r(6715);t.Z=()=>(0,a.jsx)(l.Z,{className:"w-full h-full animate-pulse bg-gray-200"})},2200:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{color:t,width:r="min-w-[3rem]",height:l="min-h-[3rem]"}=e,s="".concat(r," ").concat(l);return(0,a.jsx)("div",{style:{borderTopColor:t||"",borderRightColor:t||""},className:"".concat(s," border-t-color-main border-r-color-main border-l-transparent border-b-transparent inline-block  animate-spin rounded-full border-[.4rem] border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white"),role:"status"})}},1064:function(e,t,r){"use strict";var a=r(7437),l=r(9259);r(2265),t.Z=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"w-max min-h-[3rem] flex items-center gap-[1rem]   text-[#fff] px-[2rem] rounded-lg  bg-color-main border-[.1rem] border-[#fff]",children:[t,(0,a.jsx)(l.Z,{size:16})]})}},5137:function(e,t,r){"use strict";var a=r(2970);class l{static async createForm(){return a.Z.post("/v1/api/form/create-form",{})}static async getAllForm(){return a.Z.get("/v1/api/form/get-all-form",{cache:"no-store"})}static async getForms(){return a.Z.get("/v1/api/form/get-forms",{cache:"no-store"})}static async getForm(e){let{form_id:t}=e;return a.Z.get("/v1/api/form/get-form-id?form_id=".concat(t),{cache:"no-store"})}static async getSearch(e){let{text:t}=e;return a.Z.get("/v1/api/form/search?text=".concat(t))}static async getFormPagination(e){let{page:t,limit:r}=e;return a.Z.get("/v1/api/form/get-form-pagination?page=".concat(t,"&limit=").concat(r))}static async getAllFormState(){return a.Z.get("/v1/api/form/get-all-form-state")}static async getFormBaseOnDate(e){let{date_begin:t,date_over:r}=e;return a.Z.get("/v1/api/form/get-form-base-on-date?date_begin=".concat(t,"&date_over=").concat(r))}static async deleteFormForever(e){let{form_id:t}=e;return a.Z.delete("/v1/api/form/delete-form-forever?form_id=".concat(t))}static async setTitleForm(e){let{form_id:t,value:r}=e;return await a.Z.post("/v1/api/form/set-title-form",{form_id:t,value:r})}static async getListFormDelete(){return a.Z.get("/v1/api/form/get-list-form-delete",{cache:"no-cache"})}static async addSubTitleItem(e){let{type:t,form_id:r}=e;return a.Z.post("/v1/api/form/add-sub-title-item",{type:t,form_id:r})}static async deleteTitleSubItem(e){let{title_sub_id:t,form_id:r}=e;return a.Z.delete("/v1/api/form/delete-sub-title-item?form_id=".concat(r,"&title_sub_id=").concat(t))}static async changeModeForm(e){let{mode:t,form_id:r}=e;return a.Z.post("/v1/api/form/change-form-mode",{mode:t,form_id:r})}static async changeModeDisplay(e){let{mode:t,form_id:r}=e;return a.Z.post("/v1/api/form/change-mode-display",{mode:t,form_id:r})}static async updateSubTitle(e){let{form_title_sub_id:t,form_title_sub_content:r,form_id:l}=e;return a.Z.post("/v1/api/form/update-sub-title-text",{form_title_sub_content:r,form_title_sub_id:t,form_id:l})}static async updateSubTitleDescription(e){let{header_value:t,value:r,title_sub_id:l,form_id:s}=e;return a.Z.post("/v1/api/form/update-sub-title-description",{header_value:t,value:r,title_sub_id:l,form_id:s})}static async setModeImageForm(e){let{form_id:t,mode:r}=e;return a.Z.post("/v1/api/form/update-form-title-mode-image",{form_id:t,mode:r})}static async uploadTitleImage(e){return a.Z.post("/v1/api/form/upload-sub-title-image",e)}static async deleteFormId(e){let{form_id:t}=e;return a.Z.delete("/v1/api/form/delete-form-id?form_id=".concat(t))}static async getFormGuess(e){let{form_id:t,options:r}=e;return a.Z.get("/v1/api/form/get-form-guess?form_id=".concat(t),r)}static async updateInputItemForm(e,t){return a.Z.post("/v1/api/form/update-form",{inputItem:e,form:t})}static async updateForm(e){return a.Z.post("/v1/api/form/update-form",{form:e})}static async uploadCover(e){return a.Z.post("/v1/api/form/upload-cover",e)}static async uploadAvatar(e){return a.Z.post("/v1/api/form/upload-avatar",e)}static async deleteAvatar(e,t){return a.Z.post("/v1/api/form/delete-avatar",{form_id:e,mode:t})}static async deleteCover(e){return a.Z.post("/v1/api/form/delete-cover",{form_id:e})}static async updateSettingInput(e,t,r){return a.Z.post("/v1/api/form/update-input-item-setting",{form:e,input_id:t,input_id_setting:r})}static async addBackground(e){return a.Z.post("/v1/api/form/add-background",{form:e})}static async addAvatar(e){return a.Z.post("/v1/api/form/add-avatar",{form:e})}static async getInfoFormNotification(e){let{form_id:t,notification_id:r}=e;return a.Z.get("/v1/api/form/info-form-notification?form_id=".concat(t,"&notification_id=").concat(r))}}t.Z=l},6067:function(e,t,r){"use strict";var a=r(2970);class l{static async addNewFormReport(e){return a.Z.post("/v1/api/form-answer/add-new-form-report",{formAnswer:e})}static async getFormAnswer(e){return a.Z.get("/v1/api/form-answer/get-form-answer?form_id=".concat(e))}static async getFormTotalView(){return a.Z.get("/v1/api/form-answer/get-form-view")}static async getTotalFormAnswer(){return a.Z.get("/v1/api/form-answer/get-total-form-answer")}static async uploadLoadFile(e){return a.Z.post("/v1/api/form-answer/upload-file-answers",e)}static async increaseViewFormAnswer(e){let{form_id:t}=e;return a.Z.post("/v1/api/form-answer/update-form-views",{form_id:t})}}t.Z=l},1488:function(e,t,r){"use strict";var a=r(2970);class l{static async getAllNotification(){return a.Z.get("/v1/api/notification/get-all-notification",{cache:"no-store"})}static async getNotificationType(e){let{type:t,page:r,limit:l}=e;return a.Z.get("/v1/api/notification/get-notification-type?type=".concat(t,"&page=").concat(r,"&limit=").concat(l),{cache:"no-store"})}static async deleteNotificationItem(e){let{notification_id:t}=e;return a.Z.delete("/v1/api/notification/delete-notification-item?notification_id=".concat(t))}}t.Z=l},9319:function(e,t,r){"use strict";var a=r(5137),l=r(3667);t.Z=e=>{let{form_id:t,active:r,notification_id:s}=e;return(0,l.a)({queryKey:["info-form-notification",t],queryFn:()=>a.Z.getInfoFormNotification({form_id:t,notification_id:s}),enabled:r})}},7300:function(e,t,r){"use strict";var a=r(3667),l=r(5137),s=r(2265);t.Z=()=>{let[e,t]=(0,s.useState)([]),r=(0,a.a)({queryKey:["get-forms"],queryFn:()=>l.Z.getForms()});return(0,s.useEffect)(()=>{if(r.isSuccess){let{forms:e}=r.data.metadata;t(e)}},[r.isSuccess,r.data]),{forms:e,pending:r.isPending,success:r.isSuccess}}},6369:function(e,t,r){"use strict";r.d(t,{G0:function(){return l},GR:function(){return n},Lw:function(){return s},uV:function(){return i}});var a=r(7874);let l=e=>{var t,r,a,l,s;let{formCore:n,mode:i}=e,m=null===(t=n.form_background)||void 0===t?void 0:t.object,o=null===(r=n.form_background)||void 0===r?void 0:r.position,c=null===(a=n.form_background)||void 0===a?void 0:a.size,d=null===(l=n.form_background)||void 0===l?void 0:l.mode_show,f=null===(s=n.form_avatar)||void 0===s?void 0:s.position;return{style_background:{objectFit:d,top:"".concat(null==o?void 0:o.top,"%"),left:"".concat(null==o?void 0:o.left,"%"),transform:"translate(".concat((null==o?void 0:o.left)||-0,"%, ").concat((null==o?void 0:o.top)||-0,"%)"),width:"".concat(null==c?void 0:c.width,"%")||0,height:"".concat((null==c?void 0:c.height)?(null==c?void 0:c.height)+"%":"100%"),objectPosition:" ".concat(null==m?void 0:m.x,"% ").concat(null==m?void 0:m.y,"%")},position_buttn:"left"===f?"right-[2rem] xl:right-[6rem]":"left-[2rem] xl:left-[6rem]"}},s=e=>{var t,r;let{formCore:a}=e,l=null===(t=a.form_avatar)||void 0===t?void 0:t.mode_shape,s=null===(r=a.form_avatar)||void 0===r?void 0:r.position,n="rounded-0",i="right-0";return"circle"===l&&(n="rounded-full"),"left"===s&&(i="left-0"),"center"===s&&(i="left-[50%] translate-x-[-50%]"),{shape:n,position:i}},n=e=>{let{dates_in_month:t,results:r}=e,l=[],s=Array(t).fill(0).map((e,t)=>t+1).map((e,t)=>{r.map(t=>{if((0,a.pP)(t.createdAt||"")===e){var r,s;if(!l.map(e=>e.date_createdAt).includes(e))return l.push({date_createdAt:e,forms:[t],match:!0,date_full:t.createdAt});let a=l.findIndex(t=>t.date_createdAt===e);if(-1!==a&&(null===(r=l[a].forms)||void 0===r?void 0:r.length)>0){null===(s=l[a].forms)||void 0===s||s.push(t);return}return l[a].forms=[t],l[a].match=!0,void(l[a].date_full=t.createdAt)}if(!l.map(e=>e.date_createdAt).includes(e))return l.push({date_createdAt:e,forms:null,match:!1})})});return{data_in_month:l,filter_form:s}},i=e=>{let{formAnswer:t,formView:r}=e,a=t/r*100;return isNaN(a)?0:a.toFixed(2)}},7874:function(e,t,r){"use strict";r.d(t,{DP:function(){return s},L5:function(){return c},PK:function(){return n},mW:function(){return a},pP:function(){return i},th:function(){return o},yu:function(){return m}});let a=e=>{let{month:t,year:r}=e;return new Date(r,t,0).getDate()},l=e=>e<=9?"0".concat(e):e.toString(),s=e=>{let{day:t,month:r,year:a}=e;return"".concat(a,"-").concat(l(r),"-").concat(l(t))},n=e=>{let{day:t,month:r,year:a}=e;return"".concat(l(t),"-").concat(l(r),"-").concat(a)},i=e=>new Date(e).getDate(),m=e=>{let{date:t,locale:r="en-EN"}=e;return new Date(t).toLocaleDateString(r,{weekday:"long"})},o=e=>{let{date_name:t}=e;switch(t){case"Sunday":default:return 0;case"Monday":return 1;case"Tuesday":return 2;case"Wednesday":return 3;case"Thursday":return 4;case"Friday":return 5;case"Saturday":return 6}},c=e=>{let{date_name:t}=e;switch(t){case"Sunday":return 6;case"Monday":return 5;case"Tuesday":return 4;case"Wednesday":return 3;case"Thursday":return 2;case"Friday":return 1;default:return 0}}}},function(e){e.O(0,[6990,7674,9154,1749,828,6176,8792,2325,3667,9489,5992,2971,8069,1744],function(){return e(e.s=6781)}),_N_E=e.O()}]);