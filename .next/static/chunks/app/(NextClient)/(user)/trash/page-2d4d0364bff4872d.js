(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6286],{2146:function(e,t,r){Promise.resolve().then(r.bind(r,8136))},7805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8306:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]])},8670:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6806:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(843).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},703:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var s=r(7447),i=r.n(s)},7447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getImageProps:function(){return o},default:function(){return c}});let s=r(6921),i=r(8630),a=r(1749),n=s._(r(536)),o=e=>{let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},c=a.Image},4431:function(e,t,r){"use strict";r.r(t),r.d(t,{SidebarContext:function(){return a}});var s=r(7437),i=r(2265);let a=(0,i.createContext)({openSidebar:!0,setOpenSidebar:()=>{}});t.default=e=>{let{children:t}=e,[r,n]=(0,i.useState)(!0);return(0,s.jsx)(a.Provider,{value:{openSidebar:r,setOpenSidebar:n},children:t})}},1529:function(e,t,r){"use strict";var s=r(7437),i=r(2265),a=r(8306),n=r(7805),o=r(8670),c=r(4431),l=r(7907),u=r(6992),m=r(4859),d=r(7956);t.Z=()=>{let{openSidebar:e,setOpenSidebar:t}=(0,i.useContext)(c.SidebarContext),r=(0,l.usePathname)();return(0,s.jsxs)("div",{className:"w-full h-[6rem] flex items-center justify-between gap-[1rem] text-[1.3rem]  text-text-theme  bg-color-section-theme",children:[(0,s.jsxs)("div",{className:"flex items-center gap-[.5rem] ",children:[!e&&(0,s.jsx)(u.Z,{Icon:(0,s.jsx)(a.Z,{}),onClick:()=>t(!0)}),(0,s.jsx)(m.Z,{}),(0,s.jsx)(n.Z,{size:16}),(0,s.jsx)("span",{className:"first-letter:uppercase text-[1.4rem] font-medium",children:r.replace("/","")})]}),(0,s.jsxs)("div",{className:"flex gap-[20px] ",children:[(0,s.jsxs)("div",{className:"p-[.2rem_.8rem] flex items-center gap-[.8rem] hover:bg-slate-200 rounded-md",title:"T\xecm kiếm",children:[(0,s.jsx)(o.Z,{className:"w-[1.6rem]"}),(0,s.jsx)("span",{children:"Search"})]}),(0,s.jsx)(d.default,{})]})]})}},8136:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var s=r(7437),i=r(2265),a=r(3667),n=r(5137),o=()=>(0,a.a)({queryKey:["get-list-form-delete"],queryFn:()=>n.Z.getListFormDelete()}),c=r(2235),l=r(9564),u=e=>{let{content:t,callbackAction:r,callbackCancel:i}=e;return(0,s.jsx)("div",{className:"fixed z-[50] inset-0 w-screen h-screen flex justify-center items-center bg-[rgba(0,0,0,.6)]",children:(0,s.jsx)("div",{className:"w-[40rem] min-h-[12rem]",children:(0,s.jsx)(l.Z,{setOpenModel:i,children:(0,s.jsxs)("div",{className:"relative w-[40rem] min-h-full h-max  bg-[#ffffff] rounded-lg text-[#000] p-[2rem] flex flex-col justify-between",children:[(0,s.jsx)("button",{onClick:()=>i(!1),className:"absolute right-[-1.5rem] top-[-1.5rem] w-[3rem] h-[3rem]  rounded-full bg-green-500 flex items-center justify-center",children:(0,s.jsx)(c.Z,{size:18,color:"white"})}),(0,s.jsx)("p",{className:"text-[1.4rem] leading-10",children:t}),(0,s.jsxs)("div",{className:"mt-[2rem] flex gap-[1rem] ml-auto text-[1.3rem]",children:[(0,s.jsx)("button",{className:"p-[1rem] h-[3rem] flex items-center justify-center bg-green-500 text-[#fff] rounded-lg",children:"Hủy bỏ"}),(0,s.jsx)("button",{onClick:r,className:"p-[1rem] h-[3rem] flex items-center justify-center hover:bg-red-500 hover:text-[#fff] text-red-400 rounded-lg",children:"Vẫn x\xf3a"})]})]})})})})},m=r(7796),d=r(7082),f=r(568),h=r(828),p=()=>{(0,h.I0)();let e=(0,d.NL)();return(0,f.D)({mutationKey:["delete-form-forever"],mutationFn:e=>{let{form_id:t}=e;return n.Z.deleteFormForever({form_id:t})},onSuccess:()=>{e.invalidateQueries({queryKey:["get-list-form-delete"]})}})};/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,r(843).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var x=r(6806),v=e=>{let{form:t}=e,r=(0,m.Z)(),a=p(),[n,o]=(0,i.useState)(!1),c=(0,d.NL)(),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isPrivate";r.mutate({mode:e,form_id:t._id})};return(0,i.useEffect)(()=>{r.isSuccess&&(c.invalidateQueries({queryKey:["get-list-form-delete"]}),c.invalidateQueries({queryKey:["get-form-pagination"]}))},[r.isSuccess]),(0,i.useEffect)(()=>{a.isSuccess&&(c.invalidateQueries({queryKey:["get-list-form-delete"]}),c.invalidateQueries({queryKey:["get-all-notification"]}),o(!1))},[a.isSuccess]),(0,s.jsxs)("div",{className:"min-h-[14rem] w-full xl:w-[49.2%] p-[2rem] flex flex-col justify-between text-[1.2rem] gap-[2rem] bg-red-400 rounded-lg text-[#fff]",children:[(0,s.jsx)("p",{className:"text-[1.4rem]",children:t.form_title.form_title_value.toUpperCase()||"Kh\xf4ng c\xf3 ti\xeau đề"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("button",{disabled:r.isPending,className:"flex h-[3rem] px-[1rem] rounded-lg  items-center gap-[1rem] border-[.1rem] border-red-200 bg-[#ffffff] text-red-400 hover:bg-red-50",onClick:()=>l(),children:[(0,s.jsx)(g,{size:18}),(0,s.jsx)("span",{children:"Kh\xf4i phục"})]}),(0,s.jsxs)("button",{className:"flex h-[3rem] items-center gap-[1rem] hover:text-red-200",onClick:()=>o(!0),disabled:a.isPending,children:[(0,s.jsx)(x.Z,{size:18}),(0,s.jsx)("span",{children:"X\xf3a vĩnh viễn"})]})]}),n&&(0,s.jsx)(u,{content:"Bạn chắc chắn sẽ x\xf3a chứ, mọi dữ liệu sau khi x\xf3a sẽ kh\xf4ng thể phục hồi",callbackCancel:o,callbackAction:()=>{a.mutate({form_id:t._id})}})]})},y=r(8203),b=r(703),j=()=>(0,s.jsxs)("div",{className:"w-full min-h-[48rem] xl:min-h-[60rem] h-full flex flex-col items-center justify-center gap-[4rem]",children:[(0,s.jsx)(b.default,{src:"/assets/images/icon/form/form_delete_empty.png",width:200,height:200,alt:"logo",className:"w-[20rem] h-[20rem]"}),(0,s.jsx)("p",{className:"text-[2rem] text-text-theme",children:"Danh s\xe1ch x\xf3a hiện đang trống"})]}),Z=()=>{let e=o();return(0,s.jsxs)("div",{className:"flex h-full flex-wrap gap-[1.4rem] ",children:[e.isSuccess&&e.data.metadata.forms.length>0&&e.data.metadata.forms.map(e=>(0,s.jsx)(v,{form:e},e._id)),e.isSuccess&&0===e.data.metadata.forms.length&&(0,s.jsx)(j,{}),e.isPending&&(0,s.jsx)("div",{className:"w-full min-h-[30rem]",children:(0,s.jsx)(y.Z,{})})]})},_=r(1529),N=()=>(0,s.jsxs)("div",{className:"w-full min-h-screen flex flex-col p-[.8rem_0rem_0rem_0rem] gap-[2rem] bg-color-section-theme",children:[(0,s.jsx)(_.Z,{}),(0,s.jsxs)("div",{className:"flex-1 min-h-[60rem] h-full text-text-theme bg-[var(--bg-space)] p-[0rem_2.6rem_2rem_2.6rem] rounded-[1.2rem_1.2rem_0_0]",children:[(0,s.jsx)("h3",{className:"my-[2.2rem] !text-[2.8rem]",children:"C\xe1c form đang ở chế độ Delete"}),(0,s.jsx)("div",{className:"w-full bg-[var(--color-section-theme)] p-[2.8rem] rounded-[1.2rem_1.2rem_0_0]",children:(0,s.jsx)(Z,{})})]})]})},9564:function(e,t,r){"use strict";var s=r(7437),i=r(2265);t.Z=e=>{let{children:t,width:r,height:a,setOpenModel:n}=e,o=(0,i.useRef)(null),c=(0,i.useCallback)(e=>{o.current&&!o.current.contains(e.target)&&n(!1)},[n]);return(0,i.useEffect)(()=>(document.addEventListener("click",c),()=>{document.removeEventListener("click",c),o.current=null}),[c]),(0,s.jsx)("div",{ref:o,className:"".concat(r||""," ").concat(a||""),children:t})}},4859:function(e,t,r){"use strict";var s=r(7437),i=r(2265),a=r(8085),n=r(703),o=r(8792);t.Z=()=>{let{theme:e}=(0,i.useContext)(a.ThemeContext);return(0,s.jsx)(o.default,{href:"/dashboard",className:"  p-[.6rem] rounded-xl",children:(0,s.jsx)(n.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-[4rem] object-contain",unoptimized:!0})})}},8085:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeContext:function(){return a}});var s=r(7437),i=r(2265);let a=(0,i.createContext)({theme:"dark",setTheme:()=>{}});t.default=e=>{let{children:t}=e,[r,n]=(0,i.useState)("light");return(0,i.useEffect)(()=>{if("dark"===r){document.body.classList.remove("light"),document.body.classList.add("dark");return}return document.body.classList.add("light"),document.body.classList.remove("dark"),()=>{}},[r]),(0,s.jsx)(a.Provider,{value:{theme:r,setTheme:n},children:t})}},6715:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{children:t,...r}=e;return(0,s.jsx)("div",{...r,children:t})}},7956:function(e,t,r){"use strict";r.r(t);var s=r(7437),i=r(2265),a=r(8085),n=r(703);t.default=()=>{let{theme:e,setTheme:t}=(0,i.useContext)(a.ThemeContext);return(0,s.jsxs)("button",{onClick:()=>{t(e=>"dark"===e?"light":"dark")},className:"relative text-text-theme min-w-[4rem] bg-[#fff] w-[6rem] h-[3rem] rounded-full",children:[(0,s.jsx)("div",{className:"".concat("light"===e?"animate-rtl bg-[#fff]":" animate-ltr bg-[#fff]"," w-[2.2rem] h-[2.2rem] rounded-full absolute top-[50%] translate-y-[-50%]  ")}),"light"===e?(0,s.jsx)(n.default,{src:"/assets/images/icon/theme/bg_dark.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full object-cover",unoptimized:!0}):(0,s.jsx)(n.default,{src:"/assets/images/icon/theme/bg_light.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full",unoptimized:!0})]})}},6992:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{textContent:t,Icon:r,...i}=e;return(0,s.jsxs)("button",{...i,className:"".concat(i.className||""," min-w-[3rem] min-h-[3rem] w-max h-max flex justify-center items-center gap-[.5rem] "),children:[t&&t,r]})}},8203:function(e,t,r){"use strict";var s=r(7437);r(2265);var i=r(6715);t.Z=()=>(0,s.jsx)(i.Z,{className:"w-full h-full animate-pulse bg-gray-200"})},5137:function(e,t,r){"use strict";var s=r(2970);class i{static async createForm(){return s.Z.post("/v1/api/form/create-form",{})}static async getAllForm(){return s.Z.get("/v1/api/form/get-all-form",{cache:"no-store"})}static async getForms(){return s.Z.get("/v1/api/form/get-forms",{cache:"no-store"})}static async getForm(e){let{form_id:t}=e;return s.Z.get("/v1/api/form/get-form-id?form_id=".concat(t),{cache:"no-store"})}static async getSearch(e){let{text:t}=e;return s.Z.get("/v1/api/form/search?text=".concat(t))}static async getFormPagination(e){let{page:t,limit:r}=e;return s.Z.get("/v1/api/form/get-form-pagination?page=".concat(t,"&limit=").concat(r))}static async getAllFormState(){return s.Z.get("/v1/api/form/get-all-form-state")}static async getFormBaseOnDate(e){let{date_begin:t,date_over:r}=e;return s.Z.get("/v1/api/form/get-form-base-on-date?date_begin=".concat(t,"&date_over=").concat(r))}static async deleteFormForever(e){let{form_id:t}=e;return s.Z.delete("/v1/api/form/delete-form-forever?form_id=".concat(t))}static async setTitleForm(e){let{form_id:t,value:r}=e;return await s.Z.post("/v1/api/form/set-title-form",{form_id:t,value:r})}static async getListFormDelete(){return s.Z.get("/v1/api/form/get-list-form-delete",{cache:"no-cache"})}static async addSubTitleItem(e){let{type:t,form_id:r}=e;return s.Z.post("/v1/api/form/add-sub-title-item",{type:t,form_id:r})}static async deleteTitleSubItem(e){let{title_sub_id:t,form_id:r}=e;return s.Z.delete("/v1/api/form/delete-sub-title-item?form_id=".concat(r,"&title_sub_id=").concat(t))}static async changeModeForm(e){let{mode:t,form_id:r}=e;return s.Z.post("/v1/api/form/change-form-mode",{mode:t,form_id:r})}static async changeModeDisplay(e){let{mode:t,form_id:r}=e;return s.Z.post("/v1/api/form/change-mode-display",{mode:t,form_id:r})}static async updateSubTitle(e){let{form_title_sub_id:t,form_title_sub_content:r,form_id:i}=e;return s.Z.post("/v1/api/form/update-sub-title-text",{form_title_sub_content:r,form_title_sub_id:t,form_id:i})}static async updateSubTitleDescription(e){let{header_value:t,value:r,title_sub_id:i,form_id:a}=e;return s.Z.post("/v1/api/form/update-sub-title-description",{header_value:t,value:r,title_sub_id:i,form_id:a})}static async setModeImageForm(e){let{form_id:t,mode:r}=e;return s.Z.post("/v1/api/form/update-form-title-mode-image",{form_id:t,mode:r})}static async uploadTitleImage(e){return s.Z.post("/v1/api/form/upload-sub-title-image",e)}static async deleteFormId(e){let{form_id:t}=e;return s.Z.delete("/v1/api/form/delete-form-id?form_id=".concat(t))}static async getFormGuess(e){let{form_id:t,options:r}=e;return s.Z.get("/v1/api/form/get-form-guess?form_id=".concat(t),r)}static async updateInputItemForm(e,t){return s.Z.post("/v1/api/form/update-form",{inputItem:e,form:t})}static async updateForm(e){return s.Z.post("/v1/api/form/update-form",{form:e})}static async uploadCover(e){return s.Z.post("/v1/api/form/upload-cover",e)}static async uploadAvatar(e){return s.Z.post("/v1/api/form/upload-avatar",e)}static async deleteAvatar(e,t){return s.Z.post("/v1/api/form/delete-avatar",{form_id:e,mode:t})}static async deleteCover(e){return s.Z.post("/v1/api/form/delete-cover",{form_id:e})}static async updateSettingInput(e,t,r){return s.Z.post("/v1/api/form/update-input-item-setting",{form:e,input_id:t,input_id_setting:r})}static async addBackground(e){return s.Z.post("/v1/api/form/add-background",{form:e})}static async addAvatar(e){return s.Z.post("/v1/api/form/add-avatar",{form:e})}static async getInfoFormNotification(e){let{form_id:t,notification_id:r}=e;return s.Z.get("/v1/api/form/info-form-notification?form_id=".concat(t,"&notification_id=").concat(r))}}t.Z=i},7796:function(e,t,r){"use strict";var s=r(7082),i=r(568),a=r(5137),n=r(828),o=r(5292);t.Z=()=>{let e=(0,n.I0)(),t=(0,s.NL)();return(0,i.D)({mutationKey:["change-form-mode"],mutationFn:e=>{let{mode:t,form_id:r}=e;return a.Z.changeModeForm({mode:t,form_id:r})},onSuccess:r=>{let{form:s}=r.metadata;e((0,o.ow)({form:s})),t.invalidateQueries({queryKey:["get-form-pagination"]}),t.invalidateQueries({queryKey:["get-forms"]})}})}},568:function(e,t,r){"use strict";r.d(t,{D:function(){return m}});var s=r(2265),i=r(1793),a=r(5139),n=r(4614),o=r(6063),c=class extends n.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},l=r(7082),u=r(826);function m(e,t){let r=(0,l.NL)(t),[i]=s.useState(()=>new c(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let n=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(a.V.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=s.useCallback((e,t)=>{i.mutate(e,t).catch(u.Z)},[i]);if(n.error&&(0,u.L)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}}},function(e){e.O(0,[6990,9154,1749,828,6176,8792,2325,3667,5992,2971,8069,1744],function(){return e(e.s=2146)}),_N_E=e.O()}]);