"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8385],{5108:function(e,t,r){r.d(t,{Z:function(){return v}});var l=r(7437),s=r(8670),i=r(2265),n=r(5137),a=r(3667),m=e=>{let{enabled:t,text:r}=e;return(0,a.a)({queryKey:["search",r],queryFn:()=>n.Z.getSearch({text:r}),enabled:t})},o=r(703),c=r(8792),d=e=>{var t;let{form:r}=e;return(0,l.jsxs)(c.default,{href:"/form/".concat(r._id,"/share"),className:" hover:bg-color-main text-[#0bceb2] hover:text-[#fff]  p-[1rem]  w-full min-h-[3rem]  max-h-[5.6rem] flex items-center gap-[1rem]",children:[(0,l.jsx)(o.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-full object-contain",unoptimized:!0}),(0,l.jsx)("p",{className:"w-[90%] truncate font-bold text-[1.6rem]",children:null==r?void 0:null===(t=r.form_title)||void 0===t?void 0:t.form_title_value})]})},u=e=>{var t,r,s,i,n,a;let{search:o}=e,c=m({enabled:!!o,text:o});return(0,l.jsxs)("div",{className:"min-w-[30rem] w-full bg-[#fff] min-h-full h-full max-h-max",children:[null==c?void 0:null===(s=c.data)||void 0===s?void 0:null===(r=s.metadata)||void 0===r?void 0:null===(t=r.forms)||void 0===t?void 0:t.map(e=>(0,l.jsx)(d,{form:e},e._id)),(null==c?void 0:null===(a=c.data)||void 0===a?void 0:null===(n=a.metadata)||void 0===n?void 0:null===(i=n.forms)||void 0===i?void 0:i.length)===0&&(0,l.jsx)("div",{className:"min-w-full min-h-[4rem] flex items-center px-[1rem]",children:"Kh\xf4ng t\xecm thấy kh\xf4ng tin"}),!o&&(0,l.jsx)("div",{className:"min-w-full min-h-[4rem] flex items-center px-[1rem]",children:"H\xe3y nhập t\xean Form bạn muốn t\xecm kiếm"})]})},f=r(7281),x=r(9564),h=r(828),g=r(5292),v=()=>{let[e,t]=(0,i.useState)(""),[r]=(0,f.c)(e,200),n=(0,h.I0)(),a=(0,h.v9)(e=>e.form.focus_search),[m,o]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!m){n((0,g.vx)({focus:m}));return}n((0,g.vx)({focus:m}))},[m]),(0,l.jsxs)("div",{className:"relative p-[.2rem_1rem] xl:min-w-[30rem] h-[3.2rem]  rounded-lg focus-within:border-[.1rem] focus-within:border-color-main border-[.1rem] border-color-main flex items-center gap-[.8rem]   ",children:[(0,l.jsx)(s.Z,{className:"w-[1.6rem] text-text-theme"}),(0,l.jsx)("input",{className:" min-h-full w-[95%] bg-transparent text-text-theme",placeholder:"T\xecm kiếm",value:e,autoFocus:m,onClick:()=>o(e=>!e),onChange:e=>t(e.target.value)}),(m||a)&&(0,l.jsx)(x.Z,{setOpenModel:o,children:(0,l.jsx)("div",{className:"absolute bottom-[0rem] translate-y-[100%] left-0 min-w-full w-max right-0 min-h-[2rem] xl:min-h-[4rem] max-h-[24rem] scroll-color-main  bg-[#fff] border-[.1rem] border-gray-300 rounded-lg h-max",children:(0,l.jsx)(u,{search:r})})})]})}},4859:function(e,t,r){var l=r(7437),s=r(2265),i=r(8085),n=r(703),a=r(8792);t.Z=()=>{let{theme:e}=(0,s.useContext)(i.ThemeContext);return(0,l.jsx)(a.default,{href:"/dashboard",className:"  p-[.6rem] rounded-xl",children:(0,l.jsx)(n.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-[4rem] object-contain",unoptimized:!0})})}},3494:function(e,t,r){r.d(t,{$:function(){return i}});var l=r(7437),s=r(2265);let i=(0,s.createContext)({modeScreen:"NORMAL",setModeScreen:()=>{}});t.Z=e=>{let{children:t}=e,[r,n]=(0,s.useState)("NORMAL");return(0,l.jsx)(i.Provider,{value:{modeScreen:r,setModeScreen:n},children:t})}},8654:function(e,t,r){var l=r(7437);r(2265),t.Z=e=>{let{textContent:t,children:r,...s}=e;return(0,l.jsxs)("p",{...s,children:[t," ",r]})}},7956:function(e,t,r){r.r(t);var l=r(7437),s=r(2265),i=r(8085),n=r(703);t.default=()=>{let{theme:e,setTheme:t}=(0,s.useContext)(i.ThemeContext);return(0,l.jsxs)("button",{onClick:()=>{t(e=>"dark"===e?"light":"dark")},className:"relative text-text-theme min-w-[4rem] bg-[#fff] w-[6rem] h-[3rem] rounded-full",children:[(0,l.jsx)("div",{className:"".concat("light"===e?"animate-rtl bg-[#fff]":" animate-ltr bg-[#fff]"," w-[2.2rem] h-[2.2rem] rounded-full absolute top-[50%] translate-y-[-50%]  ")}),"light"===e?(0,l.jsx)(n.default,{src:"/assets/images/icon/theme/bg_dark.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full object-cover",unoptimized:!0}):(0,l.jsx)(n.default,{src:"/assets/images/icon/theme/bg_light.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full",unoptimized:!0})]})}},8385:function(e,t,r){r.d(t,{Z:function(){return _}});var l=r(7437),s=r(2265),i=r(8306),n=r(7805),a=r(9910),m=r(828),o=r(3494),c=r(4431),d=r(7907),u=r(8792),f=r(6992),x=r(8654),h=r(6715),g=r(4184),v=e=>{let{checked:t,color:r,value:s,...i}=e,n={onActiveRequireWrapper:()=>t?"bg-blue-400":"bg-slate-300",onActiveRequireCircle:()=>t?"right-0":" left-0"};return(0,l.jsxs)("button",{...i,className:"w-full flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:s}),(0,l.jsx)(h.Z,{className:"".concat(n.onActiveRequireWrapper()," relative  w-[4rem] h-[2.4rem] flex items-center justify-center transition-all rounded-3xl  hover:cursor-pointer"),children:(0,l.jsx)(h.Z,{className:"".concat(n.onActiveRequireCircle()," absolute bg-[#ffffff] w-[2rem]  transition-all  aspect-square rounded-full ")})})]})},j=r(7796),b=r(7082),p=()=>{let e=(0,m.v9)(e=>e.form.formCoreOriginal),t=(0,m.v9)(e=>e.form.colorCore),[r,i]=(0,s.useState)(e.form_state),n=(0,j.Z)(),a=(0,d.useRouter)(),o=(0,b.NL)(),c=t=>{n.mutate({mode:t,form_id:e._id})};return(0,s.useEffect)(()=>{n.isSuccess&&"isDelete"===r&&(o.invalidateQueries({queryKey:["get-forms"]}),a.push("/dashboard"))},[n.isSuccess,r]),(0,l.jsxs)("div",{style:{color:"#000"},className:"min-w-[18rem] min-h-[8rem] p-[1rem_2rem] flex flex-col gap-[1rem] border-[.1rem] border-gray-100 bg-[#ffffff] rounded-2xl text-[1.4rem] font-medium shadow-lg",children:[(0,l.jsx)(v,{disabled:n.isPending,value:"C\xf4ng khai",color:t,checked:"isPublic"===r,onClick:()=>{i("isPublic"),c("isPublic")}}),(0,l.jsx)(v,{disabled:n.isPending,value:"Ri\xeang tư",color:t,checked:"isPrivate"===r,onClick:()=>{i("isPrivate"),c("isPrivate")}}),(0,l.jsx)(v,{disabled:n.isPending,value:"X\xf3a",color:t,checked:"isDelete"===r,onClick:()=>{i("isDelete"),c("isDelete")}})]})},N=r(9564),w=r(7956),C=r(8085),Z=r(4859),k=r(5108);let y=e=>{let t="";return"isPublic"===e&&(t="C\xf4ng khai"),"isPrivate"===e&&(t="Ri\xeang tư"),"isDelete"===e&&(t="X\xf3a"),t};var _=e=>{let{showHeaderAction:t}=e,{openSidebar:r,setOpenSidebar:v}=(0,s.useContext)(c.SidebarContext),{modeScreen:j,setModeScreen:b}=(0,s.useContext)(o.$),{theme:_}=(0,s.useContext)(C.ThemeContext),[L,P]=(0,s.useState)(!1),q=(0,d.usePathname)(),S=(0,m.v9)(e=>e.form.formCoreOriginal),R=y(S.form_state);if("FULL"===j)return null;let z=q.endsWith("/edit")?"top-0":"";return(0,l.jsxs)(h.Z,{className:"".concat(z,"    bg-color-section-theme sticky top-0  left-[28rem] right-[3rem] z-[101]  h-[8rem] w-auto  flex items-center justify-between gap-[1rem]  px-[1rem] text-[1.3rem]"),children:[(0,l.jsxs)(h.Z,{className:"flex h-[3.6rem]  items-center   text-textHeader ",children:[!r&&(0,l.jsx)(f.Z,{Icon:(0,l.jsx)(i.Z,{}),onClick:()=>v(!0)}),(0,l.jsx)(Z.Z,{}),(0,l.jsxs)(h.Z,{className:"h-full hidden xl:flex  items-center  ",children:[(0,l.jsx)(f.Z,{Icon:(0,l.jsx)(n.Z,{size:16})}),(0,l.jsx)(x.Z,{className:"hidden sm:block text-[1.5rem] font-bold p-[.6rem] rounded-lg text-text-theme",textContent:"Nơi l\xe0m việc"})]}),(0,l.jsxs)(h.Z,{className:"h-full flex  items-center gap-[.1rem] ",children:[(0,l.jsx)(f.Z,{Icon:(0,l.jsx)(n.Z,{size:16}),className:"hidden xl:inline"}),(0,l.jsx)(x.Z,{className:"".concat(({onCheckLengthTitle:()=>(null==S?void 0:S.form_title)?"w-max max-w-[9rem] xl:max-w-[20rem]":"w-max"}).onCheckLengthTitle()," truncate text-[1.5rem] font-bold p-[.6rem] rounded-lg text-text-theme "),textContent:(null==S?void 0:S.form_title.form_title_value)||"Kh\xf4ng ti\xeau đề"})]})]}),(0,l.jsx)("div",{className:"ml-auto mr-[5rem] hidden sm:block",children:(0,l.jsx)(k.Z,{})}),(0,l.jsx)("div",{className:"flex items-center justify-end gap-[2rem]",children:t&&(0,l.jsxs)(h.Z,{className:"flex items-center gap-[1rem]",children:[(0,l.jsx)(h.Z,{className:" flex items-center justify-center ",title:"Review",children:(0,l.jsx)(g.Z,{textContent:"Xem trước  ",className:"p-[.8rem] rounded-md text-text-theme",onClick:()=>{if("FULL"===j)return b("NORMAL");b("FULL"),v(!1)}})}),(0,l.jsxs)(h.Z,{className:"relative  z-[103] xl:z-[105]  flex items-center justify-center ",title:R,children:[(0,l.jsx)(g.Z,{textContent:R,className:" p-[.8rem] rounded-md bg-color-main text-white",onClick:()=>P(e=>!e)}),L&&(0,l.jsx)("div",{className:"absolute z-[105] h-max min-w-full w-max top-[120%] right-0",children:(0,l.jsx)(N.Z,{setOpenModel:P,children:(0,l.jsx)(p,{})})})]}),(0,l.jsx)(u.default,{href:"/settings",className:"p-[.2rem_.8rem] hidden xl:flex items-center gap-[.8rem] text-text-theme rounded-md",title:"C\xe0i đặt",children:(0,l.jsx)(a.Z,{className:"w-[1.6rem]"})}),(0,l.jsx)(w.default,{})]})})]})}},7796:function(e,t,r){var l=r(7082),s=r(568),i=r(5137),n=r(828),a=r(5292);t.Z=()=>{let e=(0,n.I0)(),t=(0,l.NL)();return(0,s.D)({mutationKey:["change-form-mode"],mutationFn:e=>{let{mode:t,form_id:r}=e;return i.Z.changeModeForm({mode:t,form_id:r})},onSuccess:r=>{let{form:l}=r.metadata;e((0,a.ow)({form:l})),t.invalidateQueries({queryKey:["get-form-pagination"]}),t.invalidateQueries({queryKey:["get-forms"]})}})}}}]);