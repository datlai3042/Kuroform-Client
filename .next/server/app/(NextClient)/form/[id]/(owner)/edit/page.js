(()=>{var e={};e.id=47,e.ids=[47],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},45699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>d,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>m});var n=r(50482),l=r(69108),o=r(62563),s=r.n(o),i=r(68300),a={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>i[e]);r.d(t,a);let m=["",{children:["(NextClient)",{children:["form",{children:["[id]",{children:["(owner)",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,91670)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\form\\[id]\\(owner)\\edit\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,29247)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\form\\[id]\\(owner)\\edit\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,45900)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\form\\[id]\\(owner)\\layout.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4899)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,13929)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,48206)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\form\\[id]\\(owner)\\edit\\page.tsx"],u="/(NextClient)/form/[id]/(owner)/edit/page",d={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(NextClient)/form/[id]/(owner)/edit/page",pathname:"/form/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},14422:(e,t,r)=>{Promise.resolve().then(r.bind(r,18992))},14572:(e,t,r)=>{Promise.resolve().then(r.bind(r,31031))},51838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(73098).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},74507:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(73098).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},22856:(e,t,r)=>{"use strict";r.d(t,{D:()=>d,Z:()=>f});var n=r(95344),l=r(3729),o=r(36013),s=r(41197),i=r(14513),a=r(10142);let m=e=>{let{content:t,content_action:r,content_cancel:l,callbackAction:o,callbackCancel:s}=e;return n.jsx("div",{className:"fixed z-[500] inset-0 w-screen h-screen flex justify-center items-center bg-[rgba(0,0,0,.6)]",children:n.jsx("div",{className:"min-w-[30rem] min-h-[8rem]",children:n.jsx(a.Z,{setOpenModel:s,children:(0,n.jsxs)("div",{className:"relative min-w-[30rem] min-h-full h-max  bg-[#ffffff] rounded-lg text-[#000] p-[2rem] flex flex-col justify-between",children:[n.jsx("button",{onClick:()=>s(!1),className:"absolute right-[-1.5rem] top-[-1.5rem] w-[3rem] h-[3rem]  rounded-full bg-green-500 flex items-center justify-center",children:n.jsx(i.Z,{size:18,color:"white"})}),n.jsx("p",{className:"text-[1.4rem] text-justify leading-10",children:t}),n.jsx("div",{className:"mt-[2rem] flex gap-[1rem] ml-auto text-[1.3rem]",children:n.jsx("button",{onClick:o,className:"p-[1rem] h-[3rem] flex items-center justify-center bg-green-500 text-[#fff] rounded-lg",children:r})})]})})})})};var c=r(42843);let u=()=>{let{isDesignForm:e,setOpenFormDesign:t,setIsDesginForm:r,setOpenModelNotSave:i}=(0,l.useContext)(d),a=(0,o.v9)(e=>e.form.formCoreBackUp),u=(0,o.v9)(e=>e.form.formCoreOriginal),f=(0,o.I0)(),x=(0,c.Z)();return n.jsx(m,{content:"Bạn chưa lưu c\xe1c thay đổi của m\xecnh",content_action:"Lưu",content_cancel:"Kh\xf4ng lưu",callbackCancel:()=>{f((0,s.ow)({form:a})),t(!1),r(!1),i(!1)},callbackAction:()=>{x.mutate(u),t(!1),r(!1),i(!1)}})},d=(0,l.createContext)({isDesignForm:!1,openFormDesign:!1,openModelNotSave:!1,openDesignTitle:!1,setIsDesginForm:()=>{},setOpenFormDesign:()=>{},setOpenModelNotSave:()=>{},setOpenDesignTitle:()=>{}}),f=e=>{let{children:t}=e,[r,o]=(0,l.useState)(!1),[s,i]=(0,l.useState)(!1),[a,m]=(0,l.useState)(!1),[c,f]=(0,l.useState)(!1);return(0,n.jsxs)(d.Provider,{value:{isDesignForm:r,setIsDesginForm:o,openFormDesign:s,setOpenFormDesign:i,openModelNotSave:a,setOpenModelNotSave:m,openDesignTitle:c,setOpenDesignTitle:f},children:[a&&n.jsx(u,{}),t]})}},7430:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(95344);r(3729);let l=e=>{let{onClose:t}=e;return n.jsx("button",{className:"w-[3rem] h-[3rem] xl:w-[4rem] xl:h-[4rem] bg-[#ffffff] flex items-center justify-center rounded-full shadow text-[12px] text-color-main font-semibold",onClick:()=>t(!1),children:"X"})}},18992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(95344),l=r(22856),o=r(45356);r(3729);let s=({children:e})=>n.jsx(l.Z,{children:n.jsx(o.Z,{children:e})})},31031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>r1});var n=r(95344),l=r(3729),o=r.n(l),s=r(17090),i=r(94433),a=r(22856),m=r(45356),c=r(80751),u=r(14899),d=r(32642),f=r(85473),x=r(41197),p=r(47612);class h{static async addInputSetTitle(e,t){return p.Z.post("/v1/api/form/add-input-to-title",{form:e,title:t})}static async addInput({form_id:e}){return p.Z.post("/v1/api/form/add-input",{form_id:e})}static async removeInputItem({form_id:e,input_id:t}){return p.Z.post("/v1/api/form/delete-input-item",{form_id:e,input_id:t})}static async setTitleInput({input_title_value:e,input_id:t,form:r}){return p.Z.post("/v1/api/form/update-title-input",{input_title_value:e,input_id:t,form:r})}static async addInputToEnter({form:e,input_id_target:t,setting:r}){return p.Z.post("/v1/api/form/add-input-to-enter",{form:e,input_id_target:t,setting:r})}static async changeTypeInput({form:e,inputItem:t,type:r}){return p.Z.post("/v1/api/form/change-input-type",{form:e,inputItem:t,type:r})}static async addOption({form:e,option_id:t,option_value:r,inputItem:n}){return p.Z.post("v1/api/form/add-option-value",{form:e,option_id:t,option_value:r,inputItem:n})}static async updatePostionOption({form:e,inputItem:t,coreOption:r}){return p.Z.post("v1/api/form/update-position-option",{form:e,inputItem:t,coreOption:r})}static async deleteOption({form_id:e,inputItem_id:t,option_id:r}){return p.Z.delete(`v1/api/form/delete-option-id?form_id=${e}&inputItem_id=${t}&option_id=${r}`)}}var g=r(26274),_=r(31296),b=r(36013);let j=()=>{let e=(0,b.I0)(),t=(0,g.NL)();return(0,_.D)({mutationKey:["add-input-form"],mutationFn:({form:e,title:t})=>h.addInputSetTitle(e,t),onSuccess:r=>{let{form:n}=r.metadata;e((0,x.ow)({form:n})),t.invalidateQueries({queryKey:["get-forms"]})}})};var v=r(87838);let y=()=>{let e=(0,b.I0)(),t=(0,g.NL)();return(0,_.D)({mutationKey:["set-title-form"],mutationFn:({form_id:e,value:t})=>v.Z.setTitleForm({form_id:e,value:t}),onSuccess:r=>{let{form:n}=r.metadata;e((0,x.ow)({form:n})),t.invalidateQueries({queryKey:["get-forms"]})}})};var C=r(73098);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,C.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var w=r(20016),k=r(10142);let I=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.I0)(),[r,o]=(0,l.useState)(!1),s=(0,_.D)({mutationKey:["change-mode-image-title"],mutationFn:({form_id:e,mode:t})=>v.Z.setModeImageForm({form_id:e,mode:t}),onSuccess:e=>{let{form:r}=e.metadata;t((0,x.ow)({form:r})),o(!1)}}),i=t=>{s.mutate({form_id:e._id,mode:t})},a={onActive:e=>e?"bg-blue-500 text-white":"hover:bg-blue-300 hover:text-white"},m=e.form_title.form_title_mode_image;return n.jsx(k.Z,{setOpenModel:o,children:(0,n.jsxs)("div",{className:"cursor-pointer relative w-[22rem] min-h-[4rem]  px-[2rem] flex items-center btn-primarily rounded-lg text-[#fff]",onClick:()=>o(e=>!e),children:[n.jsx("span",{children:f.R.title.optionImageMode.label}),r&&(0,n.jsxs)("ul",{className:"absolute  bottom-[-1rem] w-full rounded-lg translate-y-[100%] left-0 z-[50] flex flex-col  bg-[#fff] text-[#000] border-[.1rem] border-slate-300",onClick:e=>e.stopPropagation(),children:[n.jsx("li",{onClick:()=>i("Normal"),className:`${a.onActive("Normal"===m)} p-[1rem]  cursor-pointer`,children:f.R.title.optionImageMode.mode_1}),n.jsx("li",{onClick:()=>i("Slider"),className:`${a.onActive("Slider"===m)} p-[1rem]  cursor-pointer`,children:n.jsx("span",{children:f.R.title.optionImageMode.mode_2})})]})]})})},Z=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["update-title-sub"],mutationFn:({type:e,form_id:t})=>v.Z.addSubTitleItem({type:e,form_id:t}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},S=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=Z(),r=r=>{t.mutate({type:r,form_id:e._id})};return(0,n.jsxs)("div",{className:" w-full min-h-[4rem] h-max p-[1rem_0rem] flex flex-wrap gap-[3rem]",children:[(0,n.jsxs)("button",{onClick:()=>r("Text"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] p-[.6rem] text-[#fff] rounded-lg",children:[n.jsx(N,{size:16}),n.jsx("span",{children:f.R.title.optionText.message})]}),(0,n.jsxs)("button",{onClick:()=>r("FullDescription"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] text-[#fff]  rounded-lg",children:[n.jsx(N,{size:16}),n.jsx("span",{children:f.R.title.optionFullDescription.message})]}),(0,n.jsxs)("button",{onClick:()=>r("Image"),className:"btn-primarily min-w-[12rem] h-[3.2rem] flex items-center gap-[1rem] text-[#fff]  rounded-lg",children:[n.jsx(w.Z,{size:16}),n.jsx("span",{children:f.R.title.optionImage.message})]}),e.form_title.form_title_sub.filter(e=>"Image"===e.type&&e?.core?.url).length>0&&n.jsx(I,{})]})},O=(0,C.Z)("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),T=e=>{let{textContent:t=f.R.title.addOptionTitle,...r}=e;return(0,b.v9)(e=>e.form.formCoreOriginal),(0,n.jsxs)("button",{...r,className:` ${r.className||""} btn-primarily  rounded-lg font-bold text-[#fff]   w-max  h-[4rem]  flex items-center sm:justify-center gap-[.5rem]  outline-none`,children:[n.jsx(O,{}),t]})};var E=r(23855),M=r(42843),D=r(27229),L=r(24395);let P=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["delete-title-sub-item"],mutationFn:({form_id:e,title_sub_id:t})=>v.Z.deleteTitleSubItem({form_id:e,title_sub_id:t}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},R=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["set-value-title-sub-description"],mutationFn:({header_value:e,value:t,title_sub_id:r,form_id:n})=>v.Z.updateSubTitleDescription({header_value:e,value:t,title_sub_id:r,form_id:n}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})};var $=r(72043),A=r(38271);let z=e=>{let{subTitleItem:t}=e,[r,o]=(0,l.useState)({header_value:t?.core?.header_value||"",value:t?.core?.value||""}),{attributes:s,listeners:i,setNodeRef:a,transform:m,transition:c}=(0,L.nB)({id:t._id}),u=(0,b.v9)(e=>e.form.formCoreOriginal),d=R(),f=e=>{"Enter"===e.key&&e.preventDefault()},x=(e,n)=>{let l=e.currentTarget.textContent;l&&(o(e=>"Header"===n?{...e,header_value:l}:{...e,value:l}),"Header"===n&&d.mutate({header_value:l,value:r.value,title_sub_id:t._id,form_id:u._id}),"Value"===n&&d.mutate({header_value:r.header_value,value:l,title_sub_id:t._id,form_id:u._id}))},p=P(),h={transition:c,transform:$.ux.Transform.toString(m)};return(0,n.jsxs)("div",{className:"flex flex-col gap-[.4rem] outline-none ",ref:a,...s,...i,style:h,children:[(0,n.jsxs)("button",{tabIndex:-1,className:"flex items-center gap-[.5rem] text-[1.4rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{p.mutate({form_id:u._id,title_sub_id:t._id})},disabled:p.isPending,children:[n.jsx(A.Z,{size:16}),"X\xf3a"]}),n.jsx("div",{className:"border-none py-[.4rem] outline-none xl:max-w-[80rem] break-all leading-8  font-semibold",contentEditable:!d.isPending,onKeyDown:f,onBlur:e=>x(e,"Header"),"data-text":r.header_value||"Nhập ti\xeau đề",spellCheck:!1,suppressContentEditableWarning:!0,children:r.header_value}),n.jsx("div",{className:"border-none py-[.4rem] outline-none xl:max-w-[80rem] break-all leading-8 opacity-70",contentEditable:!d.isPending,onKeyDown:f,onBlur:e=>x(e,"Value"),"data-text":r.value||"Nhập m\xf4 tả",spellCheck:!1,tabIndex:1,suppressContentEditableWarning:!0,children:r.value})]})};var F=r(23902);let q=e=>{let{subTitleItem:t}=e,[r,o]=(0,l.useState)(t?.core?.value||""),s=(0,b.v9)(e=>e.form.formCoreOriginal),[i,a]=(0,l.useState)(!1),m=(0,b.I0)(),{attributes:c,listeners:u,setNodeRef:d,transform:f,transition:p}=(0,L.nB)({id:t._id}),h={transition:p,transform:$.ux.Transform.toString(f)},g=(0,_.D)({mutationKey:["update-title-sub-text"],mutationFn:({form_title_sub_content:e,form_title_sub_id:t,form_id:r})=>v.Z.updateSubTitle({form_title_sub_content:e,form_id:r,form_title_sub_id:t}),onSuccess:e=>{let{form:t}=e.metadata;m((0,x.ow)({form:t}))}}),j=P();return(0,n.jsxs)("div",{className:"flex flex-col gap-[.5rem]  ",ref:d,...c,...u,style:h,children:[(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.4rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{j.mutate({form_id:s._id,title_sub_id:t._id})},disabled:j.isPending,children:[n.jsx(A.Z,{size:16}),"X\xf3a"]}),n.jsx("div",{className:"border-none py-[1rem] outline-none xl:max-w-[80rem] break-all leading-10",contentEditable:!0,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onBlur:e=>{let r=e.currentTarget.textContent;structuredClone(s).form_title.form_title_sub.findIndex(e=>e._id===t._id),r&&(o(r),g.mutate({form_title_sub_id:t._id,form_id:s._id,form_title_sub_content:r}))},"data-text":r||"M\xf4 tả ti\xeau đề",tabIndex:0,spellCheck:!1,suppressContentEditableWarning:!0,children:r})]})},H=e=>{e.form_title.form_title_mode_image;let t=!1;return e.form_title.form_title_sub.map(r=>{switch(r.type){case"Text":return n.jsx(q,{subTitleItem:r},r._id);case"FullDescription":return n.jsx(z,{subTitleItem:r},r._id);case"Image":if("Slider"!==e.form_title.form_title_mode_image)return n.jsx(F.Z,{mode:"Normal",page:"Edit",subTitleItem:r},r._id);if("Slider"===e.form_title.form_title_mode_image&&!t){t=!0;let l=e.form_title.form_title_sub.filter(e=>"Image"===e.type&&e?.core?.url);return n.jsx(E.Z,{colorMain:e.form_title.form_title_color||e.form_setting_default.form_title_color_default,page:"Edit",type:"Components",images:l},r._id)}if("Slider"===e.form_title.form_title_mode_image&&!r?.core?.url)return n.jsx(F.Z,{mode:"Normal",page:"Edit",subTitleItem:r},r._id);return null;default:return n.jsx(q,{subTitleItem:r})}})},U=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,M.Z)(),r=(0,l.useMemo)(()=>H(e),[e]),o=t=>e.form_title.form_title_sub.findIndex(e=>e._id===t),s=(0,D.Dy)((0,D.VT)(D.MA,{activationConstraint:{distance:10}}));return n.jsx("div",{className:"w-full  h-max  flex flex-col   gap-[4rem] outline-none",tabIndex:0,children:n.jsx(D.LB,{sensors:s,collisionDetection:D.ey,onDragEnd:r=>{let{active:n,over:l}=r;if(n.id===l?.id)return;let s=o(n.id),i=o(l?.id),a=(0,L.Rp)(e.form_title.form_title_sub,s,i),m=structuredClone(e);return m.form_title.form_title_sub=a,t.mutate(m),a},children:n.jsx(L.Fo,{items:e.form_title.form_title_sub.map(e=>e._id),strategy:L.qw,children:r})})})},B=(0,l.memo)(e=>{(0,b.I0)();let t=(0,b.v9)(e=>e.form.formCoreOriginal),[r,o]=(0,l.useState)(!1),s=(0,l.useRef)(null),[i,a]=(0,l.useState)(t.form_title.form_title_value?t.form_title.form_title_value:""),{modeScreen:x}=(0,l.useContext)(m.$),{theme:p}=(0,l.useContext)(c.ThemeContext),h=j(),g=y(),_=async e=>{if("Enter"===e.key){e.preventDefault();let r=s.current?.textContent||"",n={...t};h.mutate({form:n,title:r}),console.log("Th\xeam Input, type mặc định Text")}};return(0,l.useEffect)(()=>{a(t.form_title.form_title_value)},[t.form_title]),(0,n.jsxs)("div",{className:"flex flex-col gap-[3rem]",children:["NORMAL"===x&&n.jsx(u.Z,{style:{fontSize:`${t.form_title.form_title_size?t.form_title.form_title_size/10+"rem":t.form_setting_default.form_title_size_default/10+"rem"}`,color:`${t.form_title.form_title_color?t.form_title.form_title_color:t.form_setting_default.form_title_color_default}`,fontStyle:`${t.form_title.form_title_style?t.form_title.form_title_style:t.form_setting_default.form_title_style_default}`},ref:s,className:`${({onCheckTitle:()=>t.form_title?"opacity-100 text-slate-700":"opacity-50 text-textHeader"}).onCheckTitle()} text-text-theme py-[1rem] w-full   title-core group min-h-[8rem]  max-w-full xl:max-w-full  break-all flex items-center  h-max border-none outline-none     font-light text-justify hover:cursor-pointer`,onClick:()=>s.current?.focus(),onKeyDown:_,contentEditable:!0,onBlur:e=>{if(s.current&&s.current.textContent!==t.form_title.form_title_value){let e=s.current.textContent;a(s.current.textContent),g.mutate({form_id:t._id,value:e})}},defaultValue:i||"",autoFocus:!0,suppressContentEditableWarning:!0,"data-text":`${t.form_title.form_title_value||f.R.title.message}`,tabIndex:0,spellCheck:!1,children:t.form_title.form_title_value||""}),t.form_title.form_title_sub.length>0&&n.jsx(U,{}),n.jsx(T,{className:"",onClick:()=>o(e=>!e)}),r&&n.jsx(S,{}),"FULL"===x&&n.jsx(d.Z,{textContent:i?.toUpperCase(),className:"max-w-[70rem] text-[2rem] sm:text-[4rem]  leading-relaxed font-black   break-words whitespace-pre-wrap text-justify"})]})});var V=r(23363);let K=async()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["update-title-input"],mutationFn:({input_title_value:e,input_id:t,form:r})=>h.setTitleInput({input_title_value:e,input_id:t,form:r}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},X=(0,l.memo)(e=>{let{inputItem:t,dataTextTitle:r}=e,{modeScreen:o}=(0,l.useContext)(m.$),{theme:s}=(0,l.useContext)(c.ThemeContext),i=(0,b.v9)(e=>e.form.formCoreOriginal),a="custom"===i.form_mode_display,f=(0,l.useRef)(null),[x,p]=(0,l.useState)(t.input_title||""),h=K();(0,l.useEffect)(()=>{f.current?.focus()},[]);let g=async e=>{if(f.current&&f.current.textContent!==t.input_title){f.current.textContent=e.target.textContent;let r=f.current.textContent||"";r&&(await h).mutate({input_title_value:r,input_id:t._id,form:i}),p(r)}},_=t.core.setting.input_size||i.form_setting_default.input_size,j="light"===s&&(t.core.setting.input_color||i.form_setting_default.input_color)||"",v=t.core.setting.input_style||i.form_setting_default.input_style;return(0,l.useEffect)(()=>{},[i,t]),(0,n.jsxs)(V.Z,{className:`${a?"xl:w-[50%]":"xl:w-[70%]"} min-h-[2rem] h-max w-[60%] mb-[1rem] flex items-center gap-[1rem] hover:cursor-pointer text-text-theme`,children:["NORMAL"===o&&n.jsx(u.Z,{style:{fontSize:_,fontStyle:v,color:j},className:`${"custom"===i.form_mode_display?"title-input input-core-children":""}  group max-w-full gap-[.5rem] break-all whitespace-pre-wrap h-max border-none outline-none resize-none text-[2rem] font-medium sm:text-[2.4rem] `,ref:f,autoFocus:!1,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onBlur:g,contentEditable:!0,defaultValue:x||"False","data-text":`${x||r||"Ti\xeau đề"}`,suppressContentEditableWarning:!0,tabIndex:0,spellCheck:!1,children:t.input_title}),t.core.setting.require&&n.jsx("span",{className:" text-red-800",children:"*"}),"FULL"===o&&n.jsx(d.Z,{textContent:x,className:"w-max max-w-[80rem] text-[2rem] sm:text-[2.1rem]  font-medium   break-all whitespace-pre-wrap"})]})});var G=r(51838);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let W=(0,C.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Y=()=>{let e=(0,b.I0)();return{updateTypeInputMutation:(0,_.D)({mutationKey:["update-setting-input"],mutationFn:({form:e,input_id:t,input_id_setting:r})=>v.Z.updateSettingInput(e,t,r),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})}},Q=e=>{let{inputItem:t,setInputItemString:r}=e,l={onActiveRequireWrapper:()=>t.core.setting.require?"bg-blue-400":"bg-slate-300",onActiveRequireCircle:()=>t.core.setting.require?" animate-ltr":"animate-rtl bg-[#fff]"};return(0,n.jsxs)(V.Z,{className:"flex items-center justify-between gap-[.5rem] ",children:[n.jsx("label",{htmlFor:"",children:"Bắt buộc"}),n.jsx(V.Z,{className:`${l.onActiveRequireWrapper()} relative  w-[5rem] h-[2.4rem] transition-all duration-700 rounded-3xl border-[1px] border-slate-300 hover:cursor-pointer`,onClick:()=>{r(e=>{let t=structuredClone(e);return t.core.setting.require=!e.core.setting.require,t})},children:n.jsx(V.Z,{className:`${l.onActiveRequireCircle()} absolute bg-[#ffffff] w-[2.4rem]  transition-all duration-700 aspect-square rounded-full `})})]})},J=e=>{let{textContent:t,...r}=e;return n.jsx("span",{...r,children:t})};var ee=r(63364);let et=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.placeholder||""),i=(0,l.useRef)(null),a=()=>{i.current&&i.current.focus()};return(0,n.jsxs)(V.Z,{className:"h-max flex flex-col  justify-between gap-[.8rem]",children:[n.jsx(J,{textContent:"Placeholder",onClick:a,className:"hover:cursor-pointer"}),n.jsx(u.Z,{onClick:a,ref:i,contentEditable:!0,onBlur:e=>{if(i.current){i.current.textContent=e.target.textContent;let t=i.current.textContent;r(e=>{let r=structuredClone(e);return r.core.setting.placeholder=t||ee.Oh.placeholder,r})}},className:"input-setting border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400","data-text":`${o||ee.Oh.placeholder}`})]})},er=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting?.minLength||8),i=(0,l.useRef)(null);return(0,n.jsxs)(V.Z,{className:"flex items-center justify-between gap-[.5rem]",children:[n.jsx(J,{textContent:"Min",onClick:()=>{i.current&&i.current.focus()},className:"hover:cursor-pointer"}),n.jsx("input",{ref:i,type:"number",value:o,onBlur:e=>{r(e=>{let t=structuredClone(e);return t.core.setting.minLength=o,t})},onChange:e=>s(+e.target.value),className:"w-[40%] border-[1px] border-slate-400 p-[.7rem] rounded-lg  outline-2 outline-blue-400"})]})},en=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.maxLength||100),i=(0,l.useRef)(null);return(0,n.jsxs)(V.Z,{className:"flex items-center justify-between gap-[.5rem]",children:[n.jsx(J,{textContent:"Max",onClick:()=>{i.current&&i.current.focus()},className:"hover:cursor-pointer"}),n.jsx("input",{ref:i,onBlur:e=>{r(e=>{let t=structuredClone(e);return t.core.setting.minLength=o,t})},onChange:e=>s(+e.target.value),type:"number",value:o,className:"w-[40%] border-[1px] border-slate-400 p-[.7rem] rounded-lg  outline-2 outline-blue-400"})]})},el=e=>{let{inputItem:t,setInputItemString:r}=e,[o,s]=(0,l.useState)(t.core.setting.input_error||"Nhập placehoder của bạn"),i=(0,l.useRef)(null);return(0,n.jsxs)(V.Z,{className:"h-max flex flex-col  justify-between gap-[.6rem]",children:[n.jsx(J,{textContent:`Nhập th\xf4ng b\xe1o lỗi`,onClick:()=>{i.current&&i.current.focus()},className:"hover:cursor-pointer"}),n.jsx(u.Z,{spellCheck:!1,ref:i,contentEditable:!0,onBlur:e=>{if(i.current){i.current.textContent=e.target.textContent;let t=i.current.textContent;r(e=>{let r=structuredClone(e);return r.core.setting.input_error=t||ee.Oh.input_error,r})}},className:"input-setting  border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400","data-text":`${o||ee.Oh.input_error}`,suppressContentEditableWarning:!0,children:o})]})};var eo=r(62020),es=r(7892);let ei=e=>{let{inputItem:t,setInputItemString:r}=e,l={onActiveRequireWrapper:()=>t.core.setting.input_error_state?"bg-blue-400":"bg-slate-300",onActiveRequireCircle:()=>t.core.setting.input_error_state?" animate-ltr":"animate-rtl bg-[#fff]"};return(0,n.jsxs)(V.Z,{className:"flex items-center justify-between gap-[.5rem] ",children:[n.jsx("label",{htmlFor:"",children:"Thiết lập lỗi t\xf9y chọn"}),n.jsx(V.Z,{className:`${l.onActiveRequireWrapper()} relative  w-[5rem] h-[2.4rem] transition-all duration-700 rounded-3xl border-[1px] border-slate-300 hover:cursor-pointer`,onClick:()=>{r(e=>{let t=structuredClone(e);return t.core.setting.input_error_state=!e.core.setting.input_error_state,t})},children:n.jsx(V.Z,{className:`${l.onActiveRequireCircle()} absolute bg-[#ffffff] w-[2.4rem]  transition-all duration-700 aspect-square rounded-full `})})]})};var ea=r(44178);let em=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,i=(0,b.I0)(),[a,m]=(0,l.useState)(()=>({core:{setting:t.core.setting}})),{updateTypeInputMutation:c}=Y(),u=e=>{if(e.stopPropagation(),a.core.setting.minLength>a.core.setting.maxLength){i((0,eo.DT)({toast_item:{_id:(0,es.Z)(),toast_title:"Lỗi c\xe0i đặt Input",type:"ERROR",core:{message:"Min kh\xf4ng thể lớn Max"}}}));return}let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=a),e)),c.mutate({form:r,input_id:t._id,input_id_setting:a.core.setting})};return(0,l.useEffect)(()=>{c.isSuccess&&r(!1)},[c.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:a,setInputItemString:m}),n.jsx(et,{inputItem:a,setInputItemString:m}),n.jsx(er,{inputItem:a,setInputItemString:m}),n.jsx(en,{inputItem:a,setInputItemString:m}),n.jsx(ei,{inputItem:a,setInputItemString:m}),a.core.setting.input_error_state&&n.jsx(el,{inputItem:a,setInputItemString:m}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>u(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),c.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ec=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem] text-text-theme",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},eu=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ed=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ef=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ex=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},ep=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem] text-text-theme",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},eh=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},eg=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=o.form_title.form_title_color?o.form_title.form_title_color:o.form_setting_default.form_title_color_default,[i,a]=(0,l.useState)(t),{updateTypeInputMutation:m}=Y(),c=e=>{e.stopPropagation();let r=structuredClone(o);r.form_inputs=r.form_inputs.filter(e=>(e._id!==t._id||(e.core.setting=i),e)),m.mutate({form:r,input_id:t._id,input_id_setting:i.core.setting})};return(0,l.useEffect)(()=>{m.isSuccess&&r(!1)},[m.isSuccess,r]),(0,n.jsxs)(V.Z,{className:"h-max flex flex-col gap-[2.4rem]",children:[n.jsx(Q,{inputItem:i,setInputItemString:a}),n.jsx(ei,{inputItem:i,setInputItemString:a}),i.core.setting.input_error_state&&n.jsx(el,{inputItem:i,setInputItemString:a}),(0,n.jsxs)("button",{style:{backgroundColor:s},onClick:e=>c(e),className:"flex items-center justify-center gap-[1rem] w-[14rem] h-[4rem] text-[#ffffff] rounded-lg",children:[n.jsx("span",{children:"Lưu"}),m.isPending&&n.jsx(ea.Z,{color:"#fff",width:"min-w-[2.4rem]",height:"min-h-[2.4rem]"})]})]})},e_=(e,t)=>{switch(e.type){case"EMAIL":case"TEXT":default:return n.jsx(em,{inputItem:e,setOpenModel:t});case"PHONE":return n.jsx(eu,{inputItem:e,setOpenModel:t});case"VOTE":return n.jsx(ed,{inputItem:e,setOpenModel:t});case"OPTION":return n.jsx(ec,{inputItem:e,setOpenModel:t});case"DATE":return n.jsx(ex,{inputItem:e,setOpenModel:t});case"FILE_IMAGE":return n.jsx(ef,{inputItem:e,setOpenModel:t});case"ADDRESS":return n.jsx(eh,{inputItem:e,setOpenModel:t});case"ANCHOR":return n.jsx(eg,{inputItem:e,setOpenModel:t});case"OPTION_MULTIPLE":return n.jsx(ep,{inputItem:e,setOpenModel:t})}},eb=e=>{let{inputItem:t,setOpenModel:r}=e;(0,l.useRef)(null);let o=(0,l.useMemo)(()=>e_(t,r),[t,r]);return n.jsx(k.Z,{setOpenModel:r,children:n.jsx(V.Z,{onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"absolute top-[140%] right-[-24rem] sm:right-[-4rem]  z-[300] flex justify-center items-center text-text-theme bg-color-section-theme",children:n.jsx(u.Z,{className:"w-[30rem]  xl:w-[27rem] xl:min-h-[16rem]  h-max p-[2rem] shadow-xl border-[1px] border-slate-200 flex flex-col  rounded-lg ",children:o})})})};var ej=r(53603);let ev=e=>{let{textContent:t,icon:r,...l}=e;return(0,n.jsxs)("button",{...l,className:` ${l.className}`,children:[n.jsx("span",{className:"hidden xl:inline",children:r}),t]})},ey=(0,C.Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var eC=r(39832);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eN=(0,C.Z)("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),ew=(0,C.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ek=(0,C.Z)("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),eI=(0,C.Z)("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]),eZ=(0,C.Z)("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);var eS=r(62312);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eO=(0,C.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var eT=r(80958);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eE=(0,C.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),eM=(0,C.Z)("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]),eD=()=>(0,n.jsxs)(V.Z,{className:"w-full min-h-[40rem] px-[1rem] xl:px-0 flex flex-col justify-center xl:items-center gap-[1rem] text-[1.3rem] xl:text-[1.8rem] opacity-65",children:[n.jsx(J,{textContent:"Ngay tại đ\xe2y"}),(0,n.jsxs)(V.Z,{className:"flex flex-wrap items-center gap-[1rem] ",children:[n.jsx(J,{textContent:"Bạn c\xf3 thể th\xeam"}),n.jsx(V.Z,{className:"w-[3.6rem] h-[3.6rem] hidden xl:flex items-center justify-center rounded-full bg-[#ffffff] border-[.1rem] border-slate-600",children:n.jsx(G.Z,{})}),n.jsx(J,{textContent:"c\xe1c input"})]}),(0,n.jsxs)(V.Z,{className:" flex flex-wrap items-center gap-[1rem] ",children:[n.jsx(J,{textContent:"V\xe0 xem c\xe1c hướng dẫn v\xed dụ về từng loại"}),n.jsx(V.Z,{className:"w-[3.6rem] h-[3.6rem] hidden xl:flex items-center justify-center rounded-full bg-[#ffffff] border-[.1rem] border-slate-600",children:n.jsx(eM,{})}),n.jsx(J,{textContent:"c\xe1c input"})]})]}),eL={title:"Email",description:"Input type Email được d\xf9ng để thu thập c\xe1c dữ liệu li\xean quan để email, cũng như c\xf3 thể validate x\xe1c thực gi\xe1 trị nhập v\xe0o theo dạng email."},eP={title:"Th\xf4ng tin",description:"Input type Text được d\xf9ng để thu thập dạng chữ, với những dữ liệu n\xe0o cần nhiều d\xf2ng th\xf4ng tin th\xec Input Text l\xe0 ph\xf9 hợp nhất"},eR={title:"Đ\xe1nh gi\xe1",description:"Input Vote được d\xf9ng để thu thập c\xe1c đ\xe1nh gi\xe1 theo thang điểm từ 1 đến 5 sao"},e$={title:"Số điện thoại",description:"Input Phone được d\xf9ng để thu thập th\xf4ng tin số điện thoại"},eA={title:"Lựa chọn đơn",description:"Input option cho ph\xe9p mọi người chọn một lựa chọn tr\xean nhiều lựa chọn trong c\xe2u c\xe2u hỏi"},ez={title:"Nhiều lựa chọn",description:"Input multiple option cho ph\xe9p mọi người chọn nhiều lựa chọn c\xf9ng l\xfac trong c\xe2u c\xe2u hỏi"},eF={title:"Địa chỉ Việt Nam",description:"Cho ph\xe9p lấy địa chỉ người d\xf9ng ở Việt Nam"},eq=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["update-input-type"],mutationFn:({form:e,inputItem:t,type:r})=>h.changeTypeInput({form:e,inputItem:t,type:r}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})};var eH=r(95548);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eU=(0,C.Z)("ArrowBigRight",[["path",{d:"M6 9h6V5l7 7-7 7v-4H6V9z",key:"7fvt9c"}]]),eB=e=>{let{title:t,description:r,action:l}=e;return(0,n.jsxs)(V.Z,{className:"w-full h-[36%] xl:h-[30%] flex flex-col gap-[1.6rem] xl:gap-[3rem] xl:border-b-[.2rem] border-gray-100  ",children:[(0,n.jsxs)(V.Z,{className:"min-h-[2rem] flex flex-col xl:flex-row xl:items-center justify-between gap-[2rem] xl:gap-0  px-[2rem]",children:[n.jsx(V.Z,{className:"text-[2.2rem] font-semibold ",children:t}),n.jsx(eH.Z,{textContent:"Th\xeam input n\xe0y",className:"h-[50%] flex items-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",Icon:n.jsx(eU,{}),onClick:l})]}),n.jsx(V.Z,{className:"flex-1 px-[2rem] text-[1.2rem] xl:text-[1.6rem] opacity-60",children:r})]})},eV=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:eP.title,description:eP.description,action:()=>{o.mutate({form:l,inputItem:t,type:"TEXT"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] ",children:[n.jsx(J,{textContent:"Nhập ti\xeau đề cho đoạn Text",className:"text-[1.6rem] font-bold"}),n.jsx(V.Z,{className:"group w-full min-h-[8rem] p-[1.6rem] text-[1.6rem] break-words whitespace-pre-wrap h-max border-[.1rem] border-gray-300 rounded-lg outline-none resize-none ",spellCheck:!1,contentEditable:!0,"data-text":`Nhập th\xf4ng tin của bạn`,suppressContentEditableWarning:!0,tabIndex:0})]})]})]})},eK=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:eL.title,description:eL.description,action:()=>{o.mutate({form:l,inputItem:t,type:"EMAIL"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem]",children:[n.jsx(J,{textContent:"Email",className:"text-[1.6rem] font-bold"}),(0,n.jsxs)(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:[n.jsx("input",{className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent text-[#000]",placeholder:"Nhập email của bạn"}),n.jsx(eC.Z,{className:"absolute z-[2] right-[1rem]  opacity-50",size:18})]})]})]})]})},eX=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:eA.title,description:eA.description,action:()=>{o.mutate({form:l,inputItem:t,type:"OPTION"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] text-[1.4rem]",children:[n.jsx("div",{className:"text-[1.6rem] font-semibold",children:"Framework Front end bạn sử dụng?"}),(0,n.jsxs)("div",{className:"px-[4rem] flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"radio",name:"front-end-core",value:"React"}),n.jsx("span",{children:"React"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"radio",name:"front-end-core",value:"Angular"}),n.jsx("span",{children:"Angular"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"radio",name:"front-end-core",value:"Vue"}),n.jsx("span",{children:"Vue"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"radio",name:"front-end-core",value:"Other"}),n.jsx("span",{children:"Other"})]})]})]})]})]})},eG=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:ez.title,description:ez.description,action:()=>{o.mutate({form:l,inputItem:t,type:"OPTION_MULTIPLE"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"min-h-[5rem] h-max flex flex-col  gap-[1rem] text-[1.4rem]",children:[n.jsx("div",{className:"text-[1.6rem] font-semibold",children:"Framework Front end bạn sử dụng?"}),(0,n.jsxs)("div",{className:"px-[4rem] flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"checkbox",className:"",name:"front-end-core",value:"React"}),n.jsx("span",{children:"React"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"checkbox",className:"",name:"front-end-core",value:"Angular"}),n.jsx("span",{children:"Angular"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"checkbox",className:"",name:"front-end-core",value:"Vue"}),n.jsx("span",{children:"Vue"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-[1rem]",children:[n.jsx("input",{type:"checkbox",className:"",name:"front-end-core",value:"Other"}),n.jsx("span",{children:"Other"})]})]})]})]})]})};var eW=r(32882);let eY=e=>{let{inputItem:t,setOpenModel:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:"Thời gian",description:"Input Date cho một mốc thời gian n\xe0o đ\xf3 cho c\xe2u trả lời",action:()=>{o.mutate({form:l,inputItem:t,type:"DATE"})}}),(0,n.jsxs)(V.Z,{className:"h-[76%]  max-h-[76%] overflow-hidden flex flex-col gap-[2.6rem] p-[1rem_1.4rem]  ",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),n.jsx(V.Z,{className:"h-full   flex flex-col  gap-[1rem] ",children:n.jsx(eW.Z,{})})]})]})};var eQ=r(35188);let eJ=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),[s,i]=(0,l.useState)(2.5),a=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:eR.title,description:eR.description,action:()=>{a.mutate({form:o,inputItem:t,type:"VOTE"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem]",children:[n.jsx(J,{textContent:"Đ\xe1nh gi\xe1",className:"text-[1.6rem] font-bold"}),n.jsx(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:n.jsx("div",{className:"p-[1rem_2rem] rounded-lg bg-color-section-theme border-[.1rem] border-text-theme",children:n.jsx(eQ.Z,{allowHalf:!0,value:s,onChange:e=>i(e)})})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số đ\xe1nh gi\xe1 bạn chọn l\xe0: ",s]})]})]})]})};var e0=r(5398);let e1=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),[s,i]=(0,l.useState)(0),a=eq();return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:e$.title,description:e$.description,action:()=>{a.mutate({form:o,inputItem:t,type:"PHONE"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem]",children:[n.jsx(J,{textContent:"Số điện thoại",className:"text-[1.6rem] font-bold"}),n.jsx(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:n.jsx("input",{value:s,type:"number",className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent",placeholder:"Nhập số điện thoại của bạn",onChange:e=>i(+e.target.value)})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số điện thoại bạn nhập"," ",s>0&&s.toString().match(e0.r)?"hợp lệ":"kh\xf4ng hợp lệ"]})]})]})]})};var e2=r(89410);let e4=e=>{let{inputItem:t,setOpenModel:r}=e,o=(0,b.v9)(e=>e.form.formCoreOriginal),s=eq(),i=(0,l.useRef)(null),[a,m]=(0,l.useState)("");return(0,l.useEffect)(()=>()=>{URL.revokeObjectURL(a)},[a]),(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:"Upload ảnh",description:"Cho ph\xe9p người d\xf9ng tải ảnh l\xean form trả lời",action:()=>{s.mutate({form:o,inputItem:t,type:"FILE_IMAGE"})}}),(0,n.jsxs)(V.Z,{className:"h-[90%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"h-[90%]  flex flex-col items-start  gap-[3rem] ",children:[n.jsx("button",{onClick:()=>{i.current&&i.current.click()},className:"p-[.8rem] min-w-[12rem] text-text-theme border-[.1rem] border-text-theme bg-color-section-theme text-[1.4rem] rounded-xl",children:"Tải ảnh l\xean"}),n.jsx("input",{type:"file",hidden:!0,ref:i,onChange:e=>{if(e.target.files){let t=e.target.files[0];m(URL.createObjectURL(t))}}}),a&&n.jsx(e2.default,{src:a,width:70,height:70,alt:"demo upload h\xecnh ảnh",className:"w-[20rem] h-[20rem]"})]})]})]})};var e3=r(7430),e5=r(31122),e6=r(69573);let e8=e=>{let{message:t}=e;return n.jsx("span",{className:"text-[1.4rem] text-red-800 font-bold",children:t})},e9=e=>{let{inputItem:t}=e,r=(0,b.v9)(e=>e.form.formCoreOriginal),o=eq(),[s,i]=(0,l.useState)({value:{addressString:"",addressValidate:ee.Oy,address_full:"",addressCore:""},error:{message:""},validate:!1}),a=e=>{let{_next:r,message:n,type:l}=(0,e6.Z)({inputValue:e,inputSetting:t.core.setting});i(t=>({...t,validate:!r,value:e,error:{message:n}}))};return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:eF.title,description:eF.description,action:()=>{o.mutate({form:r,inputItem:t,type:"ADDRESS"})}}),(0,n.jsxs)(V.Z,{className:"h-[70%] xl:h-[50%] flex flex-col gap-[2.6rem] p-[2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),n.jsx(e5.Z,{detail:!0,onChange:a}),(0,n.jsxs)("div",{className:"flex flex-col h-[12rem] gap-[1rem]   justify-center",children:[s.validate||s.value.addressString&&n.jsx("span",{className:"text-[1.4rem]",children:s.value?.addressString}),n.jsx("button",{onClick:()=>a(s.value),className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),s.error.message&&n.jsx(e8,{message:s.error.message})]})]})]})};var e7=r(28405),te=r(37693);let tt=e=>{let{inputItem:t,setOpenModel:r}=e,o=eq(),s=(0,b.v9)(e=>e.form.formCoreOriginal),[i,a]=(0,l.useState)({value:{href:""},error:{message:""},validate:!1}),m=e=>{a(t=>({...t,value:{href:e}}))};return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col py-[1rem] ",children:[n.jsx(eB,{title:"C\xe1c đường dẫn kh\xe1c",description:"Cho người d\xf9ng nhập link li\xean kết đến c\xe1c website kh\xe1c",action:()=>{o.mutate({form:s,inputItem:t,type:"ANCHOR"})}}),(0,n.jsxs)(V.Z,{className:"h-[50%] flex flex-col gap-[2.6rem] p-[3rem_2rem]",children:[n.jsx(V.Z,{className:" w-max p-[.2rem_1.6rem] flex items-center justify-center text-[1.2rem] bg-gray-200  text-gray-400",children:"V\xed dụ"}),(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem]",children:[n.jsx(J,{textContent:"Nhập đường dẫn",className:"text-[1.6rem] font-bold"}),(0,n.jsxs)(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:[n.jsx("input",{value:i.value.href,onChange:e=>m(e.target.value),className:"w-full h-full p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent text-[#000]",placeholder:"Nhập đường dẫn li\xean kết của bạn"}),n.jsx("div",{className:"absolute z-[2] right-[1rem]  opacity-70",children:"www"})]}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[i.validate&&i.value.href&&n.jsx(te.Z,{message:"Đường dẫn hợp lệ"}),n.jsx("button",{onClick:()=>{let{_next:e,message:r,type:n}=(0,e7.Z)({inputValue:i.value.href,inputSetting:t.core.setting});e?a(e=>({...e,error:{message:""},validate:!0})):a(e=>({...e,error:{message:r},validate:!1}))},className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),i.error.message&&n.jsx(e8,{message:i.error.message})]})]})]})]})},tr=[{type:"Guide",Icon:n.jsx(ey,{className:"",size:18}),content:"Hướng dẫn"},{type:"EMAIL",Icon:n.jsx(eC.Z,{size:18}),content:eL.title},{type:"TEXT",Icon:n.jsx(eN,{size:18}),content:eP.title},{type:"VOTE",Icon:n.jsx(ew,{size:18}),content:eR.title},{type:"PHONE",Icon:n.jsx(ek,{size:18}),content:e$.title},{type:"ADDRESS",Icon:n.jsx(eI,{size:18}),content:eF.title},{type:"ANCHOR",Icon:n.jsx(eZ,{size:18}),content:"Li\xean kết"},{type:"OPTION",Icon:n.jsx(eS.Z,{size:18}),content:eA.title},{type:"OPTION_MULTIPLE",Icon:n.jsx(eO,{size:18}),content:ez.title},{type:"DATE",Icon:n.jsx(eT.Z,{className:"",size:18}),content:"Thời gian"},{type:"FILE_IMAGE",Icon:n.jsx(eE,{className:"",size:18}),content:"Upload Ảnh"}],tn=(e,t,r)=>{switch(e){case"Guide":default:return n.jsx(eD,{});case"TEXT":return n.jsx(eV,{inputItem:t,setOpenModel:r});case"EMAIL":return n.jsx(eK,{inputItem:t,setOpenModel:r});case"VOTE":return n.jsx(eJ,{inputItem:t,setOpenModel:r});case"PHONE":return n.jsx(e1,{inputItem:t,setOpenModel:r});case"DATE":return n.jsx(eY,{inputItem:t,setOpenModel:r});case"FILE_IMAGE":return n.jsx(e4,{inputItem:t,setOpenModel:r});case"ADDRESS":return n.jsx(e9,{inputItem:t,setOpenModel:r});case"ANCHOR":return n.jsx(tt,{inputItem:t,setOpenModel:r});case"OPTION":return n.jsx(eX,{inputItem:t,setOpenModel:r});case"OPTION_MULTIPLE":return n.jsx(eG,{inputItem:t,setOpenModel:r})}},tl=e=>{let{inputItem:t,setOpenModel:r}=e,[o,s]=(0,l.useState)("Guide"),i=(0,l.useMemo)(()=>tn(o,t,r),[o,t,r]);return n.jsx(ej.Z,{children:n.jsx(V.Z,{className:"fixed inset-0 bg-[rgba(0,0,0,0.5)] z-[999] px-[1rem] flex justify-center items-center",children:n.jsx(u.Z,{className:"relative w-[80rem] h-[64rem]  xl:w-[80rem] xl:h-[68rem]   flex flex-col bg-color-section-theme text-text-theme rounded-lg border-[.1rem] border-text-theme ",children:n.jsx(k.Z,{width:"w-full xl:w-[80rem]",height:"h-[64rem] xl:h-[68rem]",setOpenModel:r,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(V.Z,{className:"flex-1 w-full min-h-full flex  ",children:[(0,n.jsxs)(V.Z,{className:" w-[40%] xl:w-[30%] min-h-full p-[1rem_.6rem] xl:p-[2rem_1.4rem] flex flex-col gap-[1rem] border-r-[.1rem] border-gray-100 ",children:[n.jsx(d.Z,{className:"text-textGray text-[1.2rem] font-bold opacity-80",textContent:"Input"}),n.jsx(V.Z,{className:"flex flex-col gap-[1.2rem] ",children:tr.map(e=>n.jsx(ev,{className:"w-full p-[.4rem_.6rem]  flex items-center justify-start gap-[2rem] text-[1.5rem] xl:text-[1.6rem] hover:bg-color-btn-primarily text-text-theme hover:text-[#fff] transition-colors duration-300 rounded-lg",onClick:()=>s(e.type),textContent:e.content,icon:e.Icon},e.content+e.type))})]}),n.jsx(V.Z,{className:"flex w-[60%] xl:w-[70%] min-h-full py-[1rem] ",children:i})]}),n.jsx("div",{className:"absolute right-[-1rem] top-[-1rem] xl:right-[-2.4rem] xl:top-[-2.4rem]",children:n.jsx(e3.Z,{onClose:r})})]})})})})})},to=(0,l.memo)(e=>{let{inputItem:t,openSetting:r,setOpenSetting:o,funcRemoveInput:s}=e,i=(0,b.v9)(e=>e.form.formCoreOriginal),a=(0,b.v9)(e=>e.form.colorCore),[m,c]=(0,l.useState)(!1),u={onCheckModeDisplay:()=>"custom"===i.form_mode_display?"group-hover:!text-[#ffffff]":""};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(V.Z,{className:"flex  h-full  items-center gap-[.3rem] ",children:[n.jsx(A.Z,{size:18,onClick:s,className:`${u.onCheckModeDisplay()} hover:cursor-pointer `}),n.jsx(G.Z,{size:18,onClick:()=>c(!0),className:`${u.onCheckModeDisplay()} hover:cursor-pointer `}),(0,n.jsxs)(V.Z,{style:{backgroundColor:r?a:"",padding:r?".8rem .4rem":""},className:" rounded-lg",children:[n.jsx(W,{size:18,onClick:()=>o(!0),className:`${u.onCheckModeDisplay()} hover:cursor-pointer `}),r&&n.jsx(eb,{setOpenModel:o,inputItem:t})]}),t.core.setting.require&&!t.input_title&&n.jsx("span",{className:"text-red-700 text-[1.8rem]",children:"*"})]}),m&&n.jsx(tl,{setOpenModel:c,inputItem:t})]})});var ts=r(44147);let ti=e=>{let{focus:t,setTitle:r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal);return n.jsx(V.Z,{className:`${"custom"===l.form_mode_display?"right-[6rem]":"right-0"} absolute top-[-1rem]   h-max flex items-center text-[1.4rem]`,style:{direction:"rtl"},children:n.jsx(V.Z,{className:`
			flex h-full   justify-around items-center gap-[2rem] `,children:n.jsx(ts.Z,{className:`${({onCheckModeDisplay:()=>"custom"===l.form_mode_display?"group-hover:text-[#ffffff] text-[#000000] ":"text-gray-400 hover:text-gray-600"}).onCheckModeDisplay()}`,onClick:()=>r(!0),tabIndex:-1,textContent:"Th\xeam ti\xeau đề"})})})},ta=async(e,t)=>{let r=(0,b.I0)(),n=structuredClone(t),l={...ee.Oh,input_color:n.form_setting_default.input_color||ee.Oh.input_color,input_size:n.form_setting_default.input_size||ee.Oh.input_size,input_style:n.form_setting_default.input_style||ee.Oh.input_style};return(0,_.D)({mutationKey:["add-input-to-enter"],mutationFn:()=>h.addInputToEnter({form:n,input_id_target:e._id,setting:l}),onSuccess:e=>{let{form:t}=e.metadata;r((0,x.ow)({form:t}))}})},tm=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["remove input item"],mutationFn:({form_id:e,input_id:t})=>h.removeInputItem({form_id:e,input_id:t}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})};var tc=r(96064);let tu=(0,l.memo)(e=>{let{inputItem:t,dataTextTitle:r,InputComponent:o,inputTitle:s}=e,i=(0,b.I0)(),a=(0,b.v9)(e=>e.form.formCoreOriginal),c=(0,b.v9)(e=>e.form.colorCore),u=(0,b.v9)(e=>e.formAsnwer.formAnswerStore),{attributes:d,listeners:f,setNodeRef:x,transform:p,transition:h}=(0,L.nB)({id:t._id}),[g,_]=(0,l.useState)(!!s||"OPTION"===t.type),[j,v]=(0,l.useState)(!1),[y,C]=(0,l.useState)(!1),N=ta(t,a),{modeScreen:w}=(0,l.useContext)(m.$),k=tm();(0,l.useEffect)(()=>{k.isSuccess&&u[a._id]&&i((0,tc.DC)({form_id:a._id}))},[k.isSuccess]);let I=async e=>{if("Enter"===e.key){if("FULL"===w)return null;(await N).mutate()}},Z={transition:h,transform:$.ux.Transform.toString(p)},S="custom"===a.form_mode_display?{"--bg-input-core":c,"--bg-input-core-2":"#000000",borderColor:c,position:"relative"}:"";return(0,n.jsxs)("div",{className:"text-text-theme  group flex flex-col justify-center gap-[1.8rem] outline-none focus:cursor-move     rounded-[1.6rem]  ",ref:x,...d,...f,style:{...Z,...S},children:[g&&n.jsx(X,{inputItem:t,dataTextTitle:r}),(0,n.jsxs)(V.Z,{className:" group relative min-h-[8rem] h-max pt-[2.4rem] flex items-center  ",children:["NORMAL"===w&&n.jsx(V.Z,{className:" absolute top-[-1rem]  xl:left-0  h-[2rem] text-[1.4rem] ",children:n.jsx(to,{openSetting:y,setOpenSetting:C,funcRemoveInput:()=>{k.mutate({form_id:a._id,input_id:t._id})},inputItem:t})}),n.jsx(V.Z,{className:"w-full h-max flex flex-col gap-[2rem] ",onKeyDown:I,children:o}),!g&&"NORMAL"===w&&n.jsx(ti,{setTitle:_,focus:j})]})]})});var td=r(60639);let tf=e=>{let{inputItem:t}=e;(0,b.v9)(e=>e.form.formCoreOriginal).form_mode_display;let[r,o]=(0,l.useState)(!1),s=new Date,i=s.getMonth()+1,a=s.getDate(),m=s.getFullYear(),[c,u]=(0,l.useState)({day:a,month:i,year:m,date_string:(0,td.DP)({day:a,month:i,year:m})}),d=(0,td.PK)({day:c.day,month:c.month,year:c.year}),f=(0,n.jsxs)(V.Z,{className:"relative flex flex-col items-start gap-[1rem] text-text-theme ",children:[(0,n.jsxs)("button",{onClick:()=>o(e=>!e),className:"bg-color-main text-[#fff] p-[1rem] rounded-xl flex items-center gap-[1rem] text-[1.3rem]",children:[n.jsx("span",{children:d}),n.jsx(eT.Z,{})]}),r&&n.jsx("div",{className:"absolute z-[3] top-0 xl:top-[64%] right-[50%] xl:right-[33%] ",children:n.jsx(k.Z,{setOpenModel:o,children:n.jsx(eW.Z,{onChange:e=>{let{day:t,month:r,date_string:n,year:l}=e;u({day:t,month:r,year:l,date_string:n}),o(!1)},callbackCancel:()=>{o(!1),u({day:a,month:i,year:m,date_string:(0,td.DP)({day:a,month:i,year:m})})}})})}),(0,n.jsxs)("p",{className:"text-[1.3rem]",children:["Thời gian đang chọn l\xe0:",(0,n.jsxs)("span",{className:"text-color-main font-semibold",children:[" ",d]})]})]});return n.jsx(tu,{InputComponent:f,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam m\xf4 tả về ng\xe0y được chọn"})};var tx=r(86277);let tp=e=>{let t="custom"===(0,b.v9)(e=>e.form.formCoreOriginal).form_mode_display,{inputItem:r}=e,o=(0,l.useRef)(null),s=r.input_title?r.input_title:"",[i,a]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),{modeScreen:d}=(0,l.useContext)(m.$);(0,l.useEffect)(()=>{o.current&&(o.current.value="",u(!1))},[d]);let f=(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[.3rem] ",children:[n.jsx(J,{textContent:"Nhập email của bạn",className:`${t?"group-hover:!text-[#ffffff]":"text-text-theme "} text-[1.6rem] font-semibold`}),(0,n.jsxs)(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] border-[.1rem] bg-[#fff] border-gray-400 focus:border-transparent  rounded-lg",children:[n.jsx("input",{className:"w-[80%] h-full p-[1rem] rounded-lg text-[1.6rem]     outline-none   text-[#000]",ref:o,onKeyDown:e=>{if("Enter"===e.key&&"FULL"===d)return(0,tx.oH)(i)?u(!1):u(!0)},onChange:e=>a(e.target.value),onBlur:()=>{if(i)return(0,tx.oH)(i)?u(!1):u(!0)},placeholder:r.core.setting.placeholder}),n.jsx(eC.Z,{className:"absolute z-[2] right-[1rem] text-textMain opacity-50",size:18})]}),c&&n.jsx(J,{className:"flex group-focus:hidden opacity-55",tabIndex:-1,textContent:"        Email khong dung dinh dang"})]});return n.jsx(tu,{inputItem:r,InputComponent:f,inputTitle:s})},th=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["add-option"],mutationFn:({form:e,option_id:t,option_value:r,inputItem:n})=>h.addOption({form:e,option_id:t,option_value:r,inputItem:n}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},tg=()=>{let e=(0,b.I0)();return{deleteOptionIdMutation:(0,_.D)({mutationKey:["delete-option-id"],mutationFn:({form_id:e,inputItem_id:t,option_id:r})=>h.deleteOption({form_id:e,inputItem_id:t,option_id:r}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})}},t_=e=>{let{option:t,inputItem:r,controllSelect:{selectValue:o,setSelectValue:s},syncDataController:{setSyncData:i}}=e,{theme:a}=(0,l.useContext)(c.ThemeContext),m=(0,b.v9)(e=>e.form.formCoreOriginal),u="custom"===m.form_mode_display,d=(0,l.useRef)(null),f=d.current?.textContent,x=th(),p=ta(r,m),{deleteOptionIdMutation:h}=tg(),{attributes:g,listeners:_,setNodeRef:j,transform:v,transition:y}=(0,L.nB)({id:t.option_id}),C=async e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation()),d.current?.textContent,"Enter"!==e.key||x.isPending||(await p).mutate()},N=e=>{s(e)},w=()=>{h.mutate({form_id:m._id,inputItem_id:r._id,option_id:t.option_id}),t.option_id===o&&s("")};(0,l.useEffect)(()=>{d.current&&(d.current.textContent=t.option_value)},[]),(0,l.useEffect)(()=>{(x.isSuccess||x.isError)&&i(e=>({...e,option_id_focus:"",option_process_pending:!1}))},[x.isSuccess||x.isError]);let k={transition:y,transform:$.ux.Transform.toString(v)},I=m.form_title.form_title_color||m.form_setting_default.form_title_color_default;return(0,n.jsxs)("div",{ref:j,...g,..._,style:k,onClick:()=>N(t.option_id),className:"reset-border-outline flex min-h-[5rem]  max-w-full h-max items-center gap-[2rem] text-[1.4rem]",children:[n.jsx("div",{className:"min-w-[2rem] aspect-square rounded-full border-[.1rem] border-slate-400 flex items-center justify-center",children:o===t.option_id&&n.jsx("div",{style:{backgroundColor:u&&"light"===a?I:"var(--text-theme)"},className:`${u?"group-hover:!bg-[#ffffff]":"bg-blue-300"} min-w-[60%] min-h-[60%] rounded-full `})}),n.jsx("div",{onKeyDown:C,onBlur:()=>{let e=d.current?.textContent;e&&!x.isPending&&e&&e!==t.option_value&&t.option_id&&(x.mutate({form:m,option_id:t.option_id||"",option_value:e,inputItem:r}),i(e=>({...e,option_id_focus:t.option_id,option_process_pending:!0})))},ref:d,contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,tabIndex:0,className:"reset-border-outline h-full min-w-[60%] xl:min-w-[24%] max-w-[70rem] break-words ","data-text":t.option_value||"Nhập th\xf4ng tin t\xf9y chọn",children:f}),n.jsx("button",{style:{color:u?I:"#000"},disabled:h.isPending,onClick:e=>{e.preventDefault(),w()},className:`${u?"group-hover:!bg-[#ffffff] hover:bg-gray-200":"bg-gray-200 hover:bg-gray-300"} ml-auto flex items-center gap-[1rem] p-[.5rem_.7rem]  rounded-lg disabled:cursor-not-allowed`,children:n.jsx(A.Z,{size:16})})]})},tb=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["updatePositionOptionMutation"],mutationFn:({form:e,inputItem:t,coreOption:r})=>h.updatePostionOption({form:e,inputItem:t,coreOption:r}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},tj=(0,l.memo)(e=>{let{theme:t}=(0,l.useContext)(c.ThemeContext),[r,o]=(0,l.useState)(""),{inputItem:s}=e,i=(0,l.useRef)(null),[a,m]=(0,l.useState)({option_id_focus:"",option_process_pending:!1,btn_click_add:!1}),u=(0,b.v9)(e=>e.form.formCoreOriginal),d="custom"===u.form_mode_display,f=u.form_title.form_title_color||u.form_setting_default.form_title_color_default,x="custom"===u.form_mode_display,p=s.input_title?s.input_title:"",h=th();(0,l.useEffect)(()=>{i.current&&a.btn_click_add&&!a.option_process_pending&&i.current.click()},[a.btn_click_add,a.option_process_pending]),(0,l.useEffect)(()=>()=>{i.current=null},[]);let g=(0,D.Dy)((0,D.VT)(D.MA,{activationConstraint:{distance:10}})),_=e=>s.core.options.findIndex(t=>t.option_id===e),j=tb();(0,l.useEffect)(()=>{!r&&s.core.options[0]&&o(s.core.options[0].option_id)},[s.core.options,r]);let v=(0,n.jsxs)(V.Z,{className:"mt-[.4rem] min-h-[5rem] max-w-full flex flex-col gap-[2rem] h-max  text-[1.4rem]",children:[n.jsx(J,{textContent:"Chọn một lựa chọn",className:`${d?"group-hover:!text-[#ffffff]":"text-text-theme"} text-[1.6rem] font-semibold`}),n.jsx(D.LB,{sensors:g,collisionDetection:D.ey,onDragEnd:e=>{let{active:t,over:r}=e;if(t.id===r?.id)return;let n=_(t.id),l=_(r?.id),o=(0,L.Rp)(s.core.options,n,l),i=structuredClone(s);return i.core.options=o,j.mutate({form:u,inputItem:s,coreOption:i.core.options}),o},children:n.jsx(L.Fo,{items:s.core.options.map(e=>e.option_id),strategy:L.qw,children:s.core.options&&s.core.options.map((e,t)=>n.jsx(t_,{option:e,index:t,inputItem:s,controllSelect:{selectValue:r,setSelectValue:o},syncDataController:{syncData:a,setSyncData:m}},e.option_id||Math.random().toString()))})}),(0,n.jsxs)("button",{ref:i,onClick:()=>{if(a.option_id_focus&&a.option_process_pending){m(e=>({...e,btn_click_add:!0}));return}h.mutate({form:u,option_id:"",option_value:"",inputItem:s})},style:{color:x&&"light"===t?f:"#000"},className:`${x?"group-hover:!bg-[#ffffff]":""} min-h-[4rem] w-[20rem]  bg-gray-100 px-[2rem] flex items-center gap-[1rem]  rounded-lg`,children:[n.jsx(G.Z,{size:16,className:""}),"Th\xeam lựa chọn"]}),(0,n.jsxs)("p",{className:"max-w-[80%] break-words",children:["Kết quả:"," ",n.jsx("span",{className:"font-medium text-[1.8rem]",children:s.core.options.filter(e=>e.option_id===r)[0]?.option_value})]})]});return n.jsx(tu,{InputComponent:v,inputTitle:p,dataTextTitle:"Nhập ti\xeau đề ch\xednh cho c\xe1c t\xf9y chọn",inputItem:s})}),tv=e=>{let{option:t,inputItem:r,controllSelect:{selectValue:o,setSelectValue:s},syncDataController:{syncData:i,setSyncData:a}}=e,{theme:m}=(0,l.useContext)(c.ThemeContext),u=(0,b.v9)(e=>e.form.formCoreOriginal),d="custom"===u.form_mode_display,f=(0,l.useRef)(null),x=f.current?.textContent,p=th(),h=ta(r,u),{deleteOptionIdMutation:g}=tg(),{attributes:_,listeners:j,setNodeRef:v,transform:y,transition:C}=(0,L.nB)({id:t.option_id}),N=async e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation()),f.current?.textContent,"Enter"!==e.key||p.isPending||(await h).mutate()};(0,l.useEffect)(()=>{(p.isSuccess||p.isError)&&a(e=>({...e,option_id_focus:"",option_process_pending:!1}))},[p.isSuccess||p.isError]);let w=e=>{if(o.includes(e))return s(t=>t.filter(t=>t!==e));s(t=>t.concat(e))},k=()=>{g.mutate({form_id:u._id,inputItem_id:r._id,option_id:t.option_id}),o.includes(t.option_id)&&s([])};(0,l.useEffect)(()=>{f.current&&(f.current.textContent=t.option_value)},[]);let I={transition:C,transform:$.ux.Transform.toString(y)},Z=u.form_title.form_title_color||u.form_setting_default.form_title_color_default;return(0,n.jsxs)("div",{ref:v,..._,...j,style:I,className:"reset-border-outline flex min-h-[5rem] max-w-full h-max items-center gap-[2rem] text-[1.4rem]",onClick:()=>w(t.option_id),children:[n.jsx("div",{className:"w-[2rem] aspect-square rounded-full border-[.1rem] border-slate-400 flex items-center justify-center",children:o.includes(t.option_id)&&n.jsx("div",{style:{backgroundColor:d&&"light"===m?Z:"var(--text-theme)"},className:`${d?"group-hover:!bg-[#ffffff]":"bg-blue-300"} min-w-[60%] min-h-[60%] rounded-full `})}),n.jsx("div",{onKeyDown:N,onBlur:()=>{let e=f.current?.textContent;e&&!p.isPending&&e&&e!==t.option_value&&t.option_id&&(p.mutate({form:u,option_id:t.option_id||"",option_value:e,inputItem:r}),a(e=>({...e,option_id_focus:t.option_id,option_process_pending:!0})))},ref:f,contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,tabIndex:0,className:"reset-border-outline h-full min-w-[60%] xl:min-w-[24%] max-w-[70rem] break-words ","data-text":t.option_value||"Nhập th\xf4ng tin t\xf9y chọn",children:x}),n.jsx("button",{style:{color:d?Z:"#000"},disabled:g.isPending,onClick:e=>{e.preventDefault(),k()},className:`${d?"group-hover:!bg-[#ffffff] hover:bg-gray-200":"bg-gray-200 hover:bg-gray-300"} mr-auto flex items-center gap-[1rem] p-[.5rem_.7rem]  rounded-lg disabled:cursor-not-allowed`,children:n.jsx(A.Z,{size:16})})]})},ty=(0,l.memo)(e=>{let{theme:t}=(0,l.useContext)(c.ThemeContext),[r,o]=(0,l.useState)([]),[s,i]=(0,l.useState)({option_id_focus:"",option_process_pending:!1,btn_click_add:!1}),a=(0,l.useRef)(null),{inputItem:m}=e,u=(0,b.v9)(e=>e.form.formCoreOriginal),d=u.form_title.form_title_color||u.form_setting_default.form_title_color_default,f="custom"===u.form_mode_display,x=m.input_title?m.input_title:"",p=th();(0,l.useEffect)(()=>{a.current&&s.btn_click_add&&!s.option_process_pending&&a.current.click()},[s.btn_click_add,s.option_process_pending]),(0,l.useEffect)(()=>()=>{a.current=null},[]);let h=(0,D.Dy)((0,D.VT)(D.MA,{activationConstraint:{distance:10}})),g=e=>m.core.options.findIndex(t=>t.option_id===e),_=tb();(0,l.useEffect)(()=>{!r&&m.core.options[0]&&o(e=>e.concat(m.core.options[0].option_id))},[m.core.options,r]);let j=(0,n.jsxs)(V.Z,{className:"mt-[.4rem] min-h-[5rem] max-w-full flex flex-col gap-[2rem] h-max  text-[1.4rem]",children:[n.jsx(J,{textContent:"Chọn c\xe1c lựa chọn b\xean dưới",className:`${f?"group-hover:!text-[#ffffff]":"text-text-theme"} text-[1.6rem] font-semibold`}),n.jsx(D.LB,{sensors:h,collisionDetection:D.ey,onDragEnd:e=>{let{active:t,over:r}=e;if(t.id===r?.id)return;let n=g(t.id),l=g(r?.id),o=(0,L.Rp)(m.core.options,n,l),s=structuredClone(m);return s.core.options=o,_.mutate({form:u,inputItem:m,coreOption:s.core.options}),o},children:n.jsx(L.Fo,{items:m.core.options.map(e=>e.option_id),strategy:L.qw,children:m.core.options&&m.core.options.map((e,t)=>n.jsx(tv,{option:e,index:t,inputItem:m,controllSelect:{selectValue:r,setSelectValue:o},syncDataController:{syncData:s,setSyncData:i}},e.option_id||Math.random().toString()))})}),(0,n.jsxs)("button",{onClick:()=>{if(s.option_id_focus&&s.option_process_pending){i(e=>({...e,btn_click_add:!0}));return}p.mutate({form:u,option_id:"",option_value:"",inputItem:m})},style:{color:f&&"light"===t?d:"#000"},className:`${f?"group-hover:!bg-[#ffffff]":""} min-h-[3rem] xl:min-h-[4rem] w-[16rem] xl:w-[20rem]  bg-gray-100 px-[1rem] xl:px-[2rem] flex items-center gap-[1rem]  rounded-lg`,children:[n.jsx(G.Z,{size:16,className:""}),"Th\xeam lựa chọn"]}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-[1rem] min-h-[4rem]      ",children:[n.jsx("span",{children:"Kết quả: "}),n.jsx("p",{className:"flex flex-wrap gap-[1rem] font-medium text-[1.8rem]      max-w-[20rem] break-words",children:m.core.options.filter(e=>r.includes(e.option_id)).map(e=>n.jsx("span",{children:e.option_value},e.option_id))})]})]});return n.jsx(tu,{InputComponent:j,inputTitle:x,dataTextTitle:"Nhập ti\xeau đề ch\xednh cho c\xe1c t\xf9y chọn",inputItem:m})}),tC=(0,l.memo)(e=>{let{modeScreen:t}=(0,l.useContext)(m.$),{theme:r}=(0,l.useContext)(c.ThemeContext),{inputItem:o}=e;(0,b.v9)(e=>e.form.formCoreOriginal).form_mode_display;let s=(0,l.useRef)(null),[i,a]=(0,l.useState)(""),d=o.input_title?o.input_title:"";(0,l.useEffect)(()=>{s.current&&(s.current.textContent="",a(""))},[t]);let f=(0,n.jsxs)(V.Z,{className:`${"FULL"===t?"w-full sm:w-[75%]":"w-full"} min-h-[5rem] h-max flex flex-col  gap-[.5rem] `,onClick:()=>s.current?.focus(),children:[n.jsx(J,{textContent:"Nhập th\xf4ng tin của bạn v\xe0o \xf4 dưới",className:" text-[1.6rem] font-semibold"}),n.jsx(u.Z,{ref:s,className:" relative group   w-full min-h-[8rem] p-[1.6rem] break-words whitespace-pre-wrap h-max border-[.1rem] border-gray-300 rounded-lg outline-none resize-none ",spellCheck:!1,onKeyDown:e=>{if("Enter"===e.key){if("FULL"===t)return null;e.preventDefault()}},contentEditable:!0,onInput:e=>a(e.currentTarget.textContent||""),"data-text":`${o.core?.setting?.placeholder||"Typing your text"}`,suppressContentEditableWarning:!0,tabIndex:0})]});return n.jsx(tu,{InputComponent:f,inputTitle:d,inputItem:o})}),tN=(0,C.Z)("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]),tw=e=>{let t=(0,b.I0)(),r=(0,b.v9)(e=>e.form.formCoreOriginal),{textContent:l=f.R.buttonDesign.avatar,...o}=e,s=(0,_.D)({mutationKey:["add-background"],mutationFn:e=>v.Z.addAvatar(r),onSuccess:e=>{let{form:r}=e.metadata;t((0,x.ow)({form:r}))}});return(0,n.jsxs)("button",{...o,className:` ${o.className?o.className:""} btn-primarily min-w-[14rem]  w-max  h-[4rem] flex items-center sm:justify-center gap-[.5rem]   rounded-xl  font-bold text-[#fff] `,onClick:()=>{s.mutate(r)},children:[n.jsx(tN,{}),l]})},tk=(0,C.Z)("PanelTop",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]]),tI=e=>{let t=(0,b.I0)(),r=(0,b.v9)(e=>e.form.formCoreOriginal),{textContent:l=f.R.buttonDesign.background,...o}=e,s=(0,_.D)({mutationKey:["add-background"],mutationFn:e=>v.Z.addBackground(r),onSuccess:e=>{let{form:r}=e.metadata;t((0,x.ow)({form:r}))}});return(0,n.jsxs)("button",{...o,className:` ${o.className?o.className:""} btn-primarily min-w-[14rem] h-[4rem] w-max flex items-center sm:justify-center gap-[.5rem]   rounded-xl  font-bold text-[#fff] `,onClick:()=>{s.mutate(r)},children:[n.jsx(tk,{}),l]})};var tZ=r(91905);r(16083),r(32256);var tS=r(18780),tO=r(18324);let tT=e=>{let{FormCore:t}=e,r=t.form_color||"#f2f2f2";return n.jsx("div",{style:{backgroundColor:r},className:"px-[2rem] xl:px-0 min-h-screen h-max flex justify-center  p-[2rem]   ",children:(0,n.jsxs)(V.Z,{className:"w-full sm:w-[66.8rem] flex flex-col gap-[4rem] ",children:[n.jsx(V.Z,{className:"relative w-full min-h-[20rem] aspect-[3.01/1]",children:n.jsx(tO.Z,{formCore:t})}),n.jsx(V.Z,{className:`${({formMarginTop:e=>e?"mt-[6rem]":"mt-0",onCheckModeAvatar:e=>"circle"===e?"rounded-full":"",onCheckPositionAvatar:e=>"left"===e?"left-[calc(25%-6.4rem)] ":"center"===e?"left-[50%] translate-x-[-50%]":"right-[calc(25%-6.4rem)]"}).formMarginTop(t.form_avatar_state)} w-full flex flex-col gap-[3rem] rounded-lg`,children:n.jsx(V.Z,{className:"flex flex-col gap-[3rem]",children:n.jsx(tZ.Z,{formCore:t,form_answer_id:"",children:n.jsx(tS.Z,{formCore:t})})})})]})})},tE=e=>{let{ModelWidth:t,ModelHeight:r,ModelWrapperOpacity:o="bg-[rgba(0,0,0,.7)]",ModelBackgroud:s="bg-[#ffffff]",ModelOpacity:i=".8",ModelRounded:a="rounded-[.8rem]",children:m,setOpenModel:c}=e,d=(0,l.useRef)(null),f=`${t} ${r} ${s} ${i} ${i} ${a}`,x=(0,l.useCallback)(e=>{d.current&&!d.current.contains(e.target)&&c(!1)},[c]);return(0,l.useEffect)(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}),[x]),n.jsx(ej.Z,{children:n.jsx(V.Z,{className:`${o}  fixed z-[500] inset-0 w-full min-h-screen h-max  xl:pt-0  px-[20px] flex justify-center items-center  `,children:n.jsx(u.Z,{ref:d,className:`${f}`,children:m})})})};var tM=r(25234);let tD=e=>{let{setOpenModel:t}=e,[r,o]=(0,l.useState)("UPLOAD"),s=(0,b.I0)(),i=(0,b.v9)(e=>e.form.formCoreOriginal),a=i.form_title.form_title_color?i.form_title.form_title_color:i.form_setting_default.form_title_color_default,m=(0,_.D)({mutationKey:["upload-bg"],mutationFn:e=>v.Z.uploadCover(e),onSuccess:e=>{let{form:r}=e.metadata;s((0,x.ow)({form:r})),t(!1)}}),c=(0,_.D)({mutationKey:["delete-cover"],mutationFn:e=>v.Z.deleteCover(e),onSuccess:e=>{let{form:r}=e.metadata;s((0,x.ow)({form:r})),t(!1)}}),u=(0,l.useRef)(null);return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col ",children:[(0,n.jsxs)(V.Z,{className:"h-[10%] px-[2.2rem] flex justify-between border-b-[.1rem] border-slate-200",children:[n.jsx(V.Z,{className:"flex gap-[2rem]",children:n.jsx(ts.Z,{onClick:()=>o("UPLOAD"),className:`${({onActive:e=>e===r?"border-slate-900":"border-transparent"}).onActive("UPLOAD")}  h-full w-max flex items-center border-b-[.2rem]  hover:border-slate-900 text-[1.6rem] font-bold text-textHeader hover:text-slate-800`,textContent:"Tải ảnh l\xean"})}),(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.6rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{c.mutate(i._id)},disabled:c.isPending,children:[n.jsx(A.Z,{size:16}),"X\xf3a"]})]}),"UPLOAD"===r&&!m.isPending&&(0,n.jsxs)(ts.Z,{className:"flex-1 w-full h-full p-[2rem] hover:cursor-pointer",textContent:"",disabled:m.isPending,onClick:()=>{u.current&&u.current.click()},children:[n.jsx("input",{ref:u,type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],{_check:r,message:n}=(0,tM.s)({file:t,sizeAllowOptions:3});if(!r)return s((0,eo.DT)({toast_item:{_id:(0,es.Z)(),type:"ERROR",core:{message:n},toast_title:"Lỗi File Upload"}}));let l=new FormData;l.append("file",t),l.append("form_id",i._id),m.mutate(l)}}}),(0,n.jsxs)(V.Z,{className:"w-full h-full border-[.1rem] border-dashed border-slate-300 flex flex-col justify-center items-center gap-[1rem] text-[2rem] ",children:[n.jsx(eE,{size:28}),"Chọn file để tải l\xean"]})]}),"UPLOAD"===r&&m.isPending&&n.jsx("div",{className:"w-full h-full flex justify-center items-center",children:n.jsx(ea.Z,{color:a})})]})},tL=e=>{let{setOpenModel:t}=e,[r,o]=(0,l.useState)("UPLOAD"),s=(0,b.I0)(),i=(0,b.v9)(e=>e.form.formCoreOriginal),a=i.form_title.form_title_color?i.form_title.form_title_color:i.form_setting_default.form_title_color_default,m=(0,_.D)({mutationKey:["upload-avatar-form"],mutationFn:e=>v.Z.uploadAvatar(e),onSuccess:e=>{let{form:r}=e.metadata;s((0,x.ow)({form:r})),t(!1)}}),c=(0,_.D)({mutationKey:["delete-avatar-form"],mutationFn:({id:e,mode:t})=>v.Z.deleteAvatar(e,t),onSuccess:e=>{let{form:r}=e.metadata;s((0,x.ow)({form:r})),t(!1)}}),u=(0,l.useRef)(null);return(0,n.jsxs)(V.Z,{className:"w-full h-full flex flex-col ",children:[(0,n.jsxs)(V.Z,{className:"h-[10%] px-[2.2rem] flex justify-between border-b-[.1rem] border-slate-200",children:[n.jsx(V.Z,{className:"flex gap-[2rem]",children:n.jsx(ts.Z,{onClick:()=>o("UPLOAD"),className:`${({onActive:e=>e===r?"border-slate-900":"border-transparent"}).onActive("UPLOAD")}  h-full w-max flex items-center border-b-[.2rem]  hover:border-slate-900 text-[1.6rem] font-bold text-textHeader hover:text-slate-800`,textContent:"Tải ảnh l\xean"})}),(i.form_avatar_state||i.form_avatar?.form_avatar_url)&&(0,n.jsxs)("button",{className:"flex items-center gap-[.5rem] text-[1.6rem] font-bold text-textHeader hover:text-slate-800",onClick:()=>{let e=i.form_avatar?.form_avatar_url?"Image":"NoFile";c.mutate({id:i._id,mode:e})},disabled:c.isPending,children:[n.jsx(A.Z,{size:16}),"X\xf3a"]})]}),"UPLOAD"===r&&!m.isPending&&(0,n.jsxs)(ts.Z,{className:"flex-1 w-full h-full p-[2rem] hover:cursor-pointer",textContent:"",disabled:m.isPending,onClick:()=>{u.current&&u.current.click()},children:[n.jsx("input",{ref:u,type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],{_check:r,message:n}=(0,tM.s)({file:t,sizeAllowOptions:2});if(!r)return s((0,eo.DT)({toast_item:{_id:(0,es.Z)(),type:"ERROR",core:{message:n},toast_title:"Lỗi File Upload"}}));let l=new FormData;l.append("file",t),l.append("form_id",i._id),m.mutate(l)}}}),(0,n.jsxs)(V.Z,{className:"w-full h-full border-[.1rem] border-dashed border-slate-300 flex flex-col justify-center items-center gap-[1rem] text-[2rem] ",children:[n.jsx(eE,{size:28}),"Chọn file để tải l\xean"]})]}),"UPLOAD"===r&&m.isPending&&n.jsx("div",{className:"w-full h-full flex justify-center items-center",children:n.jsx(ea.Z,{color:a})})]})},tP=e=>{let{MODE:t,setOpenModel:r}=e;return n.jsx(tE,{ModelWidth:"w-[90%] xl:w-[80rem]",ModelHeight:"h-[45rem]",ModelWrapperOpacity:"bg-[rgba(0,0,0,.6)]",setOpenModel:r,children:(0,n.jsxs)(V.Z,{className:"w-full h-full py-[1.6rem]",children:["BACKGROUND"===t&&n.jsx(tD,{setOpenModel:r}),"AVATAR"===t&&n.jsx(tL,{setOpenModel:r})]})})},tR=()=>((0,_.D)({mutationKey:["edit-form"],mutationFn:e=>v.Z.updateForm(e)}),n.jsx(V.Z,{className:" flex items-center justify-center ",title:"Save",children:n.jsx(ts.Z,{textContent:"Save",className:"p-[.8rem] rounded-md bg-blue-500 text-white",onClick:()=>{}})}));var t$=r(63080);let tA=()=>{let{modeScreen:e,setModeScreen:t}=(0,l.useContext)(m.$),r=(0,b.v9)(e=>e.form.formCoreOriginal),[s,i]=(0,l.useState)(!1),a=r.form_background?.backgroundColor||"",c=()=>"FULL"===e?t("NORMAL"):t("FULL"),d=(0,t$.G0)({formCore:r,mode:"edit"}),f=r.form_background?.padding.x,x=r.form_background?.padding.y,p=`${x}% ${f}%`;return(0,n.jsxs)(o().Fragment,{children:[n.jsx(u.Z,{onClick:()=>i(!0),className:"absolute inset-0 z-[2]  hover:cursor-pointer max-h-[40rem] overflow-hidden",children:n.jsx("div",{style:{backgroundColor:a,padding:p},className:"relative inset-0 min-h-full  w-full overflow-hidden ",children:n.jsx(e2.default,{src:r.form_background?.form_background_iamge_url||r.form_setting_default.form_background_default_url,width:800,height:160,quality:100,style:d.style_background,unoptimized:!0,alt:"form background",className:"absolute w-full h-full max-h-[40rem]   rounded-lg"})})}),"NORMAL"===e&&(0,n.jsxs)(o().Fragment,{children:[(0,n.jsxs)(V.Z,{className:" flex xl:hidden absolute right-[1rem] top-[1rem]  gap-[1rem]",children:[n.jsx(V.Z,{className:" flex items-center justify-center ",title:"Review",children:n.jsx(ts.Z,{textContent:`Review ${e}`,className:"p-[.8rem] rounded-md bg-color-main text-text-theme",onClick:c})}),n.jsx(tR,{}),n.jsx(V.Z,{className:" flex items-center justify-center ",title:"Publish",children:n.jsx(ts.Z,{textContent:"Publish",className:"p-[.8rem] rounded-md bg-color-main text-bg-input-theme"})})]}),(0,n.jsxs)(V.Z,{className:`${d.position_buttn} hidden group-hover:flex absolute gap-[1rem]  flex-col justify-center items-end   top-[2rem] xl:top-[80%]   z-[3]`,children:[n.jsx(ts.Z,{onClick:()=>i(!0),textContent:"Thay đổi ảnh b\xeca",className:"w-[14rem] h-[3rem] sm:w-[16rem] sm:h-[4rem] px-[1rem] border-[.1rem] border-slate-150 bg-[#ffffff] rounded-lg text-[#000]"}),n.jsx(V.Z,{className:" flex sm:hidden   items-center justify-center ",title:"Review",children:n.jsx(ts.Z,{textContent:`Review ${e}`,className:"w-[14rem] h-[3rem] sm:w-[16rem] sm:h-[4rem] px-[1rem] rounded-md bg-color-main text-bg-input-theme",onClick:c})})]})]}),s&&n.jsx(tP,{setOpenModel:i,MODE:"BACKGROUND"})]})},tz=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),{openFormDesign:t}=(0,l.useContext)(a.D),[r,s]=(0,l.useState)(!1),{position:i,shape:m}=(0,t$.Lw)({formCore:e}),c=e.form_background_state||e.form_background?.form_background_iamge_url;return n.jsx(o().Fragment,{children:(0,n.jsxs)("div",{className:`
   ${t?"!h-[33rem] !max-h-[33rem] !min-h-[33rem]":""}
 ${c?"min-h-[40rem] max-h-[40rem]":"min-h-[15rem] max-h-[15rem]"}
  w-full xl:max-w-[70rem] mx-auto  relative flex items-end`,children:[n.jsx("div",{className:"absolute h-max w-full bottom-0 flex justify-center",children:n.jsx("div",{className:"relative w-full ",children:n.jsx(e2.default,{width:150,height:150,src:e.form_avatar?.form_avatar_url||e.form_setting_default.form_avatar_default_url,quality:100,onClick:()=>{s(e=>!e)},alt:"avatar",className:`${i} ${m} absolute top-[0] translate-y-[-50%] z-[3] object-center w-[14rem] h-[14rem] xl:w-[16rem] xl:h-[16rem] hover:cursor-pointer `})})}),r&&n.jsx(tP,{setOpenModel:s,MODE:"AVATAR"})]})})},tF=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),{openFormDesign:t}=(0,l.useContext)(a.D),r=e.form_background_state||e.form_background?.form_background_iamge_url;return(0,n.jsxs)(V.Z,{className:` ${t?"!h-[33rem] !max-h-[33rem] !min-h-[33rem]":""}
 ${r?"min-h-[40rem] max-h-[40rem]":"!min-h-[15rem] !max-h-[15rem]"}

 group  relative w-full xl:w-[90rem] mx-auto  px-[4rem] xl:px-0 min-h-[40rem] max-h-[40rem]`,children:[(e.form_background||e.form_background_state)&&n.jsx(tA,{}),(e.form_avatar||e.form_avatar_state)&&n.jsx(tz,{})]})},tq=e=>{(0,b.v9)(e=>e.form.formCoreOriginal);let{setOpenFormDesign:t}=(0,l.useContext)(a.D),{textContent:r=f.R.buttonDesign.custom,...o}=e;return n.jsx(n.Fragment,{children:(0,n.jsxs)("button",{...o,className:` ${o.className||""}  btn-primarily min-w-[14rem] w-max h-[4rem] flex items-center sm:justify-center gap-[.5rem]   rounded-lg  font-bold text-[#fff] `,onClick:()=>{t(e=>!e)},children:[n.jsx(tk,{}),r]})})},tH=()=>{let e=(0,b.I0)();return(0,_.D)({mutationKey:["add-input-form"],mutationFn:({form_id:e})=>h.addInput({form_id:e}),onSuccess:t=>{let{form:r}=t.metadata;e((0,x.ow)({form:r}))}})},tU=e=>{let{textContent:t="Th\xeam Input",...r}=e,l=(0,b.v9)(e=>e.form.formCoreOriginal);(0,b.v9)(e=>e.form.colorCore);let o=tH();return n.jsx("button",{...r,onClick:()=>o.mutate({form_id:l._id}),className:`${r.className||""} text-left mt-[1rem] min-w-[4rem] w-max px-[1rem] h-[4rem] xl:h-[3.2rem] flex items-center justify-center bg-color-btn-primarily  text-white rounded-lg  text-[1.6rem`,children:t})},tB=e=>{let{inputItem:t}=e,[r,o]=(0,l.useState)({value:{addressString:"",addressValidate:ee.Oy,address_full:"",addressCore:""},error:{message:""},validate:!1}),s=e=>{let{_next:r,message:n,type:l}=(0,e6.Z)({inputValue:e,inputSetting:t.core.setting});o(t=>({...t,validate:!r,value:e,error:{message:n}}))},i=(0,n.jsxs)("div",{className:"flex flex-col gap-[2rem]",children:[n.jsx(e5.Z,{detail:!0,onChange:s}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[(r.validate||r.value.addressString)&&n.jsx(te.Z,{message:r.value.addressString}),n.jsx("button",{onClick:()=>s(r.value),className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-color-btn-primarily rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),r.error.message&&n.jsx(e8,{message:r.error.message})]})]});return n.jsx(tu,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho phần địa chỉ"})},tV=e=>{let{inputItem:t}=e,r="custom"===(0,b.v9)(e=>e.form.formCoreOriginal).form_mode_display,[o,s]=(0,l.useState)({value:{href:""},error:{message:""},validate:!1}),i=e=>{s(t=>({...t,value:{href:e}}))},a=(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem] text-text-theme ",children:[n.jsx(J,{textContent:"Nhập li\xean kết của bạn",className:`${r?"group-hover:!text-[#ffffff]":"text-text-theme"} text-[1.6rem] font-semibold`}),(0,n.jsxs)(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] border-[.1rem] bg-[#fff] border-gray-400 focus:border-transparent  rounded-lg",children:[n.jsx("input",{value:o.value.href,onChange:e=>i(e.target.value),className:"w-[80%] h-full p-[1rem] rounded-lg text-[1.6rem]     outline-none   text-[#000]",placeholder:"Nhập đường dẫn li\xean kết của bạn"}),n.jsx("div",{className:"absolute z-[2] right-[1rem]  opacity-70",children:"www"})]}),(0,n.jsxs)("div",{className:"flex flex-col h-[8rem] gap-[1rem]   justify-center",children:[o.validate&&o.value.href&&n.jsx(te.Z,{message:"Đường dẫn hợp lệ"}),n.jsx("button",{onClick:()=>{let{_next:e,message:r,type:n}=(0,e7.Z)({inputValue:o.value.href,inputSetting:t.core.setting});e?s(e=>({...e,error:{message:""},validate:!0})):s(e=>({...e,error:{message:r},validate:!1}))},className:" w-[9rem] flex items-center justify-center p-[.8rem] xl:p-[1rem] bg-blue-600 rounded-lg text-[1.2rem] xl:text-[1.4rem] text-[#ffffff]",children:"X\xe1c nhận"}),o.error.message&&n.jsx(e8,{message:o.error.message})]})]});return n.jsx(tu,{InputComponent:a,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho li\xean kết"})};var tK=r(95780),tX=r(77823);let tG=e=>{let{inputItem:t}=e;(0,b.v9)(e=>e.form.formCoreOriginal);let r=(0,l.useRef)(null),[o,s]=(0,l.useState)("");(0,l.useEffect)(()=>()=>{URL.revokeObjectURL(o)},[o]);let i=n.jsx(V.Z,{className:"relative flex flex-col items-start gap-[1rem] text-text-theme ",children:(0,n.jsxs)(V.Z,{className:"h-[90%]  flex flex-col items-start  gap-[3rem] ",children:[n.jsx("button",{onClick:()=>{r.current&&r.current.click()},className:"btn-primarily min-w-[12rem]   rounded-xl",children:o?"Tải l\xean lại":"Tải ảnh l\xean"}),n.jsx("input",{type:"file",hidden:!0,ref:r,onChange:e=>{if(e.target.files){let t=e.target.files[0];t&&s(URL.createObjectURL(t))}},accept:".jpg, .jpeg, .png"}),o&&n.jsx(e2.default,{src:o,width:70,height:70,alt:"demo upload h\xecnh ảnh",className:"w-[10rem] aspect-square xl:w-[20rem]"}),o?n.jsx(tK.Z,{}):n.jsx(tX.Z,{})]})});return n.jsx(tu,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam m\xf4 tả về ng\xe0y được chọn"})},tW=e=>{let{inputItem:t}=e,r="custom"===(0,b.v9)(e=>e.form.formCoreOriginal).form_mode_display,[o,s]=(0,l.useState)(0),i=(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem] text-text-theme ",children:[n.jsx(J,{textContent:"Số điện thoại",className:`${r?"group-hover:!text-[#ffffff]":"text-text-theme"} text-[1.6rem] font-semibold`}),n.jsx(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:n.jsx("input",{value:o,type:"number",className:"w-full h-full text-text-theme p-[1rem] rounded-lg text-[1.6rem]   border-[.1rem] border-gray-400  outline-none focus:outline-blue-200 focus:border-transparent",placeholder:"Nhập số điện thoại của bạn",onChange:e=>s(+e.target.value)})}),0!=o&&!o.toString().match(e0.r)&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("span",{className:"text-[1.4rem]",children:"Số điện thoại bạn nhập kh\xf4ng hợp lệ"}),n.jsx("span",{children:"Input n\xe0y chỉ chấp nhập gi\xe1 trị l\xe0 số"})]}),0!=o&&o.toString().match(e0.r)&&n.jsx(n.Fragment,{children:n.jsx("span",{className:"text-[1.4rem]",children:"Số điện thoại bạn nhập hợp lệ"})})]});return n.jsx(tu,{InputComponent:i,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho số điện thoại"})},tY=e=>{let{inputItem:t}=e,[r,o]=(0,l.useState)(2.5),s=(0,n.jsxs)(V.Z,{className:"flex flex-col gap-[1rem]",children:[n.jsx(J,{textContent:"Đ\xe1nh gi\xe1",className:"text-[1.6rem] font-semibold"}),n.jsx(V.Z,{className:" relative min-h-[5rem] h-max flex items-center gap-[.5rem] ",children:n.jsx("div",{className:"w-max px-[2rem] h-[4rem] bg-bg-input-theme flex items-center rounded-lg ",children:n.jsx(eQ.Z,{allowHalf:!0,value:r,onChange:e=>o(e),className:""})})}),(0,n.jsxs)("span",{className:"text-[1.4rem]",children:["Số đ\xe1nh gi\xe1 bạn chọn l\xe0: ",r]})]});return n.jsx(tu,{InputComponent:s,inputItem:t,inputTitle:t.input_title||"",dataTextTitle:"Th\xeam ti\xeau đề cho đ\xe1nh gi\xe1"})},tQ=e=>e.map((e,t)=>{switch(e.type){case"TEXT":return n.jsx(tC,{inputItem:e},e._id);case"EMAIL":return n.jsx(tp,{inputItem:e},e._id);case"VOTE":return n.jsx(tY,{inputItem:e},e._id);case"PHONE":return n.jsx(tW,{inputItem:e},e._id);case"OPTION":return n.jsx(tj,{inputItem:e},e._id);case"OPTION_MULTIPLE":return n.jsx(ty,{inputItem:e},e._id);case"DATE":return n.jsx(tf,{inputItem:e},e._id);case"FILE_IMAGE":return n.jsx(tG,{inputItem:e},e._id);case"ADDRESS":return n.jsx(tB,{inputItem:e},e._id);case"ANCHOR":return n.jsx(tV,{inputItem:e},e._id);default:return n.jsx(tC,{inputItem:e},t)}}),tJ=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal);(0,b.v9)(e=>e.form.colorCore);let{modeScreen:t,setModeScreen:r}=(0,l.useContext)(m.$),{openFormDesign:o}=(0,l.useContext)(a.D),{openSidebar:s,setOpenSidebar:u}=(0,l.useContext)(i.SidebarContext),{theme:d}=(0,l.useContext)(c.ThemeContext),f=(0,M.Z)(),p=(0,b.I0)(),h=(0,l.useMemo)(()=>tQ(e.form_inputs),[e?.form_inputs]),g=t=>e.form_inputs.findIndex(e=>e._id===t),_=(0,D.Dy)((0,D.VT)(D.MA,{activationConstraint:{distance:10}}));(0,l.useEffect)(()=>{window.scrollTo(0,0)},[]);let j=e.form_avatar||e.form_background||e.form_background_state||e.form_avatar_state,v=e.form_avatar||e.form_avatar_state?"":"pt-0",y=e.form_avatar_state&&e.form_background_state?"sm:min-h-[4rem]":" sm:min-h-[7rem]";return(0,l.useEffect)(()=>{"FULL"===t&&window.scrollTo(0,0)},[t]),(0,n.jsxs)(n.Fragment,{children:["NORMAL"===t&&(0,n.jsxs)(V.Z,{className:" w-full   pb-[28rem] sm:px-0    xl:ml-0 flex flex-col gap-[3rem] text-text-theme min-h-screen h-max  ",children:[j&&n.jsx(tF,{}),n.jsx("div",{className:`mt-[8rem]
						min-h-screen h-max `,children:(0,n.jsxs)(V.Z,{className:"flex-1 px-[6rem] xl:px-[4rem] min-h-full h-max  w-full xl:max-w-[74rem] mx-auto   xl:pl-0  flex flex-col  xl:pb-[4rem] gap-[2rem]  ",children:[n.jsx(V.Z,{className:`${v}`,children:n.jsx(V.Z,{className:`${y} group max-h-[18rem] sm:max-h-[8rem] xl:min-h-max `,children:(0,n.jsxs)(V.Z,{className:"mt-[2rem] w-full xl:min-w-[80rem] xl:w-max h-full   flex flex-wrap flex-col sm:flex-row sm:items-center  gap-[2rem]",children:[n.jsx(tq,{className:`${o?"":"ml-0"}`}),(0,n.jsxs)(V.Z,{className:"flex flex-col sm:flex-row w-max  h-max sm:h-[4rem]   gap-[2rem]",children:[!e.form_avatar_state&&!e.form_avatar&&n.jsx(tw,{}),!e.form_background_state&&!e.form_background&&n.jsx(tI,{})]})]})})}),(0,n.jsxs)(V.Z,{className:`${o?"":"ml-0"}  flex flex-col gap-[4rem] min-h-full`,children:[n.jsx(B,{}),e.form_inputs.length>0&&n.jsx(V.Z,{className:"mt-[2rem] h-max w-full flex flex-col gap-[8rem] ",children:n.jsx(D.LB,{sensors:_,collisionDetection:D.ey,onDragEnd:t=>{let{active:r,over:n}=t;if(r.id===n?.id)return;let l=g(r.id),o=g(n?.id),s=(0,L.Rp)(e.form_inputs,l,o),i=structuredClone(e);return i.form_inputs=s,p((0,x.ow)({form:i})),f.mutate(i),s},children:n.jsx(L.Fo,{items:e.form_inputs.map(e=>e._id),strategy:L.qw,children:h})})}),n.jsx(tU,{}),n.jsx(ts.Z,{id:"submit",textContent:e.form_button_text,className:"bg-color-btn-primarily text-center px-[1rem] mt-[1rem] min-w-[12rem] w-max h-[5rem]  text-white rounded-lg  text-[1.6rem]",onClick:()=>{}})]})]})})]}),"FULL"===t&&(0,n.jsxs)("div",{className:`${({onCheckModeScreen:()=>"FULL"===t?" !min-h-screen !w-screen  !h-max relative   !transition-[scale] animate-modeScreen z-[50]":""}).onCheckModeScreen()}`,children:[n.jsx(V.Z,{className:"absolute right-[4rem] top-[3rem] flex items-center justify-center z-[51]",title:"Publish",children:n.jsx(ts.Z,{textContent:"Trở về Form Design",className:"p-[.8rem] rounded-lg bg-color-main  text-[#ffffff] ",onClick:()=>{r("NORMAL"),u(!0)}})}),n.jsx(tT,{FormCore:e})]})]})},t0=()=>{let e=(0,b.I0)(),t=(0,b.v9)(e=>e.form.formCoreOriginal),{isDesignForm:r,setIsDesginForm:o}=(0,l.useContext)(a.D),{theme:s}=(0,l.useContext)(c.ThemeContext),i={onCheckModeSelect:e=>e?"light"===s?"bg-slate-900 text-white":"bg-[#fff] text-color-section-theme":"light"===s?"bg-white text-slate-700 border-[.1rem] border-slate-200":"bg-colorr-section-theme text-[#fff] border-[.1rem] border-[#fff]"},m=n=>{r&&o(!0);let l=structuredClone(t);l.form_background.mode_show=n,e((0,x.ow)({form:l}))},u=!!t.form_background?.form_background_iamge_url||t.form_background_state;return(0,n.jsxs)("div",{className:"w-full h-[4rem] flex items-center gap-[2rem]",children:[n.jsx("button",{disabled:!u,onClick:()=>m("contain"),className:`${i.onCheckModeSelect(t.form_background?.mode_show==="contain")} min-w-[10rem]  h-full rounded-lg disabled:cursor-not-allowed `,children:"contain"}),n.jsx("button",{disabled:!u,onClick:()=>m("cover"),className:`${i.onCheckModeSelect(t.form_background?.mode_show==="cover")} min-w-[10rem] h-full rounded-lg disabled:cursor-not-allowed `,children:"cover"})]})};function t1(){return(t1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function t2(e,t){if(null==e)return{};var r,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(l[r]=e[r]);return l}function t4(e){var t=(0,l.useRef)(e),r=(0,l.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var t3,t5=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},t6=function(e){return"touches"in e},t8=function(e){return e&&e.ownerDocument.defaultView||self},t9=function(e,t,r){var n=e.getBoundingClientRect(),l=t6(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:t5((l.pageX-(n.left+t8(e).pageXOffset))/n.width),top:t5((l.pageY-(n.top+t8(e).pageYOffset))/n.height)}},t7=function(e){t6(e)||e.preventDefault()},re=l.memo(function(e){var t=e.onMove,r=e.onKey,n=t2(e,["onMove","onKey"]),o=(0,l.useRef)(null),s=t4(t),i=t4(r),a=(0,l.useRef)(null),m=(0,l.useRef)(!1),c=(0,l.useMemo)(function(){var e=function(e){t7(e),(t6(e)?e.touches.length>0:e.buttons>0)&&o.current?s(t9(o.current,e,a.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=m.current,l=t8(o.current),s=r?l.addEventListener:l.removeEventListener;s(n?"touchmove":"mousemove",e),s(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=o.current;if(n&&(t7(t),(!m.current||t6(t))&&n)){if(t6(t)){m.current=!0;var l=t.changedTouches||[];l.length&&(a.current=l[0].identifier)}n.focus(),s(t9(n,t,a.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),i({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[i,s]),u=c[0],d=c[1],f=c[2];return(0,l.useEffect)(function(){return f},[f]),l.createElement("div",t1({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:o,onKeyDown:d,tabIndex:0,role:"slider"}))}),rt=function(e){return e.filter(Boolean).join(" ")},rr=function(e){var t=e.color,r=e.left,n=e.top,o=rt(["react-colorful__pointer",e.className]);return l.createElement("div",{className:o,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},l.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},rn=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},rl={grad:.9,turn:360,rad:360/(2*Math.PI)},ro=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?rn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?rn(parseInt(e.substring(6,8),16)/255,2):1}},rs=function(e,t){return void 0===t&&(t="deg"),Number(e)*(rl[t]||1)},ri=function(e){var t=e.s,r=e.l;return{h:e.h,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}},ra=function(e){var t=e.s,r=e.v,n=e.a,l=(200-t)*r/100;return{h:rn(e.h),s:rn(l>0&&l<200?t*r/100/(l<=100?l:200-l)*100:0),l:rn(l/2),a:rn(n,2)}},rm=function(e){var t=ra(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},rc=function(e){var t=ra(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},ru=function(e){var t=e.h,r=e.s,n=e.v,l=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),s=n*(1-r),i=n*(1-(t-o)*r),a=n*(1-(1-t+o)*r),m=o%6;return{r:rn(255*[n,i,s,s,a,n][m]),g:rn(255*[a,n,n,i,s,s][m]),b:rn(255*[s,s,a,n,n,i][m]),a:rn(l,2)}},rd=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},rf=function(e){var t=e.r,r=e.g,n=e.b,l=e.a,o=l<1?rd(rn(255*l)):"";return"#"+rd(t)+rd(r)+rd(n)+o},rx=function(e){var t=e.r,r=e.g,n=e.b,l=e.a,o=Math.max(t,r,n),s=o-Math.min(t,r,n),i=s?o===t?(r-n)/s:o===r?2+(n-t)/s:4+(t-r)/s:0;return{h:rn(60*(i<0?i+6:i)),s:rn(o?s/o*100:0),v:rn(o/255*100),a:l}},rp=function(e){return{h:rn(e.h),s:rn(e.s),v:rn(e.v),a:rn(e.a,2)}},rh=l.memo(function(e){var t=e.hue,r=e.onChange,n=rt(["react-colorful__hue",e.className]);return l.createElement("div",{className:n},l.createElement(re,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:t5(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":rn(t),"aria-valuemax":"360","aria-valuemin":"0"},l.createElement(rr,{className:"react-colorful__hue-pointer",left:t/360,color:rm({h:t,s:100,v:100,a:1})})))}),rg=l.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:rm({h:t.h,s:100,v:100,a:1})};return l.createElement("div",{className:"react-colorful__saturation",style:n},l.createElement(re,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:t5(t.s+100*e.left,0,100),v:t5(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+rn(t.s)+"%, Brightness "+rn(t.v)+"%"},l.createElement(rr,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:rm(t)})))}),r_=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},rb="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,rj=new Map,rv=function(e){rb(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!rj.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',rj.set(t,n);var l=t3||r.nc;l&&n.setAttribute("nonce",l),t.head.appendChild(n)}},[])},ry=function(e){var t,r,n,o,s,i,a,m=e.className,c=e.colorModel,u=e.color,d=void 0===u?c.defaultColor:u,f=e.onChange,x=t2(e,["className","colorModel","color","onChange"]),p=(0,l.useRef)(null);rv(p);var h=(t=c,r=d,n=t4(f),s=(o=(0,l.useState)(function(){return t.toHsva(r)}))[0],i=o[1],a=(0,l.useRef)({color:r,hsva:s}),(0,l.useEffect)(function(){if(!t.equal(r,a.current.color)){var e=t.toHsva(r);a.current={hsva:e,color:r},i(e)}},[r,t]),(0,l.useEffect)(function(){var e;r_(s,a.current.hsva)||t.equal(e=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:e},n(e))},[s,t,n]),[s,(0,l.useCallback)(function(e){i(function(t){return Object.assign({},t,e)})},[])]),g=h[0],_=h[1],b=rt(["react-colorful",m]);return l.createElement("div",t1({},x,{ref:p,className:b}),l.createElement(rg,{hsva:g,onChange:_}),l.createElement(rh,{hue:g.h,onChange:_,className:"react-colorful__last-control"}))},rC={defaultColor:"000",toHsva:function(e){return rx(ro(e))},fromHsva:function(e){return rf(ru({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||r_(ro(e),ro(t))}},rN=function(e){return l.createElement(ry,t1({},e,{colorModel:rC}))};let rw=()=>{let e=(0,b.I0)(),t=(0,b.v9)(e=>e.form.formCoreOriginal),{isDesignForm:r,setIsDesginForm:o}=(0,l.useContext)(a.D),[s,i]=(0,l.useState)(!1),m=!!t.form_background?.form_background_iamge_url||t.form_background_state;return(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsxs)("button",{disabled:!m,onClick:()=>i(e=>!e),className:"relative flex items-center gap-[2rem] h-[4rem]",children:[n.jsx("p",{children:"M\xe0u nền "}),n.jsx("div",{className:"w-[7rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:t.form_background?.backgroundColor?n.jsx("div",{style:{backgroundColor:t.form_background.backgroundColor},className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"}):n.jsx("div",{className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center",children:"Trống"})}),s&&n.jsx(k.Z,{setOpenModel:i,children:n.jsx("button",{disabled:!m,className:"absolute top-[100%] z-[2]  left-0  disabled:cursor-not-allowed",onClick:e=>e.stopPropagation(),children:n.jsx(rN,{color:t.form_background?.backgroundColor,onChange:n=>{r||o(!0);let l=structuredClone(t);l.form_background.backgroundColor=n,e((0,x.ow)({form:l}))}})})})]}),n.jsx("span",{className:"text-[1.2rem] opacity-55",children:"Khi h\xecnh ảnh qu\xe1 nhỏ th\xec m\xe0u nền sẽ phủ tiếp cho bức ảnh, c\xf2n bức ảnh vừa th\xec m\xe0u nền sẽ kh\xf4ng hiển thị"})]})};var rk=r(70273);let rI=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.v9)(e=>e.form.colorCore),r=(0,b.I0)(),{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(a.D),{theme:i}=(0,l.useContext)(c.ThemeContext),m=(0,rk.y)((e,t)=>h(e,t),0),u=!!e.form_background?.form_background_iamge_url||e.form_background_state,d={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},f=e.form_background?.position?.left,p=e.form_background?.position?.top,h=(t,n)=>{let l=structuredClone(e),i={...l,form_background:{...l.form_background,position:{...l.form_background?.position,[n]:t}}};o||s(!0),r((0,x.Z$)({form:i}))};return(0,n.jsxs)("div",{className:" flex justify-between",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"C\xe1ch lề tr\xe1i"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:f,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"left")}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"C\xe1ch lề tr\xean"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:p,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"top")}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},rZ=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.v9)(e=>e.form.colorCore),r=(0,b.I0)(),{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(a.D),{theme:i}=(0,l.useContext)(c.ThemeContext),m=(0,rk.y)((e,t)=>h(e,t),0),u=!!e.form_background?.form_background_iamge_url||e.form_background_state,d={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},f=e.form_background?.padding.x||0,p=e.form_background?.padding.y||0,h=(t,n)=>{let l=structuredClone(e),i={...l,form_background:{...l.form_background,padding:{...l.form_background?.padding,[n]:t>0?t:0}}};o||s(!0),r((0,x.Z$)({form:i}))};return(0,l.useEffect)(()=>{},[e]),(0,n.jsxs)("div",{className:" flex justify-between",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"Padding X"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:f>0?f:0,min:0,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"x")}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"Padding Y"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:p>0?p:0,min:0,type:"number",onChange:e=>m(+e.target.value,"y"),className:" w-[80%] disabled:cursor-not-allowed  "}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},rS=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.v9)(e=>e.form.colorCore),r=(0,b.I0)(),{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(a.D),{theme:i}=(0,l.useContext)(c.ThemeContext),m=(0,rk.y)((e,t)=>h(e,t),0),u=!!e.form_background?.form_background_iamge_url||e.form_background_state,d={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},f=e.form_background?.size?.width||100,p=e.form_background?.size?.height||100,h=(t,n)=>{let l=structuredClone(e),i={...l,form_background:{...l.form_background,size:{...l.form_background?.size,[n]:t}}};o||s(!0),r((0,x.Z$)({form:i}))};return(0,n.jsxs)("div",{className:" flex justify-between gap-[2rem]",children:[(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"Chiều rộng"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:f,type:"number",min:0,className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"width")}),f?n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"}):n.jsx("span",{className:"opacity-75 text-[#000]",children:"auto"})]})]}),(0,n.jsxs)("div",{className:"flex w-[50%] flex-col gap-[.5rem] ",children:[n.jsx("span",{className:"",children:"Chiều d\xe0i"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[90%] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:p,type:"number",min:0,className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"height")}),p?n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"}):n.jsx("span",{className:"opacity-75 text-[#000]",children:"auto"})]})]})]})},rO=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.v9)(e=>e.form.colorCore),r=(0,b.I0)(),{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(a.D),{theme:i}=(0,l.useContext)(c.ThemeContext),m=(0,rk.y)((e,t)=>h(e,t),0),u=!!e.form_background?.form_background_iamge_url||e.form_background_state,d={onCheckHasBackground:e=>e?"hover:cursor-pointer":"hover:cursor-not-allowed"},f=e.form_background?.object.x,p=e.form_background?.object.y,h=(t,n)=>{let l=structuredClone(e),i={...l,form_background:{...l.form_background,object:{...l.form_background?.object,[n]:t}}};o||s(!0),r((0,x.Z$)({form:i}))};return(0,n.jsxs)("div",{className:" flex flex-col gap-[2rem]",children:[(0,n.jsxs)("div",{className:"flex flex-col  gap-[.6rem] ",children:[n.jsx("span",{className:"text-[1.3rem]",children:"Căn chỉnh ảnh theo trục ngang"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[7rem] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:f,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"x")}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col  gap-[.6rem] ",children:[n.jsx("span",{className:"text-[1.3rem]",children:"Căn chỉnh ảnh theo trục dọc"}),(0,n.jsxs)("div",{className:`${d.onCheckHasBackground(u)} w-[7rem] flex items-center gap-[1rem] h-[3rem] p-[.2rem_1rem]
border-[.1rem] border-slate-300  rounded-lg bg-[#ffffff]`,children:[n.jsx("input",{style:{color:"light"===i?t:"#000"},disabled:!u,value:p,type:"number",className:" w-[80%] disabled:cursor-not-allowed  ",onChange:e=>m(+e.target.value,"y")}),n.jsx("span",{className:"opacity-75 text-[#000]",children:"%"})]})]})]})},rT=()=>{let e=(0,b.v9)(e=>e.form.formCoreBackUp),t=!!e.form_background?.form_background_iamge_url,r=e.form_background?.form_background_iamge_url||e.form_background_state?"bg-transparent":"opacity-40 cursor-not-allowed";return(0,n.jsxs)("div",{className:`${r} flex flex-col gap-[3rem] p-[1rem] border-t-[.1rem] border-slate-200 `,children:[(0,n.jsxs)("p",{className:"font-medium",children:["T\xf9y chỉnh ảnh b\xeca ",t?"":"(Chưa upload ảnh)"]}),n.jsx(t0,{}),n.jsx("span",{className:"text-[1.2rem] opacity-55",children:"Để c\xe1c cấu h\xecnh dưới đ\xe2y ch\xednh x\xe1c hơn th\xec bạn chọn mode: Cover nh\xe9 "}),n.jsx(rS,{}),n.jsx(rO,{}),n.jsx(rI,{}),n.jsx(rZ,{}),n.jsx(rw,{})]})},rE=e=>{let{isDesignForm:t,setIsDesginForm:r}=(0,l.useContext)(a.D),{inputItem:o,typeEdit:s,setOpenColorModel:i}=e,m=(0,b.v9)(e=>e.form.formCoreOriginal),c=(0,l.useRef)(null);(0,b.v9)(e=>e.form.formCoreOriginal);let d=(0,b.I0)(),f=(0,l.useCallback)(e=>{c.current&&!c.current.contains(e.target)&&i(!1)},[i]);return(0,l.useEffect)(()=>(document.addEventListener("click",f),()=>{document.removeEventListener("click",f)}),[f]),n.jsx(u.Z,{ref:c,className:"custom-color-title  h-[10rem] ",onBlur:()=>i(!1),onClick:e=>e.stopPropagation(),children:n.jsx(rN,{color:m.form_title.form_title_color,onChange:e=>{t||r(!0);let n=structuredClone(m);"Form"===s&&(n.form_title.form_title_color=e),"Common"===s&&(n.form_setting_default.input_color=e,n.form_inputs=n.form_inputs.map(t=>(t.core.setting.input_color=e,t))),"Input"===s&&(n.form_inputs=n.form_inputs.map(t=>(t._id===o?._id&&(t.core.setting={...t.core.setting,input_color:e}),t))),d((0,x.Z$)({form:n}))}})})},rM=(e,t)=>{switch(e){case"Form":return t.form_title.form_title_color?t.form_title.form_title_color:t.form_setting_default.form_title_color_default;case"Common":case"Input":return t.form_setting_default.input_color}},rD=e=>{let{typeEdit:t}=e,[r,o]=(0,l.useState)(!1),s=(0,b.v9)(e=>e.form.formCoreOriginal);return(0,l.useMemo)(()=>rM(t,s),[s,t]),(0,n.jsxs)("div",{className:"relative max-h-[20rem] xl:h-[16rem] px-[2.5rem] flex  flex-col   xl:items-center justify-between gap-[.5rem] xl:gap-[1rem]",children:[n.jsx(rE,{setOpenColorModel:o,typeEdit:t}),n.jsx("span",{className:" text-[1.2rem] opacity-55",children:"Lưu \xfd: Chế độ chỉnh m\xe0u chỉnh kh\xf4ng hợp th\xedch với Dark mode nhưng render ra m\xe0u chữ trong form như b\xecnh thường"})]})};var rL=r(25390);/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let rP=(0,C.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),rR=e=>{let{isDesignForm:t,setIsDesginForm:r}=(0,l.useContext)(a.D),{theme:o}=(0,l.useContext)(c.ThemeContext),{typeEdit:s,inputItem:i}=e,[m,u]=(0,l.useState)(!1),d=(0,b.v9)(e=>e.form.formCoreOriginal),f=(0,b.v9)(e=>e.form.colorCore),p=d.form_title.form_title_size||d.form_setting_default.form_title_size_default,h=d.form_setting_default.input_size,[g,_]=(0,l.useState)("Form"===s?p:h),j=(0,b.I0)(),v=(0,l.useRef)(null),y=(0,l.useRef)(null);(0,l.useEffect)(()=>{m&&y.current&&v.current&&(v.current.scrollTop=y.current.offsetTop-50)},[m]);let C=(0,l.useRef)(null),N=(0,l.useCallback)(e=>{C.current&&!C.current.contains(e.target)&&m&&u(!1)},[u,m]);(0,l.useEffect)(()=>(document.addEventListener("click",N),()=>{document.removeEventListener("click",N)}),[N]);let w=(e,n)=>{let l="Form"===s?30:20;e||(e=1),"Increase"===n&&(e=e===l?l:e+=1),"Decrease"===n&&(e=1===e?1:e-=1),e>l&&"Input"===n&&(e=l),_(e),t||r(!0);let o=structuredClone(d);"Form"===s&&(o.form_title.form_title_size=e),"Common"===s&&(o.form_setting_default.input_size=e,o.form_inputs=o.form_inputs.map(t=>(t.core.setting.input_size=e,t))),"Input"===s&&(o.form_inputs=o.form_inputs.map(t=>(t._id===i?._id&&(t.core.setting={...t.core.setting,input_size:e}),t))),u(!1),j((0,x.ow)({form:o}))},k=(0,rk.y)((e,t)=>w(e,t),100),I="Form"===s?d.form_title.form_title_size||d.form_setting_default.form_title_size_default:d.form_setting_default.input_size;return(0,n.jsxs)("div",{ref:C,className:"relative w-max  max-h-[8rem] xl:h-[4rem] py-[.3rem] flex items-center justify-between gap-[1rem] bg-transparent ",children:[n.jsx("button",{className:"w-[3rem] h-[3rem] flex items-center justify-center rounded-full   border-[.1rem] border-slate-300",onClick:()=>k(I,"Decrease"),children:n.jsx(rL.Z,{size:18,style:{color:"light"==o?f:"var(--text-theme)"}})}),n.jsx("div",{className:"w-[6rem] flex items-center justify-center",children:n.jsx("input",{style:{color:"light"==o?f:"#000"},onClick:e=>{e.stopPropagation(),e.preventDefault(),u(!0)},type:"number",max:"Form"===s?30:20,onChange:e=>k(+e.target.value,"Input"),value:I,className:"w-[5rem] h-[3.6rem] text-center  bg-[#ffffff]  border-[.1rem] border-slate-300  rounded-lg outline-none"})}),n.jsx("button",{className:"w-[3rem] h-[3rem] flex items-center justify-center rounded-full   border-[.1rem] border-slate-300",onClick:()=>k(I,"Increase"),children:n.jsx(rP,{size:18,style:{color:"light"==o?f:"var(--text-theme)"}})}),m&&n.jsx("ul",{ref:v,className:"scroll-text-size absolute z-[3] top-[4rem] left-[50%] translate-x-[-50%] w-[6rem] max-h-[16rem] text-[#000]  overflow-y-scroll bg-[#ffffff] border-[.1rem] border-gray-200 outline-none",children:Array("Form"===s?30:20).fill(0).map((e,t)=>t+1===I?n.jsx("li",{ref:y,className:"bg-blue-400 p-[.2rem_2rem] hover:cursor-pointer",children:t+1},t):n.jsx("li",{onClick:()=>w(t+1,"Decrease"),className:"p-[.2rem_2rem] hover:bg-blue-200 hover:cursor-pointer",children:t+1},t))})]})},r$=(0,C.Z)("RemoveFormatting",[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]]),rA=(0,C.Z)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),rz=e=>{let{typeEdit:t,inputItem:r}=e,{isDesignForm:o,setIsDesginForm:s}=(0,l.useContext)(a.D),{theme:i}=(0,l.useContext)(c.ThemeContext),m=(0,b.v9)(e=>e.form.formCoreOriginal),u=(0,b.v9)(e=>e.form.colorCore),d=(0,b.I0)(),f="Form"===t?m.form_title.form_title_style||m.form_setting_default.form_title_style_default:r?.core.setting.input_style||m.form_setting_default.input_style,[p,h]=(0,l.useState)(f),g={onCheckStyleActive:e=>e?"border-gray-300":"border-transparent"},_=e=>{o||s(!0);let n=structuredClone(m);"Form"===t&&(n.form_title.form_title_style=e),"Common"===t&&(n.form_setting_default.input_style=e,n.form_inputs=n.form_inputs.map(t=>(t.core.setting.input_style=e,t))),"Input"===t&&(n.form_inputs=n.form_inputs.map(t=>(t._id===r?._id&&(t.core.setting={...t.core.setting,input_style:e}),t))),d((0,x.Z$)({form:n}))};return n.jsx("div",{className:" max-h-[8rem] xl:h-[4rem]  flex flex-col xl:flex-row xl:items-center justify-between",children:(0,n.jsxs)("div",{className:"flex  gap-[1rem] ",children:[n.jsx("button",{onClick:()=>{_("normal"),h("normal")},className:`${g.onCheckStyleActive("normal"===p)} p-[.2rem_.8rem] border-[.1rem]  bg-color-section-theme rounded-lg`,children:n.jsx(r$,{style:{color:"light"===i?u:"#fff"}})}),n.jsx("button",{onClick:()=>{_("italic"),h("italic")},className:`${g.onCheckStyleActive("italic"===p)}
					)} p-[.2rem_.8rem] border-[.1rem]  bg-color-section-theme rounded-lg`,children:n.jsx(rA,{style:{color:"light"===i?u:"#fff"}})})]})})},rF=e=>{let{title:t,type:r}=e;return(0,n.jsxs)("div",{className:"min-h-[30rem] flex flex-col gap-[2rem] p-[1rem]",children:[n.jsx("p",{className:"font-medium",children:t}),(0,n.jsxs)("div",{className:"flex flex-col  gap-[2rem]",children:[n.jsx(rR,{typeEdit:r}),n.jsx(rz,{typeEdit:r}),n.jsx(rD,{typeEdit:r})]})]})},rq=(0,C.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),rH=(0,C.Z)("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]),rU=(0,C.Z)("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]),rB=(0,C.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),rV=(0,C.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),rK=e=>{let{isDesignForm:t,setIsDesginForm:r}=(0,l.useContext)(a.D),{theme:o}=(0,l.useContext)(c.ThemeContext),s=(0,b.v9)(e=>e.form.formCoreOriginal),i=!!s.form_avatar?.form_avatar_url||s.form_avatar_state,m=(0,b.v9)(e=>e.form.colorCore),u=(0,b.I0)(),[d,f]=(0,l.useState)(s.form_avatar?.mode_shape||s.form_setting_default.form_avatar_default_mode),[p,h]=(0,l.useState)(s.form_avatar?.position||s.form_setting_default.form_avatar_default_postion),g={onCheckStyleActive:e=>e?" border-[#fff] border-[.1rem]":"border-transparent border-[.1rem]"},_=e=>{t||r(!0);let n=structuredClone(s),l={...n,form_avatar:{...n.form_avatar,mode_shape:e}};u((0,x.Z$)({form:l}))},j=e=>{t||r(!0);let n=structuredClone(s),l={...n,form_avatar:{...n.form_avatar,position:e}};u((0,x.Z$)({form:l}))};return(0,n.jsxs)("div",{className:"px-[2rem] flex flex-col  gap-[4rem]",children:[(0,n.jsxs)("div",{className:"flex gap-[4rem] ",children:[n.jsx("button",{disabled:!i,onClick:()=>{j("left"),h("left")},className:`${g.onCheckStyleActive("left"===p)} w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme`,children:n.jsx(rq,{size:18,style:{color:"light"===o?m:"#fff"}})}),n.jsx("button",{disabled:!i,onClick:()=>{j("center"),h("center")},className:`${g.onCheckStyleActive("center"===p)} w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme`,children:n.jsx(rH,{size:18,style:{color:"light"===o?m:"#fff"}})}),n.jsx("button",{disabled:!i,onClick:()=>{j("right"),h("right")},className:`${g.onCheckStyleActive("right"===p)} w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300  rounded-full  bg-color-section-theme`,children:n.jsx(rU,{size:18,style:{color:"light"===o?m:"#fff"}})})]}),(0,n.jsxs)("div",{className:"flex  gap-[4rem] ",children:[n.jsx("button",{disabled:!i,onClick:()=>{_("circle"),f("circle")},className:`${g.onCheckStyleActive("circle"===d)} w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme`,children:n.jsx(rB,{size:18,style:{color:"light"===o?m:"#fff"}})}),n.jsx("button",{disabled:!i,onClick:()=>{_("square"),f("square")},className:`${g.onCheckStyleActive("square"===d)} w-[3rem] h-[3rem] disabled:cursor-not-allowed flex items-center justify-center   border-[.1rem] border-slate-300   rounded-full  bg-color-section-theme`,children:n.jsx(rV,{size:18,style:{color:"light"===o?m:"#fff"}})})]})]})},rX=()=>{let e=(0,b.v9)(e=>e.form.formCoreBackUp),t=!!e?.form_avatar?.form_avatar_url||e?.form_avatar_state||!1;return(0,n.jsxs)("div",{className:`${({onCheckHasBackground:e=>e?"bg-transparent":"opacity-40 cursor-not-allowed"}).onCheckHasBackground(t)} flex flex-col gap-[4rem] p-[1rem] border-t-[.1rem] border-slate-200 `,children:[(0,n.jsxs)("p",{className:"font-medium",children:["T\xf9y chỉnh h\xecnh đại diện ",t?"":"(Chưa upload ảnh)"]}),n.jsx(rK,{})]})};var rG=r(74507);let rW=()=>{let e=(0,b.I0)(),t=(0,b.v9)(e=>e.form.formCoreOriginal),{isDesignForm:r,setIsDesginForm:o}=(0,l.useContext)(a.D),[s,i]=(0,l.useState)(!1),m=n=>{r||o(!0);let l=structuredClone(t);l.form_color=n,e((0,x.ow)({form:l}))};return t.form_background?.form_background_iamge_url||t.form_background_state,(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[(0,n.jsxs)("div",{onClick:()=>i(e=>!e),className:"relative flex items-center justify-between gap-[1rem] h-[4rem] hover:cursor-pointer",children:[n.jsx("p",{className:"",children:"M\xe0u nền "}),n.jsx("div",{className:"w-[7rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:t.form_color?n.jsx("div",{style:{backgroundColor:t.form_color},className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"}):n.jsx("div",{className:"w-[5rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center",children:"Trống"})}),s&&n.jsx(k.Z,{setOpenModel:i,children:n.jsx("button",{className:"absolute top-[100%] z-[2]  left-0  disabled:cursor-not-allowed",onClick:e=>e.stopPropagation(),children:n.jsx(rN,{color:t.form_color||"",onChange:m})})})]}),(0,n.jsxs)("button",{className:"flex items-center  justify-between gap-[2rem] ",onClick:()=>m("#f2f2f2"),children:[n.jsx("p",{className:"",children:"M\xe0u nền mặc định "}),n.jsx("div",{className:"w-[5rem] h-[3.2rem] flex items-center justify-center border-[.1rem] border-slate-300 rounded-md",children:n.jsx("div",{style:{backgroundColor:"#f2f2f2"},className:"w-[3rem] h-[1.5rem] border-[.1rem] border-slate-300 text-[1.1rem] flex items-center justify-center"})})]}),(0,n.jsxs)("button",{className:"flex items-center  justify-between gap-[2rem]",onClick:()=>m(""),children:[n.jsx("p",{className:"",children:"X\xf3a tất cả m\xe0u nền "}),n.jsx(rG.Z,{})]})]})};var rY=r(8428);let rQ=()=>{let e=(0,b.v9)(e=>e.form.formCoreOriginal),t=(0,b.v9)(e=>e.form.formCoreBackUp),[r,o]=(0,l.useState)(e.form_button_text||""),s=(0,b.I0)(),i=(0,rY.useRouter)(),{isDesignForm:m,setIsDesginForm:c}=(0,l.useContext)(a.D),d=(0,l.useRef)(null);return n.jsx("button",{className:"text-left",children:(0,n.jsxs)(V.Z,{className:"h-max flex flex-col  justify-between gap-[.6rem]",onClick:e=>{},children:[n.jsx(J,{textContent:`Nhập th\xf4ng b\xe1o lỗi`,onClick:()=>{d.current&&d.current.focus()},className:"hover:cursor-pointer"}),(0,n.jsxs)(u.Z,{spellCheck:!1,ref:d,contentEditable:!0,defaultValue:r,onBlur:r=>{let n=r.target.textContent;if(r.target.textContent&&r.target.textContent?.length>50){s((0,eo.DT)({toast_item:{_id:(0,es.Z)(),type:"ERROR",toast_title:"Độ d\xe0i vượt mức",core:{message:"Độ d\xe0i chữ tối đa 50 k\xed tự"}}})),d.current&&(d.current.textContent=t.form_button_text,o(t.form_button_text));return}let l=n||e.form_button_text;if(d.current){o(l),m||c(!0);let t=structuredClone(e);t.form_button_text=l,s((0,x.ow)({form:t})),i.push("#submit")}},className:"input-setting  border-[1px] border-slate-400 p-[.8rem_1rem] rounded-lg  outline-2 outline-blue-400",suppressContentEditableWarning:!0,children:[r,"  "]})]})})},rJ=()=>(0,n.jsxs)("div",{className:"p-[1rem] flex flex-col gap-[3rem]",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[n.jsx("p",{className:"underline font-normal",children:"M\xe0u nền của form"}),n.jsx(rW,{})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-[1rem]",children:[n.jsx("p",{className:"underline font-normal",children:"Chữ của n\xfat submit"}),n.jsx(rQ,{})]})]}),r0=()=>{let{isDesignForm:e,setOpenModelNotSave:t,setIsDesginForm:r,setOpenFormDesign:o}=(0,l.useContext)(a.D),{theme:s}=(0,l.useContext)(c.ThemeContext),i=(0,b.v9)(e=>e.form.formCoreBackUp),m=(0,b.v9)(e=>e.form.formCoreOriginal);(0,b.v9)(e=>e.form.colorCore);let u=(0,b.I0)(),d=(0,M.Z)();return n.jsx("div",{className:"scroll-desgin-custom fixed z-[104] bg-color-section-theme text-text-theme top-0 right-[0rem] h-screen overflow-y-scroll w-[28rem]  shadow-2xl",children:(0,n.jsxs)("div",{className:"relative min-h-full h-max pb-[8rem]  border-b-[.2rem] border-l-[.2rem] border-gray-200 rounded-lg ",children:[(0,n.jsxs)("div",{className:"relative w-full min-h-full h-max  py-[2rem] px-[1rem] flex flex-col  gap-[2rem]  ",children:[n.jsx("p",{className:"mt-[1rem] text-[1.6rem]  font-medium text-center pb-[2rem] border-b-[.1rem] border-[#ccc]",children:"T\xf9y biến giao diện"}),n.jsx(rJ,{}),n.jsx(rF,{title:"T\xf9y chỉnh ti\xeau đề ch\xednh",type:"Form"}),n.jsx(rT,{}),n.jsx(rX,{}),n.jsx(rF,{title:"T\xf9y chỉnh ti\xeau đề phụ",type:"Common"}),n.jsx("button",{className:"absolute top-[.6rem] right-[.6rem] p-[.6rem] text-[1.3rem] rounded-lg  text-[#fff] bg-blue-300 hover:bg-blue-500",onClick:()=>{if(e)return t(!0);u((0,x.ow)({form:i})),o(!1),r(!1)},children:"Đ\xf3ng"})]}),n.jsx(ts.Z,{textContent:"Lưu",className:"absolute right-[10%]  w-[25%] h-[4rem] text-[#fff] bg-blue-500 rounded-lg ",onClick:()=>{d.mutate(m),o(!1),r(!1),t(!1)}})]})})},r1=({params:e})=>{let{modeScreen:t}=(0,l.useContext)(m.$),{openFormDesign:r}=(0,l.useContext)(a.D),{openSidebar:o,setOpenSidebar:c}=(0,l.useContext)(i.SidebarContext),u=(0,b.v9)(e=>e.form.formCoreOriginal),d=(0,b.v9)(e=>e.form.colorCore),f=u.form_color||"bg-color-section-theme";return(0,n.jsxs)("div",{className:`${r||o?"":" w-full"} ${r&&!o&&"NORMAL"===t?"mr-[28rem]  ":""} ${o&&!r?"w-full ":""} ${r&&o?"w-[calc(100vw-50.5rem)] ":""} flex flex-col min-h-screen h-max  `,style:{"--bg-input-core":d},children:[n.jsx(s.Z,{showHeaderAction:!0}),u&&(0,n.jsxs)("div",{style:{backgroundColor:u.form_color||""},className:`${f}  flex min-h-screen h-max `,children:[n.jsx(tJ,{}),r&&"NORMAL"===t?n.jsx(r0,{}):null]})]})}},29247:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>l,default:()=>s});let n=(0,r(86843).createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\form\[id]\(owner)\edit\layout.tsx`),{__esModule:l,$$typeof:o}=n,s=n.default},91670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>l,default:()=>s});let n=(0,r(86843).createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\form\[id]\(owner)\edit\page.tsx`),{__esModule:l,$$typeof:o}=n,s=n.default},70273:(e,t,r)=>{"use strict";r.d(t,{y:()=>l});var n=r(3729);function l(e,t){let r=function(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>(...e)=>t.current?.(...e),[])}(e),l=(0,n.useRef)(0);return(0,n.useEffect)(()=>()=>window.clearTimeout(l.current),[]),(0,n.useCallback)((...e)=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>r(...e),t)},[r,t])}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,8397,7429,573,2704,8488,8420,7103,2971,2882,3934],()=>r(45699));module.exports=n})();