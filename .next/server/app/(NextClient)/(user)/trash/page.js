(()=>{var e={};e.id=6286,e.ids=[6286],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},71329:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(50482),n=r(69108),i=r(62563),a=r.n(i),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["(NextClient)",{children:["(user)",{children:["trash",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25184)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\(user)\\trash\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,81498)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\(user)\\trash\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,24077)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\(user)\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4899)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,13929)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,48206)),"C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\datla\\OneDrive\\M\xe1y t\xednh\\2024\\Thang_4\\03_04_2024\\kuroform-client\\src\\app\\(NextClient)\\(user)\\trash\\page.tsx"],u="/(NextClient)/(user)/trash/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(NextClient)/(user)/trash/page",pathname:"/trash",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95680:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23)),Promise.resolve().then(r.bind(r,10466)),Promise.resolve().then(r.bind(r,62103)),Promise.resolve().then(r.bind(r,78228)),Promise.resolve().then(r.bind(r,41920))},99521:(e,t,r)=>{Promise.resolve().then(r.bind(r,89098))},98320:(e,t,r)=>{Promise.resolve().then(r.bind(r,41626))},74507:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.367.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},57987:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var s=r(95344),n=r(3729),i=r(64260),a=r(97751),l=r(28765),o=r(94433),c=r(8428),d=r(95548),u=r(34823),m=r(70574);let x=()=>{let{openSidebar:e,setOpenSidebar:t}=(0,n.useContext)(o.SidebarContext),r=(0,c.usePathname)();return(0,s.jsxs)("div",{className:"w-full h-[6rem] flex items-center justify-between gap-[1rem] text-[1.3rem]  text-text-theme  bg-color-section-theme",children:[(0,s.jsxs)("div",{className:"flex items-center gap-[.5rem] ",children:[!e&&s.jsx(d.Z,{Icon:s.jsx(i.Z,{}),onClick:()=>t(!0)}),s.jsx(u.Z,{}),s.jsx(a.Z,{size:16}),s.jsx("span",{className:"first-letter:uppercase text-[1.4rem] font-medium",children:r.replace("/","")})]}),(0,s.jsxs)("div",{className:"flex gap-[20px] ",children:[(0,s.jsxs)("div",{className:"p-[.2rem_.8rem] flex items-center gap-[.8rem] hover:bg-slate-200 rounded-md",title:"T\xecm kiếm",children:[s.jsx(l.Z,{className:"w-[1.6rem]"}),s.jsx("span",{children:"Search"})]}),s.jsx(m.default,{})]})]})}},89098:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(95344);r(3729);var n=r(14060);let i=e=>{let{children:t}=e;return s.jsx(n.Z,{children:t})}},41626:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(95344),n=r(3729),i=r(65712),a=r(87838);let l=()=>(0,i.a)({queryKey:["get-list-form-delete"],queryFn:()=>a.Z.getListFormDelete()});var o=r(14513),c=r(10142);let d=e=>{let{content:t,callbackAction:r,callbackCancel:n}=e;return s.jsx("div",{className:"fixed z-[50] inset-0 w-screen h-screen flex justify-center items-center bg-[rgba(0,0,0,.6)]",children:s.jsx("div",{className:"w-[40rem] min-h-[12rem]",children:s.jsx(c.Z,{setOpenModel:n,children:(0,s.jsxs)("div",{className:"relative w-[40rem] min-h-full h-max  bg-[#ffffff] rounded-lg text-[#000] p-[2rem] flex flex-col justify-between",children:[s.jsx("button",{onClick:()=>n(!1),className:"absolute right-[-1.5rem] top-[-1.5rem] w-[3rem] h-[3rem]  rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(o.Z,{size:18,color:"white"})}),s.jsx("p",{className:"text-[1.4rem] leading-10",children:t}),(0,s.jsxs)("div",{className:"mt-[2rem] flex gap-[1rem] ml-auto text-[1.3rem]",children:[s.jsx("button",{className:"p-[1rem] h-[3rem] flex items-center justify-center bg-green-500 text-[#fff] rounded-lg",children:"Hủy bỏ"}),s.jsx("button",{onClick:r,className:"p-[1rem] h-[3rem] flex items-center justify-center hover:bg-red-500 hover:text-[#fff] text-red-400 rounded-lg",children:"Vẫn x\xf3a"})]})]})})})})};var u=r(72177),m=r(26274),x=r(31296),h=r(36013);let f=()=>{(0,h.I0)();let e=(0,m.NL)();return(0,x.D)({mutationKey:["delete-form-forever"],mutationFn:({form_id:e})=>a.Z.deleteFormForever({form_id:e}),onSuccess:()=>{e.invalidateQueries({queryKey:["get-list-form-delete"]})}})},p=(0,r(73098).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var g=r(74507);let _=e=>{let{form:t}=e,r=(0,u.Z)(),i=f(),[a,l]=(0,n.useState)(!1),o=(0,m.NL)(),c=(e="isPrivate")=>{r.mutate({mode:e,form_id:t._id})};return(0,n.useEffect)(()=>{r.isSuccess&&(o.invalidateQueries({queryKey:["get-list-form-delete"]}),o.invalidateQueries({queryKey:["get-form-pagination"]}))},[r.isSuccess]),(0,n.useEffect)(()=>{i.isSuccess&&(o.invalidateQueries({queryKey:["get-list-form-delete"]}),o.invalidateQueries({queryKey:["get-all-notification"]}),l(!1))},[i.isSuccess]),(0,s.jsxs)("div",{className:"min-h-[14rem] w-full xl:w-[49.2%] p-[2rem] flex flex-col justify-between text-[1.2rem] gap-[2rem] bg-red-400 rounded-lg text-[#fff]",children:[s.jsx("p",{className:"text-[1.4rem]",children:t.form_title.form_title_value.toUpperCase()||"Kh\xf4ng c\xf3 ti\xeau đề"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("button",{disabled:r.isPending,className:"flex h-[3rem] px-[1rem] rounded-lg  items-center gap-[1rem] border-[.1rem] border-red-200 bg-[#ffffff] text-red-400 hover:bg-red-50",onClick:()=>c(),children:[s.jsx(p,{size:18}),s.jsx("span",{children:"Kh\xf4i phục"})]}),(0,s.jsxs)("button",{className:"flex h-[3rem] items-center gap-[1rem] hover:text-red-200",onClick:()=>l(!0),disabled:i.isPending,children:[s.jsx(g.Z,{size:18}),s.jsx("span",{children:"X\xf3a vĩnh viễn"})]})]}),a&&s.jsx(d,{content:"Bạn chắc chắn sẽ x\xf3a chứ, mọi dữ liệu sau khi x\xf3a sẽ kh\xf4ng thể phục hồi",callbackCancel:l,callbackAction:()=>{i.mutate({form_id:t._id})}})]})};var v=r(34678),y=r(89410);let j=()=>(0,s.jsxs)("div",{className:"w-full min-h-[48rem] xl:min-h-[60rem] h-full flex flex-col items-center justify-center gap-[4rem]",children:[s.jsx(y.default,{src:"/assets/images/icon/form/form_delete_empty.png",width:200,height:200,alt:"logo",className:"w-[20rem] h-[20rem]"}),s.jsx("p",{className:"text-[2rem] text-text-theme",children:"Danh s\xe1ch x\xf3a hiện đang trống"})]}),b=()=>{let e=l();return(0,s.jsxs)("div",{className:"flex h-full flex-wrap gap-[1.4rem] ",children:[e.isSuccess&&e.data.metadata.forms.length>0&&e.data.metadata.forms.map(e=>s.jsx(_,{form:e},e._id)),e.isSuccess&&0===e.data.metadata.forms.length&&s.jsx(j,{}),e.isPending&&s.jsx("div",{className:"w-full min-h-[30rem]",children:s.jsx(v.Z,{})})]})};var k=r(57987);let N=()=>(0,s.jsxs)("div",{className:"w-full min-h-screen flex flex-col p-[.8rem_0rem_0rem_0rem] gap-[2rem] bg-color-section-theme",children:[s.jsx(k.Z,{}),(0,s.jsxs)("div",{className:"flex-1 min-h-[60rem] h-full text-text-theme bg-[var(--bg-space)] p-[0rem_2.6rem_2rem_2.6rem] rounded-[1.2rem_1.2rem_0_0]",children:[s.jsx("h3",{className:"my-[2.2rem] !text-[2.8rem]",children:"C\xe1c form đang ở chế độ Delete"}),s.jsx("div",{className:"w-full bg-[var(--color-section-theme)] p-[2.8rem] rounded-[1.2rem_1.2rem_0_0]",children:s.jsx(b,{})})]})]})},10466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6092),n=r(41011),i=r(3729);let a=()=>((0,i.useEffect)(()=>{let e=setInterval(async()=>{let e=new Date,t=new Date(JSON.parse(localStorage.getItem("expireToken")||"0"));if(1>(0,n.A)(t,e))try{await s.Z.refreshTokenServer()}catch(e){await s.Z.logoutNextClient(),window.location.href="/"}},18e5);return()=>{clearInterval(e)}},[]),null)},10142:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(95344),n=r(3729);let i=e=>{let{children:t,width:r,height:i,setOpenModel:a}=e,l=(0,n.useRef)(null),o=(0,n.useCallback)(e=>{l.current&&!l.current.contains(e.target)&&a(!1)},[a]);return(0,n.useEffect)(()=>(document.addEventListener("click",o),()=>{document.removeEventListener("click",o),l.current=null}),[o]),s.jsx("div",{ref:l,className:`${r||""} ${i||""}`,children:t})}},34823:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(95344),n=r(3729),i=r(80751),a=r(89410),l=r(56506);let o=()=>{let{theme:e}=(0,n.useContext)(i.ThemeContext);return s.jsx(l.default,{href:"/dashboard",className:"  p-[.6rem] rounded-xl",children:s.jsx(a.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[4rem] h-[4rem] object-contain",unoptimized:!0})})}},62103:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SocketContext:()=>h,SocketProvider:()=>f});var s=r(95344),n=r(96064),i=r(80123),a=r(62020),l=r(86277),o=r(42688),c=r(26274),d=r(3729),u=r(36013),m=r(33070),x=r(7892);let h=(0,d.createContext)(null),f=({children:e})=>{let[t,r]=(0,d.useState)(null),f=(0,u.I0)(),p=(0,c.NL)();return(0,d.useEffect)(()=>{if(null===t){r((0,m.io)("http://localhost:4000",{withCredentials:!0,transports:["websocket","polling","flashsocket"]}));return}function e(){t.emit("checkError",{error:"Ok"})}let s=e=>{let{total_views:t,total_answers:r,notification:s,notification_item_id:c,form_origin:d,form_answer_item_id:u}=e;f((0,i.mt)({notification:s.notifications,animation:!0})),f((0,i.aZ)({notification_item_id:c})),f((0,a.sV)({toast_item:{_id:(0,x.Z)(),type:"FormAnswer",toast_title:"Phản hồi",core:{message:`Bạn nhận được 1 phản hồi từ Form [${d?.form_title?.form_title_value||"Trống"}]`,url:`/form/${d._id}/summary#${u}`}}})),f((0,n.Ut)({total_views:t})),f((0,n.P7)({total_answers:r})),o.Z.getFormAnswer(d._id).then(e=>{let{formAnswer:t}=e.metadata;f((0,n.lB)({form_id:t.form_id,reports:t}));let{reports:r}=t,s=[...r];(0,l.Bs)(s.reverse(),t.form_id)}),p.invalidateQueries({queryKey:["get-notification-type"]})};function c(){}return t&&(t.on("connect",e),t.on("disconnect",c),t.on("add-new-reports",s),t.on("connect_error",e=>{console.error(e.message)})),()=>{t.off("connect",e),t.off("disconnect",c),t.off("add-new-notification",s)}},[t]),s.jsx(h.Provider,{value:t,children:e})}},78228:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344);r(3729);var n=r(56506),i=r(26274),a=r(31296),l=r(87838),o=r(8428);let c=e=>{let{textContent:t,urlNavigation:r,position:c="LEFT",icon:d,...u}=e,m=(0,o.useRouter)(),x=(0,i.NL)(),h=(0,a.D)({mutationKey:["create-new-form"],mutationFn:()=>l.Z.createForm(),onSuccess:e=>{let{form_id:t}=e.metadata;m.push(`/form/${t}/edit`),x.invalidateQueries({queryKey:["get-form-pagination"]})}});return(0,s.jsxs)(n.default,{onClick:()=>h.mutate(),tabIndex:-1,href:r,...u,className:`${u.className} w-full xl:w-[17rem] h-[4rem]  p-[1rem_2rem] flex  justify-center items-center gap-[.8rem] text-[1.8rem] text-[#ffffff] bg-color-main opacity-[.95] hover:opacity-100 transition-colors duration-200 rounded-[.4rem]`,children:["LEFT"===c&&d&&d,t,"RIGHT"===c&&d&&d]})}},72177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(26274),n=r(31296),i=r(87838),a=r(36013),l=r(41197);let o=()=>{let e=(0,a.I0)(),t=(0,s.NL)();return(0,n.D)({mutationKey:["change-form-mode"],mutationFn:({mode:e,form_id:t})=>i.Z.changeModeForm({mode:e,form_id:t}),onSuccess:r=>{let{form:s}=r.metadata;e((0,l.ow)({form:s})),t.invalidateQueries({queryKey:["get-form-pagination"]}),t.invalidateQueries({queryKey:["get-forms"]})}})}},24077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M,fetchCache:()=>q,generateMetadata:()=>Z});var s=r(25036);r(40002);var n=r(86843);let i=(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\provider\SocketProvider.tsx`),{__esModule:a,$$typeof:l}=i;i.default,(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\provider\SocketProvider.tsx#SocketContext`);let o=(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\provider\SocketProvider.tsx#SocketProvider`),c=(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\Layout\CheckExprireToken.tsx`),{__esModule:d,$$typeof:u}=c,m=c.default;var x=r(7439),h=r(71622),f=r(66506),p=r(4649),g=r(99346),_=r(16274);let v=(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\ui\button\ButtonCreateForm.tsx`),{__esModule:y,$$typeof:j}=v,b=v.default,k=(0,n.createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\_components\ui\button\ButtonLogOut.tsx`),{__esModule:N,$$typeof:C}=k,w=k.default,P=()=>(0,s.jsxs)("div",{className:"fixed left-0 right-0 bottom-[-.4rem] w-screen h-[6rem] text-[#000] z-[999] bg-[#fff] xl:hidden flex items-center justify-between px-[1rem]",children:[s.jsx(_.default,{href:"/settings",children:s.jsx(f.Z,{size:24})}),s.jsx(w,{className:"flex items-center gap-[1rem] text-[1.3rem]"}),s.jsx(_.default,{href:"/dashboard",children:s.jsx(p.Z,{size:24})}),s.jsx(b,{textContent:"Tạo Form",urlNavigation:"/",className:" xl:[&]:p-[4px_8px] !text-[1.2rem] !w-[10rem]",position:"LEFT"}),s.jsx(_.default,{href:"/notification",children:s.jsx(g.Z,{size:24})})]}),q="force-no-store";async function Z(){let e=(0,x.cookies)(),t=e.get("next_client_id")?.value,r=e.get("next_access_token")?.value,s=e.get("next_refresh_token")?.value,n=e.get("next_code_verify_token")?.value,{user:i}=(await h.Z.get("/v1/api/account/me",{credentials:"include",headers:{Cookie:`refresh_token=${s};access_token=${r};client_id=${t};code_verify_token=${n}`,CodeVerifyToken:n}})).metadata;return{title:i?.user_first_name+" "+i?.user_last_name,icons:{icon:[{rel:"icon",type:"image/png",url:i?.user_avatar_current||"/icon_core.png"},{rel:"icon",type:"image/ico",url:"/favicon.ico"}]}}}let M=({children:e})=>s.jsx(s.Fragment,{children:(0,s.jsxs)(o,{children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full absolute z-[2] pb-[6rem] xl:pb-0",children:e})}),s.jsx(m,{}),s.jsx(P,{})]})})},81498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\(user)\trash\layout.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default},25184:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\datla\OneDrive\Máy tính\2024\Thang_4\03_04_2024\kuroform-client\src\app\(NextClient)\(user)\trash\page.tsx`),{__esModule:n,$$typeof:i}=s,a=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,8397,7429,7439,573,867,4007,7906,8488,8420,7103,4307],()=>r(71329));module.exports=s})();