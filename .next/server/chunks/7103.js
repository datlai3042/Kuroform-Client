"use strict";exports.id=7103,exports.ids=[7103],exports.modules={14060:(e,t,a)=>{a.d(t,{Z:()=>I});var r=a(95344),s=a(3729),i=a(94433),n=a(72086),o=a(28765),l=a(13746),m=a(56506),c=a(8428),d=a(89410),u=a(36013),f=a(80751),h=a(41197),x=a(41920);n.Z,d.default,d.default;let p=()=>{let{theme:e}=(0,s.useContext)(f.ThemeContext),t=(0,u.v9)(e=>e.authReducer.user),a=(0,u.v9)(e=>e.form.focus_search);(0,c.useRouter)();let i=(0,c.usePathname)(),d=(0,u.I0)();t?.user_atlas;let p="light"===e?"text-text-theme hover:text-[#fff]":"!text-text-theme ";return(0,r.jsxs)("div",{className:"flex flex-col gap-[.8rem] text-[1.4rem] ",children:[(0,r.jsxs)(m.default,{href:"/",className:`nav ${p} ${"/dashboard"!==i||a?"nav__normal  ":"nav__isActive"} group  `,children:[r.jsx(n.Z,{size:18}),r.jsx("span",{className:"font-medium",children:"Trang chủ"})]}),(0,r.jsxs)("button",{onClick:()=>{d((0,h.vx)({focus:!0}))},className:`nav ${p} ${a?"nav__isActive":"nav__normal text-text-theme"} group hover:text-[#fff] `,children:[r.jsx(o.Z,{size:18}),r.jsx("span",{className:"font-medium",children:"T\xecm kiếm"})]}),(0,r.jsxs)(m.default,{href:"/settings",className:`nav ${p} ${"/settings"!==i||a?"nav__normal text-text-theme":"nav__isActive"} group hover:text-[#fff]`,children:[r.jsx(l.Z,{size:18}),r.jsx("span",{className:"font-medium",children:"C\xe0i đặt"})]}),r.jsx(x.default,{className:`${p} nav nav__normal `})]})};var v=a(25390),g=a(97751),j=a(95548),Z=a(71455),_=a(34678);let w=e=>{let{formCore:t}=e,{theme:a}=(0,s.useContext)(f.ThemeContext);return(0,r.jsxs)(r.Fragment,{children:[t.form_avatar?.form_avatar_url?r.jsx(d.default,{src:t.form_avatar?.form_avatar_url||"",width:18,height:18,alt:"icon",className:"w-[3rem] h-[3rem] rounded-full",unoptimized:!0}):r.jsx("div",{className:`${"light"===a?"bg-transparent":"bg-[#fff]"}  min-w-[3rem] h-[3rem] rounded-full flex items-center justify-center`,children:r.jsx(d.default,{src:"/icon_core.png",width:20,height:20,alt:"avatar",unoptimized:!0,className:"w-[2rem] h-[2rem] "})}),r.jsx("p",{className:"max-w-[80%] truncate ",children:t.form_title.form_title_value||"Chưa tạo ti\xeau đề"})]})},y=()=>{let[e,t]=(0,s.useState)(!1),{forms:a,pending:i,success:n}=(0,Z.Z)(),{theme:o}=(0,s.useContext)(f.ThemeContext),l=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,c.usePathname)(),h=e?r.jsx(v.Z,{className:"w-[1.4rem] text-[#fff] "}):r.jsx(g.Z,{className:"w-[1.4rem] text-[#fff] "}),x="dark"===o?"hover:bg-blue-400 scroll-color-main":"hover:bg-blue-100 scroll-common",p=u.startsWith("/form")&&u?.split("/form")[1].split("/edit")[0].slice(1);return(0,s.useEffect)(()=>{a.map(e=>{if(e._id===p)return t(!0)})},[u,a]),(0,s.useEffect)(()=>{e&&d.current&&l.current&&(l.current.scrollTop=d.current.offsetTop)},[u,e]),(0,r.jsxs)("div",{className:"pl-[.6rem]  flex flex-col gap-[.6rem] hover:cursor-pointer",onClick:()=>t(e=>!e),children:[n&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:"text-[1.3rem] text-[rgb(137_136_132)]",children:"Nơi l\xe0m việc"}),(0,r.jsxs)("div",{className:`nav ${u.startsWith("/form")?"nav__isActive":"nav__normal !text-text-theme "} group p-[.1rem] flex items-center gap-[1rem] text-text-theme`,children:[r.jsx(j.Z,{Icon:h,className:`${({onCheckFocus:e=>e?"bg-blue-400 text-[#fff] outline outline-[2px] outline-blue-200":"hover:border-[.1rem] hover:border-text-theme"}).onCheckFocus(e)} flex bg-color-main rounded-lg !w-[1.4rem] !h-[1.4rem]`}),r.jsx("span",{className:"group-hover:!text-[#fff]",children:"Nơi l\xe0m việc"})]}),e&&a.length>0&&r.jsx("div",{ref:l,className:`${"dark"===o?"scroll-color-main":"scroll-common"} ml-[1rem]  h-[17vh]  transition-[height] duration-500 overflow-y-scroll  flex flex-col gap-[1.4rem] text-text-them e pr-[2rem]`,children:a.map(e=>p==e._id?r.jsx(m.default,{ref:d,href:`/form/${e._id}/edit`,className:`${x} ${p===e._id?"bg-color-main text-[#fff] ":""} flex items-center w-full h-[4rem]  gap-[1rem] text-[1.4rem]  p-[.6rem_1rem] rounded-xl`,children:r.jsx(w,{formCore:e})},e._id):r.jsx(m.default,{href:`/form/${e._id}/edit`,className:`${x} ${p===e._id?"bg-color-main":""} flex items-center w-full h-[5rem]  gap-[1rem] text-[1.4rem]  p-[.6rem_1rem] `,children:r.jsx(w,{formCore:e})},e._id))}),e&&0===a.length&&r.jsx("div",{className:"p-[.4rem_2rem] text-[1.3rem] text-gray-400",children:"Danh s\xe1ch hiện đang trống"})]}),i&&r.jsx("div",{className:"w-full h-[2rem]",children:r.jsx(_.Z,{})})]})};var b=a(33037),N=a(38271);let $=()=>{let{theme:e}=(0,s.useContext)(f.ThemeContext),t=(0,c.usePathname)(),a="light"===e?"text-text-theme hover:text-[#fff]":"!text-text-theme ";return(0,r.jsxs)("div",{className:" flex flex-col gap-[.6rem] text-text-theme ",children:[r.jsx("p",{className:"pl-[.6rem] text-[1.2rem] ",children:"C\xe1c đường dẫn kh\xe1c"}),(0,r.jsxs)(m.default,{href:"/notification",className:`nav ${a} ${"/notification"===t?"nav__isActive":"nav__normal "}  `,children:[r.jsx(b.Z,{size:18}),r.jsx("span",{className:"font-medium ",children:"Quản l\xed th\xf4ng b\xe1o"})]}),(0,r.jsxs)(m.default,{href:"/trash",className:`nav ${a} ${"/trash"===t?"nav__isActive":"nav__normal "}  `,children:[r.jsx(N.Z,{}),r.jsx("span",{className:"font-medium ",children:"Th\xf9ng r\xe1c"})]})]})};var C=a(65712),F=a(43482),k=a(25152),T=a(59768),S=a(93298);let A=()=>{let e=(0,u.I0)(),{setOpenSidebar:t}=(0,s.useContext)(i.SidebarContext),{theme:a}=(0,s.useContext)(f.ThemeContext),n=(0,C.a)({queryKey:["/me"],queryFn:()=>F.Z.me()});return(0,s.useEffect)(()=>{if(n.isSuccess){let{user:t}=n.data.metadata;e((0,k.LT)({user:t}))}},[n.isSuccess,e]),(0,r.jsxs)("div",{className:`${"dark"===a?"scroll-color-main":"scroll-common"} overflow-auto max-h-[97%]  p-[1rem] flex flex-col gap-[1rem] text-text-theme text-[1.4rem]`,children:[(0,r.jsxs)("div",{className:"relative w-full mb-[1rem] flex items-center justify-center gap-[1rem]",children:[r.jsx(S.Z,{}),r.jsx(j.Z,{Icon:r.jsx(T.Z,{className:"w-[1.4rem]"}),onClick:()=>t(!1),className:" absolute top-[1rem] right-[1rem] bg-transparent hover:bg-color-main text-text-theme hover:text-[#fff] rounded-lg"})]}),r.jsx(p,{}),(0,r.jsxs)("div",{className:"mt-[1rem] flex flex-col gap-[1.8rem] text-[1.4rem]",children:[r.jsx(y,{}),r.jsx($,{})]})]})},I=({children:e})=>{let{openSidebar:t}=(0,s.useContext)(i.SidebarContext),a=(0,c.usePathname)();return(0,r.jsxs)("div",{className:`${"/dashboard"===a?"gap-[1rem]":""} relative max-w-screen min-h-screen h-max w-full   flex  `,children:[t&&r.jsx("aside",{className:`${t?"hidden sm:block":"hidden   sm:block "} sticky top-0 z-[2] w-[0%] xl:w-[19rem] xl:min-w-[19rem] h-[100vh] overflow-hidden transition-[width]  duration-1000  bg-color-section-theme`,children:t&&r.jsx(A,{})}),r.jsx("div",{className:`${({onCheckSidebar:e=>e?"w-screen  xl:w-[calc(100vw-24rem-1rem)]    duration-[300ms] min-h-screen":"w-full inset-0 duration-[600ms]"}).onCheckSidebar(t)} flex-1  min-h-full h-max transition-all   `,children:e})]})}},93298:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(95344),s=a(89410),i=a(56506);a(3729);let n=()=>r.jsx(i.default,{href:"/",children:r.jsx(s.default,{src:"/assets/images/icon/logo/logo_home.png",width:70,height:70,quality:100,alt:"logo",className:"w-[15rem] h-[12rem] object-contain",unoptimized:!0,priority:!0})})},23363:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(95344);a(3729);let s=e=>{let{children:t,...a}=e;return r.jsx("div",{...a,children:t})}},70574:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(95344),s=a(3729),i=a(80751),n=a(89410);let o=()=>{let{theme:e,setTheme:t}=(0,s.useContext)(i.ThemeContext);return(0,r.jsxs)("button",{onClick:()=>{t(e=>"dark"===e?"light":"dark")},className:"relative text-text-theme min-w-[4rem] bg-[#fff] w-[6rem] h-[3rem] rounded-full",children:[r.jsx("div",{className:`${"light"===e?"animate-rtl bg-[#fff]":" animate-ltr bg-[#fff]"} w-[2.2rem] h-[2.2rem] rounded-full absolute top-[50%] translate-y-[-50%]  `}),"light"===e?r.jsx(n.default,{src:"/assets/images/icon/theme/bg_dark.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full object-cover",unoptimized:!0}):r.jsx(n.default,{src:"/assets/images/icon/theme/bg_light.jpg",width:18,height:18,alt:"icon",className:"w-full h-full rounded-full",unoptimized:!0})]})}},95548:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(95344);a(3729);let s=e=>{let{textContent:t,Icon:a,...s}=e;return(0,r.jsxs)("button",{...s,className:`${s.className||""} min-w-[3rem] min-h-[3rem] w-max h-max flex justify-center items-center gap-[.5rem] `,children:[t&&t,a]})}},41920:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(95344),s=a(6092),i=a(31296),n=a(8428);let o=()=>{let e=(0,n.useRouter)();return(0,i.D)({mutationKey:["logout"],mutationFn:()=>s.Z.logoutNextClient(),onSuccess:()=>{e.push("/")}})};var l=a(48120);a(3729);let m=e=>{let{textContent:t="Đăng xuất",...a}=e,s=o();return(0,r.jsxs)("button",{...a,onClick:()=>s.mutate(),children:[r.jsx(l.Z,{size:18}),t]})}},34678:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(95344);a(3729);var s=a(23363);let i=()=>r.jsx(s.Z,{className:"w-full h-full animate-pulse bg-gray-200"})},87838:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(47612);class s{static async createForm(){return r.Z.post("/v1/api/form/create-form",{})}static async getAllForm(){return r.Z.get("/v1/api/form/get-all-form",{cache:"no-store"})}static async getForms(){return r.Z.get("/v1/api/form/get-forms",{cache:"no-store"})}static async getForm({form_id:e}){return r.Z.get(`/v1/api/form/get-form-id?form_id=${e}`,{cache:"no-store"})}static async getSearch({text:e}){return r.Z.get(`/v1/api/form/search?text=${e}`)}static async getFormPagination({page:e,limit:t}){return r.Z.get(`/v1/api/form/get-form-pagination?page=${e}&limit=${t}`)}static async getAllFormState(){return r.Z.get("/v1/api/form/get-all-form-state")}static async getFormBaseOnDate({date_begin:e,date_over:t}){return r.Z.get(`/v1/api/form/get-form-base-on-date?date_begin=${e}&date_over=${t}`)}static async deleteFormForever({form_id:e}){return r.Z.delete(`/v1/api/form/delete-form-forever?form_id=${e}`)}static async setTitleForm({form_id:e,value:t}){return await r.Z.post("/v1/api/form/set-title-form",{form_id:e,value:t})}static async getListFormDelete(){return r.Z.get("/v1/api/form/get-list-form-delete",{cache:"no-cache"})}static async addSubTitleItem({type:e,form_id:t}){return r.Z.post("/v1/api/form/add-sub-title-item",{type:e,form_id:t})}static async deleteTitleSubItem({title_sub_id:e,form_id:t}){return r.Z.delete(`/v1/api/form/delete-sub-title-item?form_id=${t}&title_sub_id=${e}`)}static async changeModeForm({mode:e,form_id:t}){return r.Z.post("/v1/api/form/change-form-mode",{mode:e,form_id:t})}static async changeModeDisplay({mode:e,form_id:t}){return r.Z.post("/v1/api/form/change-mode-display",{mode:e,form_id:t})}static async updateSubTitle({form_title_sub_id:e,form_title_sub_content:t,form_id:a}){return r.Z.post("/v1/api/form/update-sub-title-text",{form_title_sub_content:t,form_title_sub_id:e,form_id:a})}static async updateSubTitleDescription({header_value:e,value:t,title_sub_id:a,form_id:s}){return r.Z.post("/v1/api/form/update-sub-title-description",{header_value:e,value:t,title_sub_id:a,form_id:s})}static async setModeImageForm({form_id:e,mode:t}){return r.Z.post("/v1/api/form/update-form-title-mode-image",{form_id:e,mode:t})}static async uploadTitleImage(e){return r.Z.post("/v1/api/form/upload-sub-title-image",e)}static async deleteFormId({form_id:e}){return r.Z.delete(`/v1/api/form/delete-form-id?form_id=${e}`)}static async getFormGuess({form_id:e,options:t}){return r.Z.get(`/v1/api/form/get-form-guess?form_id=${e}`,t)}static async updateInputItemForm(e,t){return r.Z.post("/v1/api/form/update-form",{inputItem:e,form:t})}static async updateForm(e){return r.Z.post("/v1/api/form/update-form",{form:e})}static async uploadCover(e){return r.Z.post("/v1/api/form/upload-cover",e)}static async uploadAvatar(e){return r.Z.post("/v1/api/form/upload-avatar",e)}static async deleteAvatar(e,t){return r.Z.post("/v1/api/form/delete-avatar",{form_id:e,mode:t})}static async deleteCover(e){return r.Z.post("/v1/api/form/delete-cover",{form_id:e})}static async updateSettingInput(e,t,a){return r.Z.post("/v1/api/form/update-input-item-setting",{form:e,input_id:t,input_id_setting:a})}static async addBackground(e){return r.Z.post("/v1/api/form/add-background",{form:e})}static async addAvatar(e){return r.Z.post("/v1/api/form/add-avatar",{form:e})}static async getInfoFormNotification({form_id:e,notification_id:t}){return r.Z.get(`/v1/api/form/info-form-notification?form_id=${e}&notification_id=${t}`)}}let i=s},42688:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(47612);class s{static async addNewFormReport(e){return r.Z.post("/v1/api/form-answer/add-new-form-report",{formAnswer:e})}static async getFormAnswer(e){return r.Z.get(`/v1/api/form-answer/get-form-answer?form_id=${e}`)}static async getFormTotalView(){return r.Z.get("/v1/api/form-answer/get-form-view")}static async getTotalFormAnswer(){return r.Z.get("/v1/api/form-answer/get-total-form-answer")}static async uploadLoadFile(e){return r.Z.post("/v1/api/form-answer/upload-file-answers",e)}static async increaseViewFormAnswer({form_id:e}){return r.Z.post("/v1/api/form-answer/update-form-views",{form_id:e})}}let i=s},43482:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(47612);class s{static async me(){return r.Z.get("/v1/api/account/me",{credentials:"include"})}static async uploadAvatar(e){return r.Z.post("/v1/api/account/upload-avatar",e)}static async createPassword({password:e}){return r.Z.post("/v1/api/account/create-password",{password:e})}static async updatePassword({password:e,new_password:t}){return r.Z.post("/v1/api/account/update-password",{password:e,new_password:t})}}let i=s},71455:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(65712),s=a(87838),i=a(3729);let n=()=>{let[e,t]=(0,i.useState)([]),a=(0,r.a)({queryKey:["get-forms"],queryFn:()=>s.Z.getForms()});return(0,i.useEffect)(()=>{if(a.isSuccess){let{forms:e}=a.data.metadata;t(e)}},[a.isSuccess,a.data]),{forms:e,pending:a.isPending,success:a.isSuccess}}}};